import{W as $,ed as q,r as h,j as e,T as b,B as i,az as D,a1 as u,I as o,aK as I,L as g,A as y,a$ as J,b0 as K,b1 as X,bu as Z,S as m,aj as Q,c$ as T,U as v,a0 as E,G as C,b6 as A,D as Y,aD as G,aE as N,aF as z,aG as B,aH as _,f as M,aJ as P,au as ee,ck as se,ca as re,cb as ae,cc as te,cd as L,ee as ne,X as ie,b8 as le,aZ as oe,p as S,ef as w,l as ce,n as de,R as xe,eg as he,eh as pe,ei as me,ej as ue,H as je,C as ye}from"./index-D82XrlGq.js";import"./user-quick-edit-form-BrMSe5Hv.js";import"./empty-content-CAmd9egU.js";import"./filters-result-BUC8QtIh.js";import{C as p}from"./Card-Bw-3A9ev.js";import{C as F}from"./CardHeader-BbCWHGKm.js";import{A as ge}from"./AvatarGroup-BSnlJl2K.js";import{F as R}from"./Fab-CjGO5Ngr.js";import{u as be,L as fe}from"./use-light-box-dXPttcOB.js";import"./schema-helper-BcHhi0sG.js";function ve({post:s}){const{user:r}=$(),t=(r==null?void 0:r.photoURL)&&r.photoURL.trim()!=="",a=q((r==null?void 0:r.displayName)||"",r==null?void 0:r.lastName),c=h.useRef(null),n=h.useRef(null),[x,j]=h.useState(""),l=h.useCallback(d=>{j(d.target.value)},[]),f=h.useCallback(()=>{n.current&&n.current.click()},[]),k=h.useCallback(()=>{c.current&&c.current.focus()},[]),W=()=>e.jsx(F,{disableTypography:!0,avatar:e.jsx(y,{src:t?r==null?void 0:r.photoURL:void 0,alt:r==null?void 0:r.displayName,children:a}),title:e.jsx(g,{color:"inherit",variant:"subtitle1",children:r==null?void 0:r.displayName}),subheader:e.jsx(i,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:I(s.createdAt)}),action:e.jsx(u,{children:e.jsx(o,{icon:"eva:more-vertical-fill"})})}),H=()=>e.jsx(m,{spacing:1.5,sx:{px:3,pb:2},children:s.comments.map(d=>e.jsxs(i,{sx:{gap:2,display:"flex"},children:[e.jsx(y,{alt:d.author.name,src:d.author.avatarUrl}),e.jsxs(Q,{sx:{p:1.5,flexGrow:1,bgcolor:"background.neutral"},children:[e.jsxs(i,{sx:{mb:.5,display:"flex",alignItems:{sm:"center"},justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(i,{sx:{typography:"subtitle2"},children:d.author.name}),e.jsx(i,{sx:{typography:"caption",color:"text.disabled"},children:I(d.createdAt)})]}),e.jsx(i,{sx:{typography:"body2",color:"text.secondary"},children:d.message})]})]},d.id))}),O=()=>e.jsxs(i,{sx:{gap:2,display:"flex",alignItems:"center",p:"0 24px 24px 24px"},children:[e.jsx(y,{src:t?r==null?void 0:r.photoURL:void 0,alt:r==null?void 0:r.displayName,children:a}),e.jsx(T,{fullWidth:!0,value:x,inputRef:c,placeholder:"Write a comment…",onChange:l,endAdornment:e.jsxs(E,{position:"end",sx:{mr:1},children:[e.jsx(u,{size:"small",onClick:f,children:e.jsx(o,{icon:"solar:gallery-add-bold"})}),e.jsx(u,{size:"small",children:e.jsx(o,{icon:"eva:smiling-face-fill"})})]}),inputProps:{id:`comment-${s.id}-input`,"aria-label":`Comment ${s.id} input`},sx:[d=>({pl:1.5,height:40,borderRadius:1,border:`solid 1px ${v(d.vars.palette.grey["500Channel"],.32)}`})]}),e.jsx("input",{type:"file",ref:n,style:{display:"none"}})]}),V=()=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",p:"16px 24px 24px 24px"},children:[e.jsx(J,{control:e.jsx(X,{defaultChecked:!0,color:"error",icon:e.jsx(o,{icon:"solar:heart-bold"}),checkedIcon:e.jsx(o,{icon:"solar:heart-bold"}),inputProps:{id:`favorite-${s.id}-checkbox`,"aria-label":`Favorite ${s.id} checkbox`}}),label:K(s.personLikes.length),sx:{mr:1}}),!!s.personLikes.length&&e.jsx(ge,{sx:{[`& .${Z.avatar}`]:{width:32,height:32}},children:s.personLikes.map(d=>e.jsx(y,{alt:d.name,src:d.avatarUrl},d.name))}),e.jsx(i,{sx:{flexGrow:1}}),e.jsx(u,{onClick:k,children:e.jsx(o,{icon:"solar:chat-round-dots-bold"})}),e.jsx(u,{children:e.jsx(o,{icon:"solar:share-bold"})})]});return e.jsxs(p,{children:[W(),e.jsx(b,{variant:"body2",sx:{p:"24px 24px 16px 24px"},children:s.message}),e.jsx(i,{sx:{p:1},children:e.jsx(D,{alt:s.media,src:s.media,ratio:"16/9",sx:{borderRadius:1.5}})}),V(),!!s.comments.length&&H(),O()]})}function ke({info:s,posts:r}){const t=h.useRef(null),a=()=>{t.current&&t.current.click()},c=()=>e.jsx(p,{sx:{py:3,textAlign:"center",typography:"h4"},children:e.jsxs(m,{divider:e.jsx(Y,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{flexDirection:"row"},children:[e.jsxs(m,{sx:{width:1},children:[A(s.totalFollowers),e.jsx(i,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"Follower"})]}),e.jsxs(m,{sx:{width:1},children:[A(s.totalFollowing),e.jsx(i,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"Following"})]})]})}),n=()=>e.jsxs(p,{children:[e.jsx(F,{title:"About"}),e.jsxs(m,{spacing:2,sx:{p:3,typography:"body2"},children:[e.jsx(i,{children:s.quote}),e.jsxs(i,{sx:{display:"flex"},children:[e.jsx(o,{width:24,icon:"mingcute:location-fill",sx:{mr:2}}),"Live at",e.jsxs(g,{variant:"subtitle2",color:"inherit",children:[" ",s.country]})]}),e.jsxs(i,{sx:{display:"flex"},children:[e.jsx(o,{width:24,icon:"fluent:mail-24-filled",sx:{mr:2}}),s.email]}),e.jsxs(i,{sx:{display:"flex"},children:[e.jsx(o,{width:24,icon:"ic:round-business-center",sx:{mr:2}}),s.role," ","at ",e.jsxs(g,{variant:"subtitle2",color:"inherit",children:[" ",s.company]})]}),e.jsxs(i,{sx:{display:"flex"},children:[e.jsx(o,{width:24,icon:"ic:round-business-center",sx:{mr:2}}),"Studied at",e.jsxs(g,{variant:"subtitle2",color:"inherit",children:[" ",s.school]})]})]})]}),x=()=>e.jsxs(p,{sx:{p:3},children:[e.jsx(T,{multiline:!0,fullWidth:!0,rows:4,placeholder:"Share what you are thinking here...",inputProps:{id:"post-input"},sx:[l=>({p:2,mb:3,borderRadius:1,border:`solid 1px ${v(l.vars.palette.grey["500Channel"],.2)}`})]}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(i,{sx:{gap:1,display:"flex",alignItems:"center",color:"text.secondary"},children:[e.jsxs(R,{size:"small",color:"inherit",variant:"softExtended",onClick:a,children:[e.jsx(o,{icon:"solar:gallery-wide-bold",width:24,sx:{color:"success.main"}}),"Image/Video"]}),e.jsxs(R,{size:"small",color:"inherit",variant:"softExtended",children:[e.jsx(o,{icon:"solar:videocamera-record-bold",width:24,sx:{color:"error.main"}}),"Streaming"]})]}),e.jsx(M,{variant:"contained",children:"Post"})]}),e.jsx("input",{ref:t,type:"file",style:{display:"none"}})]}),j=()=>e.jsxs(p,{children:[e.jsx(F,{title:"Social"}),e.jsx(m,{spacing:2,sx:{p:3},children:G.map(l=>e.jsxs(i,{sx:{gap:2,display:"flex",typography:"body2",wordBreak:"break-all"},children:[l.value==="facebook"&&e.jsx(N,{}),l.value==="instagram"&&e.jsx(z,{}),l.value==="linkedin"&&e.jsx(B,{}),l.value==="twitter"&&e.jsx(_,{}),e.jsxs(g,{color:"inherit",children:[l.value==="facebook"&&s.socialLinks.facebook,l.value==="instagram"&&s.socialLinks.instagram,l.value==="linkedin"&&s.socialLinks.linkedin,l.value==="twitter"&&s.socialLinks.twitter]})]},l.label))})]});return e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{size:{xs:12,md:4},children:e.jsxs(m,{spacing:3,children:[c(),n(),j()]})}),e.jsx(C,{size:{xs:12,md:8},children:e.jsxs(m,{spacing:3,children:[x(),r.map(l=>e.jsx(ve,{post:l},l.id))]})})]})}function Ce({sx:s,name:r,role:t,coverUrl:a,avatarUrl:c,...n}){return e.jsx(i,{sx:[x=>({...x.mixins.bgGradient({images:[`linear-gradient(0deg, ${v(x.vars.palette.primary.darkerChannel,.8)}, ${v(x.vars.palette.primary.darkerChannel,.8)})`,`url(${a})`]}),height:1,color:"common.white"}),...Array.isArray(s)?s:[s]],...n,children:e.jsxs(i,{sx:{display:"flex",left:{md:24},bottom:{md:24},zIndex:{md:10},pt:{xs:6,md:0},position:{md:"absolute"},flexDirection:{xs:"column",md:"row"}},children:[e.jsx(y,{alt:r,src:c,sx:[x=>({mx:"auto",width:{xs:64,md:128},height:{xs:64,md:128},border:`solid 2px ${x.vars.palette.common.white}`})],children:r==null?void 0:r.charAt(0).toUpperCase()}),e.jsx(P,{primary:r,secondary:t,slotProps:{primary:{sx:{typography:"h4"}},secondary:{sx:{mt:.5,opacity:.48,color:"inherit"}}},sx:{mt:3,ml:{md:3},textAlign:{xs:"center",md:"unset"}}})]})})}function we({friends:s,searchFriends:r,onSearchFriends:t}){const a=Fe({inputData:s,query:r}),c=!a.length&&!!r;return e.jsxs(e.Fragment,{children:[e.jsxs(i,{sx:{my:5,gap:2,display:"flex",justifyContent:"space-between",flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(b,{variant:"h4",children:"Friends"}),e.jsx(ee,{value:r,onChange:t,placeholder:"Search friends...",slotProps:{input:{startAdornment:e.jsx(E,{position:"start",children:e.jsx(o,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}},sx:{width:{xs:1,sm:260}}})]}),c?e.jsx(se,{query:r,sx:{py:10}}):e.jsx(i,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},children:a.map(n=>e.jsx(Ie,{item:n},n.id))})]})}function Ie({item:s}){const r=re(),t=()=>{r.onClose(),console.info("DELETE",s.name)},a=()=>{r.onClose(),console.info("EDIT",s.name)},c=()=>e.jsx(ae,{open:r.open,anchorEl:r.anchorEl,onClose:r.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(te,{children:[e.jsxs(L,{onClick:t,sx:{color:"error.main"},children:[e.jsx(o,{icon:"solar:trash-bin-trash-bold"}),"Delete"]}),e.jsxs(L,{onClick:a,children:[e.jsx(o,{icon:"solar:pen-bold"}),"Edit"]})]})});return e.jsxs(e.Fragment,{children:[e.jsxs(p,{sx:{py:5,display:"flex",position:"relative",alignItems:"center",flexDirection:"column"},children:[e.jsx(y,{alt:s.name,src:s.avatarUrl,sx:{width:64,height:64,mb:3}}),e.jsx(g,{variant:"subtitle1",color:"text.primary",children:s.name}),e.jsx(b,{variant:"body2",sx:{color:"text.secondary",mb:1,mt:.5},children:s.role}),e.jsx(i,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:G.map(n=>e.jsxs(u,{children:[n.value==="facebook"&&e.jsx(N,{}),n.value==="instagram"&&e.jsx(z,{}),n.value==="linkedin"&&e.jsx(B,{}),n.value==="twitter"&&e.jsx(_,{})]},n.label))}),e.jsx(u,{color:r.open?"inherit":"default",onClick:r.onOpen,sx:{top:8,right:8,position:"absolute"},children:e.jsx(o,{icon:"eva:more-vertical-fill"})})]}),c()]})}function Fe({inputData:s,query:r}){return r?s.filter(({name:t,role:a})=>[t,a].some(c=>c==null?void 0:c.toLowerCase().includes(r.toLowerCase()))):s}function Pe({gallery:s}){const r=s.map(a=>({src:a.imageUrl})),t=be(r);return e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"h4",sx:{my:5},children:"Gallery"}),e.jsx(i,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},children:s.map(a=>e.jsxs(p,{sx:{cursor:"pointer",color:"common.white"},children:[e.jsx(u,{color:"inherit",sx:{top:8,right:8,zIndex:9,position:"absolute"},children:e.jsx(o,{icon:"eva:more-vertical-fill"})}),e.jsx(P,{sx:{p:3,left:0,width:1,bottom:0,zIndex:9,position:"absolute"},primary:a.title,secondary:I(a.postedAt),slotProps:{primary:{noWrap:!0,sx:{typography:"subtitle1"}},secondary:{sx:{mt:.5,opacity:.48,color:"inherit"}}}}),e.jsx(D,{alt:"Gallery",ratio:"1/1",src:a.imageUrl,onClick:()=>t.onOpen(a.imageUrl),slotProps:{overlay:{sx:c=>({backgroundImage:`linear-gradient(to bottom, transparent 0%, ${c.vars.palette.common.black} 75%)`})}}})]},a.id))}),e.jsx(fe,{index:t.selected,slides:r,open:t.open,close:t.onClose})]})}function Ae({followers:s}){const r=s.slice(4,8).map(n=>n.id),[t,a]=h.useState(r),c=h.useCallback(n=>{const x=t.includes(n)?t.filter(j=>j!==n):[...t,n];a(x)},[t]);return e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"h4",sx:{my:5},children:"Followers"}),e.jsx(i,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},children:s.map(n=>e.jsx(Le,{follower:n,selected:t.includes(n.id),onSelected:()=>c(n.id)},n.id))})]})}function Le({follower:s,selected:r,onSelected:t,sx:a,...c}){return e.jsxs(p,{sx:[n=>({display:"flex",alignItems:"center",p:n.spacing(3,2,3,3)}),...Array.isArray(a)?a:[a]],...c,children:[e.jsx(y,{alt:s==null?void 0:s.name,src:s==null?void 0:s.avatarUrl,sx:{width:48,height:48,mr:2}}),e.jsx(P,{primary:s==null?void 0:s.name,secondary:e.jsxs(e.Fragment,{children:[e.jsx(o,{icon:"mingcute:location-fill",width:16,sx:{flexShrink:0,mr:.5}}),s==null?void 0:s.country]}),slotProps:{primary:{noWrap:!0},secondary:{noWrap:!0,sx:{mt:.5,display:"flex",alignItems:"center",typography:"caption",color:"text.disabled"}}}}),e.jsx(M,{size:"small",variant:r?"text":"outlined",color:r?"success":"inherit",startIcon:r?e.jsx(o,{width:18,icon:"eva:checkmark-fill",sx:{mr:-.75}}):null,onClick:t,sx:{flexShrink:0,ml:1.5},children:r?"Followed":"Follow"})]})}const Se=[{value:"",label:"Profile",icon:e.jsx(o,{width:24,icon:"solar:user-id-bold"})},{value:"followers",label:"Followers",icon:e.jsx(o,{width:24,icon:"solar:heart-bold"})},{value:"friends",label:"Friends",icon:e.jsx(o,{width:24,icon:"solar:users-group-rounded-bold"})},{value:"gallery",label:"Gallery",icon:e.jsx(o,{width:24,icon:"solar:gallery-wide-bold"})}],U="tab";function Re(){const s=ne(),t=ie().get(U)??"",{user:a}=$(),[c,n]=h.useState(""),x=h.useCallback(l=>{n(l.target.value)},[]),j=(l,f)=>{const k=new URLSearchParams({[U]:f}).toString();return f?`${l}?${k}`:l};return e.jsxs(le,{children:[e.jsx(oe,{heading:"Profile",links:[{name:"Dashboard",href:S.dashboard.root},{name:"User",href:S.dashboard.user.root},{name:a==null?void 0:a.displayName}],sx:{mb:{xs:3,md:5}}}),e.jsxs(p,{sx:{mb:3,height:290},children:[e.jsx(Ce,{role:w.role,name:a==null?void 0:a.displayName,avatarUrl:a==null?void 0:a.photoURL,coverUrl:w.coverUrl}),e.jsx(i,{sx:{width:1,bottom:0,zIndex:9,px:{md:3},display:"flex",position:"absolute",bgcolor:"background.paper",justifyContent:{xs:"center",md:"flex-end"}},children:e.jsx(ce,{value:t,children:Se.map(l=>e.jsx(de,{component:xe,value:l.value,icon:l.icon,label:l.label,href:j(s,l.value)},l.value))})})]}),t===""&&e.jsx(ke,{info:w,posts:he}),t==="followers"&&e.jsx(Ae,{followers:pe}),t==="friends"&&e.jsx(we,{friends:me,searchFriends:c,onSearchFriends:x}),t==="gallery"&&e.jsx(Pe,{gallery:ue})]})}const Ue={title:`User profile | Dashboard - ${ye.appName}`};function We(){return e.jsxs(e.Fragment,{children:[e.jsx(je,{children:e.jsxs("title",{children:[" ",Ue.title]})}),e.jsx(Re,{})]})}export{We as default};
