import{j as e,S as m,T as a,K as n,b3 as l,bv as se,eH as ee,bq as ae,br as oe,B as c,I as P,bc as R,D as L,V as le,Y as te,cU as de,r as k,y as ce,z as me,O as Z,cN as re,p as ie,F as ue,aB as xe,aq as he,f as K,bm as pe,eI as be,bn as q,ee as F,Q as x,c3 as D,eJ as ve}from"./index-cNRh_qft.js";import{c as je}from"./property-_4o4UaMH.js";import{C as w}from"./Card-C_-31fGp.js";import{G as o}from"./Grid-BAAHJ7js.js";function ge(){return e.jsx(w,{sx:{p:4},children:e.jsxs(m,{spacing:4,children:[e.jsxs(m,{spacing:1,children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600},children:"Informações Básicas"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"Preencha os dados principais do imóvel"})]}),e.jsxs(m,{spacing:3,children:[e.jsx(n.Text,{name:"titulo",label:"Título do Imóvel",placeholder:"Ex: Apartamento 3 Quartos Vila Madalena",required:!0,helperText:"Escolha um título atrativo e descritivo"}),e.jsx(n.Text,{name:"descricao",label:"Descrição",placeholder:"Descreva as características do imóvel...",multiline:!0,rows:4,helperText:"Detalhe as principais características e diferenciais do imóvel"}),e.jsx(n.Number,{name:"preco",label:"Preço",placeholder:"Ex: 350000",formatThousands:!0,required:!0,helperText:"Valor do imóvel em reais",InputProps:{startAdornment:"R$"}}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsxs(n.Select,{name:"finalidade",label:"Finalidade",required:!0,helperText:"Tipo de negociação",children:[e.jsx(l,{value:"venda",children:"Venda"}),e.jsx(l,{value:"aluguel",children:"Aluguel"}),e.jsx(l,{value:"venda_aluguel",children:"Venda e Aluguel"})]})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsxs(n.Select,{name:"tipo",label:"Tipo de Imóvel",required:!0,helperText:"Classificação do imóvel",children:[e.jsx(l,{value:"apartamento",children:"Apartamento"}),e.jsx(l,{value:"casa",children:"Casa"}),e.jsx(l,{value:"sobrado",children:"Sobrado"}),e.jsx(l,{value:"cobertura",children:"Cobertura"}),e.jsx(l,{value:"kitnet",children:"Kitnet"}),e.jsx(l,{value:"loft",children:"Loft"}),e.jsx(l,{value:"comercial",children:"Comercial"}),e.jsx(l,{value:"terreno",children:"Terreno"})]})})]}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:3,children:e.jsx(n.Number,{name:"area",label:"Área (m²)",placeholder:"Ex: 85",formatThousands:!0,required:!0,helperText:"Área útil do imóvel"})}),e.jsx(o,{item:!0,xs:12,md:3,children:e.jsx(n.Number,{name:"quartos",label:"Quartos",placeholder:"Ex: 3",helperText:"Número de quartos"})}),e.jsx(o,{item:!0,xs:12,md:3,children:e.jsx(n.Number,{name:"banheiros",label:"Banheiros",placeholder:"Ex: 2",helperText:"Número de banheiros"})}),e.jsx(o,{item:!0,xs:12,md:3,children:e.jsx(n.Number,{name:"vagasGaragem",label:"Vagas Garagem",placeholder:"Ex: 1",helperText:"Número de vagas"})})]}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsxs(n.Select,{name:"status",label:"Status",helperText:"Situação atual do imóvel",children:[e.jsx(l,{value:"available",children:"Disponível"}),e.jsx(l,{value:"sold",children:"Vendido"}),e.jsx(l,{value:"reserved",children:"Reservado"})]})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsxs(n.Select,{name:"condicao",label:"Condição",helperText:"Estado de conservação",children:[e.jsx(l,{value:"novo",children:"Novo"}),e.jsx(l,{value:"seminovo",children:"Semi-novo"}),e.jsx(l,{value:"usado",children:"Usado"}),e.jsx(l,{value:"reformado",children:"Reformado"}),e.jsx(l,{value:"a_reformar",children:"A reformar"})]})})]}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(n.Switch,{name:"precoNegociavel",label:"Preço Negociável",helperText:"Marque se aceita negociação"})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(n.Switch,{name:"mobiliado",label:"Mobiliado",helperText:"Imóvel vem com móveis"})})]})]})]})})}const fe=[{value:"AC",label:"Acre (AC)"},{value:"AL",label:"Alagoas (AL)"},{value:"AP",label:"Amapá (AP)"},{value:"AM",label:"Amazonas (AM)"},{value:"BA",label:"Bahia (BA)"},{value:"CE",label:"Ceará (CE)"},{value:"DF",label:"Distrito Federal (DF)"},{value:"ES",label:"Espírito Santo (ES)"},{value:"GO",label:"Goiás (GO)"},{value:"MA",label:"Maranhão (MA)"},{value:"MT",label:"Mato Grosso (MT)"},{value:"MS",label:"Mato Grosso do Sul (MS)"},{value:"MG",label:"Minas Gerais (MG)"},{value:"PA",label:"Pará (PA)"},{value:"PB",label:"Paraíba (PB)"},{value:"PR",label:"Paraná (PR)"},{value:"PE",label:"Pernambuco (PE)"},{value:"PI",label:"Piauí (PI)"},{value:"RJ",label:"Rio de Janeiro (RJ)"},{value:"RN",label:"Rio Grande do Norte (RN)"},{value:"RS",label:"Rio Grande do Sul (RS)"},{value:"RO",label:"Rondônia (RO)"},{value:"RR",label:"Roraima (RR)"},{value:"SC",label:"Santa Catarina (SC)"},{value:"SP",label:"São Paulo (SP)"},{value:"SE",label:"Sergipe (SE)"},{value:"TO",label:"Tocantins (TO)"}];function ye(){return e.jsx(w,{sx:{p:4},children:e.jsxs(m,{spacing:4,children:[e.jsxs(m,{spacing:1,children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600},children:"Localização"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"Informe o endereço completo do imóvel"})]}),e.jsxs(m,{spacing:3,children:[e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:8,children:e.jsx(n.Text,{name:"endereco.rua",label:"Rua",placeholder:"Ex: Rua das Flores",required:!0,helperText:"Nome da rua, avenida ou logradouro"})}),e.jsx(o,{item:!0,xs:12,md:4,children:e.jsx(n.Text,{name:"endereco.numero",label:"Número",placeholder:"Ex: 123",required:!0,helperText:"Número do imóvel"})})]}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(n.Text,{name:"endereco.complemento",label:"Complemento",placeholder:"Ex: Apto 45, Bloco B",helperText:"Apartamento, bloco, casa, etc."})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(n.Text,{name:"endereco.andar",label:"Andar",placeholder:"Ex: 5º andar",helperText:"Andar do imóvel (se aplicável)"})})]}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(n.Text,{name:"endereco.bairro",label:"Bairro",placeholder:"Ex: Vila Madalena",required:!0,helperText:"Nome do bairro"})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(n.Text,{name:"endereco.cidade",label:"Cidade",placeholder:"Ex: São Paulo",required:!0,helperText:"Nome da cidade"})})]}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsxs(n.Select,{name:"endereco.estado",label:"Estado (UF)",placeholder:"Selecione o estado",required:!0,helperText:"Selecione o estado brasileiro",children:[e.jsx(l,{value:"",disabled:!0,children:"Selecione o estado"}),fe.map(j=>e.jsx(l,{value:j.value,children:j.label},j.value))]})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(n.Cep,{name:"endereco.cep",label:"CEP",placeholder:"Ex: 01234-567",required:!0,helperText:"Código postal da região"})})]}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(n.Text,{name:"endereco.nomeEdificio",label:"Nome do Edifício",placeholder:"Ex: Edifício Copacabana",helperText:"Nome do prédio ou condomínio"})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsxs(n.Select,{name:"endereco.posicaoSolar",label:"Posição Solar",helperText:"Orientação do imóvel",children:[e.jsx(l,{value:"",children:"Não informado"}),e.jsx(l,{value:"nascente",children:"Nascente (Leste)"}),e.jsx(l,{value:"poente",children:"Poente (Oeste)"}),e.jsx(l,{value:"norte",children:"Norte"}),e.jsx(l,{value:"sul",children:"Sul"}),e.jsx(l,{value:"nascente_poente",children:"Nascente/Poente"}),e.jsx(l,{value:"norte_sul",children:"Norte/Sul"})]})})]})]})]})})}function Se(){const{watch:j,setValue:i}=se(),v=j("comodidades")||{},t=(u,g)=>{i(`comodidades.${u}`,g)};return e.jsx(w,{sx:{p:4},children:e.jsxs(m,{spacing:4,children:[e.jsxs(m,{spacing:1,children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600},children:"Características"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"Detalhe as características específicas do imóvel"})]}),e.jsxs(m,{spacing:3,children:[e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:4,children:e.jsx(n.Number,{name:"suites",label:"Suítes",placeholder:"Ex: 1",helperText:"Número de suítes"})}),e.jsx(o,{item:!0,xs:12,md:4,children:e.jsx(n.Text,{name:"anoConstucao",label:"Ano de Construção",placeholder:"Ex: 2020",helperText:"Ano que foi construído"})}),e.jsx(o,{item:!0,xs:12,md:4,children:e.jsxs(n.Select,{name:"condicaoImovel",label:"Condição do Imóvel",helperText:"Estado de conservação",children:[e.jsx(l,{value:"novo",children:"Novo"}),e.jsx(l,{value:"seminovo",children:"Semi-novo"}),e.jsx(l,{value:"usado",children:"Usado"}),e.jsx(l,{value:"reformado",children:"Reformado"}),e.jsx(l,{value:"a_reformar",children:"A reformar"})]})})]}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:4,children:e.jsx(n.Switch,{name:"elevador",label:"Elevador",helperText:"Prédio possui elevador"})}),e.jsx(o,{item:!0,xs:12,md:4,children:e.jsx(n.Switch,{name:"sacada",label:"Sacada/Varanda",helperText:"Possui sacada ou varanda"})}),e.jsx(o,{item:!0,xs:12,md:4,children:e.jsx(n.Switch,{name:"temDocumentacao",label:"Documentação Regular",helperText:"Possui documentação regularizada"})})]}),e.jsx(a,{variant:"h6",sx:{mt:3,mb:2},children:"Comodidades do Imóvel"}),e.jsx(ee,{children:e.jsx(o,{container:!0,spacing:2,children:[{key:"arCondicionado",label:"Ar Condicionado"},{key:"aquecimento",label:"Aquecimento"},{key:"churrasqueira",label:"Churrasqueira"},{key:"lareira",label:"Lareira"},{key:"jardim",label:"Jardim"},{key:"quintal",label:"Quintal"},{key:"areaServico",label:"Área de Serviço"},{key:"despensa",label:"Despensa"},{key:"closet",label:"Closet"},{key:"escritorio",label:"Escritório"},{key:"lavabo",label:"Lavabo"},{key:"dependenciaEmpregada",label:"Dependência de Empregada"}].map(u=>e.jsx(o,{item:!0,xs:12,sm:6,md:4,children:e.jsx(ae,{control:e.jsx(oe,{checked:v[u.key]||!1,onChange:g=>t(u.key,g.target.checked)}),label:u.label})},u.key))})}),e.jsx(a,{variant:"h6",sx:{mt:3,mb:2},children:"Comodidades do Condomínio"}),e.jsx(ee,{children:e.jsx(o,{container:!0,spacing:2,children:[{key:"piscina",label:"Piscina"},{key:"academia",label:"Academia"},{key:"salaFestas",label:"Salão de Festas"},{key:"playground",label:"Playground"},{key:"quadraEsportes",label:"Quadra de Esportes"},{key:"sauna",label:"Sauna"},{key:"salaoJogos",label:"Salão de Jogos"},{key:"jardimComum",label:"Jardim Comum"},{key:"portaria24h",label:"Portaria 24h"},{key:"seguranca",label:"Segurança"},{key:"interfone",label:"Interfone"},{key:"circuitoFechado",label:"Circuito Fechado"}].map(u=>e.jsx(o,{item:!0,xs:12,sm:6,md:4,children:e.jsx(ae,{control:e.jsx(oe,{checked:v[`condominio_${u.key}`]||!1,onChange:g=>t(`condominio_${u.key}`,g.target.checked)}),label:u.label})},u.key))})})]})]})})}function Ce(){return e.jsx(w,{sx:{p:4},children:e.jsxs(m,{spacing:4,children:[e.jsxs(m,{spacing:1,children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600},children:"Imagens do Imóvel"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"Adicione fotos que destacam as características do imóvel"})]}),e.jsxs(m,{spacing:3,children:[e.jsx(n.Upload,{name:"imagens",multiple:!0,thumbnail:!0,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},helperText:"Arraste e solte as imagens aqui ou clique para selecionar",sx:{"& .MuiBox-root":{minHeight:200,borderRadius:2,border:"2px dashed",borderColor:"divider","&:hover":{borderColor:"primary.main",bgcolor:"action.hover"}}}}),e.jsx(c,{sx:{p:3,bgcolor:"background.neutral",borderRadius:2,border:"1px dashed",borderColor:"divider"},children:e.jsxs(m,{spacing:2,children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(P,{icon:"solar:camera-bold",sx:{color:"primary.main"}}),e.jsx(a,{variant:"subtitle2",color:"primary.main",children:"Dicas para boas fotos"})]}),e.jsxs(m,{spacing:1,children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"• Fotografe todos os cômodos do imóvel"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"• Inclua fotos da sala, quartos, cozinha e banheiros"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"• Fotografe durante o dia com boa iluminação natural"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"• Mostre a vista das janelas e sacadas"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"• Destaque características especiais (piscina, jardim, etc.)"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"• Inclua fotos da fachada e áreas comuns do prédio"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"• Fotografe a garagem e área de serviço"})]})]})})]})]})})}function Ee(){return e.jsx(w,{sx:{p:4},children:e.jsxs(m,{spacing:4,children:[e.jsxs(m,{spacing:1,children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600},children:"Dados do Proprietário"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"Informe os dados de contato do proprietário do imóvel"})]}),e.jsxs(m,{spacing:3,children:[e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(n.Text,{name:"proprietario.nome",label:"Nome do Proprietário",placeholder:"Ex: João Silva",required:!0,helperText:"Nome completo do proprietário"})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(n.Text,{name:"proprietario.email",label:"Email",placeholder:"Ex: joao@email.com",required:!0,helperText:"Email para contato"})})]}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(n.Phone,{name:"proprietario.telefone",label:"Telefone",placeholder:"(11) 99999-9999",required:!0,helperText:"Telefone com DDD"})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsx(n.Document,{name:"proprietario.documento",label:"CPF/CNPJ",placeholder:"123.456.789-00 ou 12.345.678/0001-90",required:!0,helperText:"Documento de identificação"})})]})]})]})})}function Te(){var z,E,y,G,O,J,W,T,C,B,N,_,Q,U;const{watch:j}=se(),i=j(),v=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d||0),t=d=>({available:"Disponível",sold:"Vendido",reserved:"Reservado"})[d]||d,u=d=>({apartamento:"Apartamento",casa:"Casa",sobrado:"Sobrado",cobertura:"Cobertura",kitnet:"Kitnet",loft:"Loft",chacara:"Chácara",fazenda:"Fazenda",sitio:"Sítio",comercial:"Comercial",industrial:"Industrial"})[d]||d,g=d=>({venda:"Venda",aluguel:"Aluguel",venda_aluguel:"Venda e Aluguel"})[d]||d,H=d=>({novo:"Novo",seminovo:"Semi-novo",usado:"Usado",reformado:"Reformado",a_reformar:"A reformar"})[d]||d,h=d=>({norte:"Norte",sul:"Sul",leste:"Leste",oeste:"Oeste",nordeste:"Nordeste",noroeste:"Noroeste",sudeste:"Sudeste",sudoeste:"Sudoeste"})[d]||d,Y=d=>{if(!d)return"Nenhuma comodidade selecionada";const S=Object.entries(d).filter(([V,s])=>s===!0).map(([V,s])=>({arCondicionado:"Ar Condicionado",aquecimento:"Aquecimento",churrasqueira:"Churrasqueira",lareira:"Lareira",jardim:"Jardim",quintal:"Quintal",areaServico:"Área de Serviço",despensa:"Despensa",closet:"Closet",escritorio:"Escritório",lavabo:"Lavabo",dependenciaEmpregada:"Dependência de Empregada",condominio_piscina:"Piscina",condominio_academia:"Academia",condominio_salaFestas:"Salão de Festas",condominio_playground:"Playground",condominio_quadraEsportes:"Quadra de Esportes",condominio_sauna:"Sauna",condominio_salaoJogos:"Salão de Jogos",condominio_jardimComum:"Jardim Comum",condominio_portaria24h:"Portaria 24h",condominio_seguranca:"Segurança",condominio_interfone:"Interfone",condominio_circuitoFechado:"Circuito Fechado"})[V]||V);return S.length>0?S.join(", "):"Nenhuma comodidade selecionada"};return e.jsx(w,{sx:{p:4},children:e.jsxs(m,{spacing:4,children:[e.jsxs(m,{spacing:1,children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600},children:"Revisão dos Dados"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"Confira todas as informações antes de finalizar o cadastro"})]}),e.jsxs(m,{spacing:4,children:[e.jsxs(c,{children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(P,{icon:"solar:home-bold",sx:{color:"primary.main"}}),e.jsx(a,{variant:"h6",color:"primary.main",children:"Informações Básicas"})]}),e.jsxs(o,{container:!0,spacing:2,children:[e.jsxs(o,{item:!0,xs:12,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Título"}),e.jsx(a,{variant:"body1",sx:{fontWeight:500},children:i.titulo||"Não informado"})]}),i.descricao&&e.jsxs(o,{item:!0,xs:12,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Descrição"}),e.jsx(a,{variant:"body2",children:i.descricao})]}),e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Preço"}),e.jsxs(a,{variant:"body1",sx:{fontWeight:600,color:"success.main"},children:[v(i.preco),i.precoNegociavel&&e.jsx(R,{label:"Negociável",size:"small",color:"info",sx:{ml:1}})]})]}),i.area&&e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Área"}),e.jsxs(a,{variant:"body1",children:[i.area.toLocaleString("pt-BR")," m²"]})]}),e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Finalidade"}),e.jsx(a,{variant:"body1",children:g(i.finalidade)})]}),e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Tipo"}),e.jsx(a,{variant:"body1",children:u(i.tipo)})]}),e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Status"}),e.jsx(R,{label:t(i.status),color:i.status==="available"?"success":"default",size:"small"})]}),e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Condição"}),e.jsx(a,{variant:"body1",children:H(i.condicao)})]})]})]}),e.jsx(L,{}),e.jsxs(c,{children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(P,{icon:"solar:settings-bold",sx:{color:"primary.main"}}),e.jsx(a,{variant:"h6",color:"primary.main",children:"Características do Imóvel"})]}),e.jsxs(o,{container:!0,spacing:2,children:[e.jsxs(o,{item:!0,xs:12,md:3,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Quartos"}),e.jsx(a,{variant:"body1",children:i.quartos||0})]}),e.jsxs(o,{item:!0,xs:12,md:3,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Suítes"}),e.jsx(a,{variant:"body1",children:i.suites||0})]}),e.jsxs(o,{item:!0,xs:12,md:3,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Banheiros"}),e.jsx(a,{variant:"body1",children:i.banheiros||0})]}),e.jsxs(o,{item:!0,xs:12,md:3,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Vagas de Garagem"}),e.jsx(a,{variant:"body1",children:i.vagasGaragem||0})]}),i.anoConstucao&&e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Ano de Construção"}),e.jsx(a,{variant:"body1",children:i.anoConstucao})]}),i.posicaoSolar&&e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Posição Solar"}),e.jsx(a,{variant:"body1",children:h(i.posicaoSolar)})]}),e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Documentação"}),e.jsx(R,{label:i.temDocumentacao?"Regularizada":"Pendente",color:i.temDocumentacao?"success":"warning",size:"small"})]}),e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Elevador"}),e.jsx(R,{label:i.elevador?"Sim":"Não",color:i.elevador?"success":"default",size:"small"})]}),e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Sacada/Varanda"}),e.jsx(R,{label:i.sacada?"Sim":"Não",color:i.sacada?"success":"default",size:"small"})]}),e.jsxs(o,{item:!0,xs:12,md:4,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Mobiliado"}),e.jsx(R,{label:i.mobiliado?"Sim":"Não",color:i.mobiliado?"success":"default",size:"small"})]})]})]}),e.jsx(L,{}),e.jsxs(c,{children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(P,{icon:"solar:map-point-bold",sx:{color:"primary.main"}}),e.jsx(a,{variant:"h6",color:"primary.main",children:"Localização"})]}),e.jsxs(a,{variant:"body1",children:[(z=i.endereco)==null?void 0:z.rua,", ",(E=i.endereco)==null?void 0:E.numero,((y=i.endereco)==null?void 0:y.complemento)&&`, ${i.endereco.complemento}`]}),((G=i.endereco)==null?void 0:G.andar)&&e.jsxs(a,{variant:"body2",color:"text.secondary",children:["Andar: ",i.endereco.andar]}),((O=i.endereco)==null?void 0:O.nomeEdificio)&&e.jsxs(a,{variant:"body2",color:"text.secondary",children:["Edifício: ",i.endereco.nomeEdificio]}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:[(J=i.endereco)==null?void 0:J.bairro,", ",(W=i.endereco)==null?void 0:W.cidade," - ",(T=i.endereco)==null?void 0:T.estado]}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:["CEP: ",(C=i.endereco)==null?void 0:C.cep]})]}),e.jsx(L,{}),e.jsxs(c,{children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(P,{icon:"solar:star-bold",sx:{color:"primary.main"}}),e.jsx(a,{variant:"h6",color:"primary.main",children:"Comodidades"})]}),e.jsx(a,{variant:"body2",children:Y(i.comodidades)})]}),e.jsx(L,{}),e.jsxs(c,{children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(P,{icon:"solar:camera-bold",sx:{color:"primary.main"}}),e.jsx(a,{variant:"h6",color:"primary.main",children:"Imagens"})]}),e.jsxs(a,{variant:"body1",children:[((B=i.imagens)==null?void 0:B.length)||0," imagem(ns) selecionada(s)"]})]}),e.jsx(L,{}),e.jsxs(c,{children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(P,{icon:"solar:user-bold",sx:{color:"primary.main"}}),e.jsx(a,{variant:"h6",color:"primary.main",children:"Proprietário"})]}),e.jsxs(o,{container:!0,spacing:2,children:[e.jsxs(o,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Nome"}),e.jsx(a,{variant:"body1",children:((N=i.proprietario)==null?void 0:N.nome)||"Não informado"})]}),e.jsxs(o,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Email"}),e.jsx(a,{variant:"body1",children:((_=i.proprietario)==null?void 0:_.email)||"Não informado"})]}),e.jsxs(o,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"Telefone"}),e.jsx(a,{variant:"body1",children:((Q=i.proprietario)==null?void 0:Q.telefone)||"Não informado"})]}),e.jsxs(o,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"subtitle2",color:"text.secondary",children:"CPF/CNPJ"}),e.jsx(a,{variant:"body1",children:((U=i.proprietario)==null?void 0:U.documento)||"Não informado"})]})]})]})]})]})})}const Pe=Z({titulo:x().min(1,"Título é obrigatório"),descricao:x().optional(),preco:D.number().min(.01,"Preço deve ser maior que zero"),precoNegociavel:q().optional(),area:D.number().optional(),finalidade:F(["venda","aluguel","venda_aluguel"]).default("venda"),tipo:F(["apartamento","casa","sobrado","cobertura","kitnet","loft","chacara","fazenda","sitio","comercial","industrial"]).default("apartamento"),status:F(["available","sold","reserved"]).default("available"),condicao:F(["novo","seminovo","usado","reformado","a_reformar"]).default("usado"),quartos:D.number().min(0).optional(),banheiros:D.number().min(0).optional(),vagasGaragem:D.number().min(0).optional(),mobiliado:q().optional(),endereco:Z({rua:x().min(1,"Rua é obrigatória"),numero:x().min(1,"Número é obrigatório"),complemento:x().optional(),bairro:x().min(1,"Bairro é obrigatório"),cidade:x().min(1,"Cidade é obrigatória"),estado:x().min(2,"Estado é obrigatório").max(2,"Use a sigla do estado"),cep:x().min(8,"CEP deve ter 8 dígitos"),andar:x().optional(),nomeEdificio:x().optional(),posicaoSolar:F(["norte","sul","leste","oeste","nordeste","noroeste","sudeste","sudoeste"]).optional()}),suites:D.number().min(0).optional(),anoConstucao:x().optional(),condicaoImovel:F(["novo","seminovo","usado","reformado","a_reformar"]).optional(),elevador:q().optional(),sacada:q().optional(),temDocumentacao:q().default(!1),comodidades:be(q()).optional(),imagens:pe(ve(File)).optional(),proprietario:Z({nome:x().min(1,"Nome do proprietário é obrigatório"),email:x().email("Email inválido").min(1,"Email é obrigatório"),telefone:x().min(1,"Telefone é obrigatório"),documento:x().min(1,"CPF/CNPJ é obrigatório")})}),M=[{label:"Informações Básicas",description:"Título, preço e detalhes gerais",component:ge,fields:["titulo","descricao","preco","precoNegociavel","area","finalidade","tipo","status","condicao","quartos","banheiros","vagasGaragem","mobiliado"]},{label:"Localização",description:"Endereço completo do imóvel",component:ye,fields:["endereco.rua","endereco.numero","endereco.complemento","endereco.bairro","endereco.cidade","endereco.estado","endereco.cep","endereco.andar","endereco.nomeEdificio","endereco.posicaoSolar"]},{label:"Características",description:"Comodidades e características específicas",component:Se,fields:["suites","anoConstucao","condicaoImovel","elevador","sacada","temDocumentacao","comodidades"]},{label:"Imagens",description:"Fotos do imóvel",component:Ce,fields:["imagens"]},{label:"Proprietário",description:"Dados do proprietário",component:Ee,fields:["proprietario.nome","proprietario.email","proprietario.telefone","proprietario.documento"]},{label:"Revisão",description:"Confirme os dados antes de salvar",component:Te,fields:[]}];function Re(){console.log("🚀🚀🚀 PropertyWizardForm component loaded - WIZARD FORM ATIVO 🚀🚀🚀");const j=le(),i=te(),{currentRealEstate:v}=de(),[t,u]=k.useState(0),[g,H]=k.useState({}),[h,Y]=k.useState(!1),[z,E]=k.useState(""),y=ce({resolver:me(Pe),mode:"onChange",defaultValues:{titulo:"",descricao:"",preco:void 0,precoNegociavel:!1,area:void 0,finalidade:"venda",tipo:"apartamento",status:"available",condicao:"usado",quartos:void 0,banheiros:void 0,vagasGaragem:void 0,mobiliado:!1,endereco:{rua:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",cep:"",andar:"",nomeEdificio:"",posicaoSolar:void 0},suites:void 0,anoConstucao:"",condicaoImovel:void 0,elevador:!1,sacada:!1,temDocumentacao:!1,comodidades:{},imagens:[],proprietario:{nome:"",email:"",telefone:"",documento:""}}}),{handleSubmit:G,reset:O,trigger:J,watch:W,formState:{errors:T}}=y,C=W(["titulo","preco"]);console.log("👀 Valores observados:",{titulo:C[0],preco:C[1]});const B=()=>t===M.length-1,N=k.useCallback(async()=>{console.log("🔍 validateCurrentStep - activeStep:",t);const s=M[t].fields;if(console.log("🔍 currentStepFields:",s),s.length===0)return console.log("✅ Etapa de revisão - sem validação necessária"),!0;if(t===0){console.log("🔍 Etapa 1 - validando campos obrigatórios");const p=["titulo","preco"];try{const r=y.getValues();console.log("🔍 Valores atuais:",{titulo:r.titulo,preco:r.preco,area:r.area,finalidade:r.finalidade,tipo:r.tipo,status:r.status});const b=(await Promise.all(p.map(async f=>{const I=await J(f);return console.log(`🔍 Campo ${f} válido:`,I),I}))).every(f=>f===!0);return console.log("🔍 Resultado final etapa 1:",b),console.log("🔍 Erros atuais:",T),b}catch(r){return console.error("🔍 Erro na validação da etapa 1:",r),!1}}if(t===1){const r=y.getValues().endereco,A=(r==null?void 0:r.rua)&&r.rua.trim().length>0,b=(r==null?void 0:r.numero)&&r.numero.trim().length>0,f=(r==null?void 0:r.bairro)&&r.bairro.trim().length>0,I=(r==null?void 0:r.cidade)&&r.cidade.trim().length>0,$=(r==null?void 0:r.estado)&&r.estado.trim().length>0,ne=(r==null?void 0:r.cep)&&r.cep.trim().length>=8,X=A&&b&&f&&I&&$&&ne;return console.log("🔍 Resultado etapa 2 (localização):",X),X}if(t===4){const r=y.getValues().proprietario,A=(r==null?void 0:r.nome)&&r.nome.trim().length>0,b=(r==null?void 0:r.email)&&r.email.trim().length>0&&r.email.includes("@"),f=(r==null?void 0:r.telefone)&&r.telefone.trim().length>0,I=(r==null?void 0:r.documento)&&r.documento.trim().length>0,$=A&&b&&f&&I;return console.log("🔍 Resultado etapa 5 (proprietário):",$),$}return console.log("🔍 Etapa opcional:",t),!0},[t,y]),_=()=>M[t].fields.filter(r=>{const A=r.split(".");let b=T;for(const f of A)b=b==null?void 0:b[f];return b}).length>0?"Por favor, preencha todos os campos obrigatórios desta etapa.":"Todos os campos desta etapa estão válidos!";k.useEffect(()=>{console.log("🔄 useEffect de validação executado - activeStep:",t),console.log("🔄 Dependências do useEffect:",{activeStep:t,errorsCount:Object.keys(T).length,formValid:h,watchedValues:{titulo:C[0],preco:C[1]}});const p=setTimeout(async()=>{console.log("🔄 Iniciando validação..."),console.log("🔄 Estado atual antes da validação:",{formValid:h});const r=await N();console.log("🔄 Resultado da validação:",r),console.log("🔄 Estado anterior formValid:",h),h!==r?(console.log("🔄 Estado formValid vai mudar de",h,"para",r),Y(r)):console.log("🔄 Estado formValid permanece o mesmo:",r),E(_()),console.log("🔄 Validação concluída")},100);return()=>clearTimeout(p)},[t,N,T,h,C]);const Q=async()=>{if(!await N()){E(_());return}const p={...g};p[t]=!0,H(p),B()||(u(r=>r+1),E(""))},U=()=>{u(s=>s-1),E("")},d=G(async s=>{console.log("🎯 Submetendo formulário wizard:",s),i.onTrue();try{v!=null&&v.id||console.log("⚠️ Nenhuma imobiliária selecionada. Usando ID padrão para teste.");const p={name:s.titulo,title:s.titulo,description:s.descricao||"Imóvel criado via formulário wizard",totalArea:s.area,value:s.preco,status:s.status,type:s.tipo,purpose:s.finalidade,condition:s.condicao,acceptsFinancing:s.precoNegociavel||!1,bedrooms:s.quartos,bathrooms:s.banheiros,parkingSpaces:s.vagasGaragem,furnished:s.mobiliado,suites:s.suites,yearBuilt:s.anoConstucao,elevator:s.elevador,balcony:s.sacada,hasDocumentation:s.temDocumentacao,amenities:s.comodidades,address:{street:s.endereco.rua,number:s.endereco.numero,complement:s.endereco.complemento,neighborhood:s.endereco.bairro,city:s.endereco.cidade,state:s.endereco.estado,zipCode:s.endereco.cep,floor:s.endereco.andar,buildingName:s.endereco.nomeEdificio,sunPosition:s.endereco.posicaoSolar},owner:{name:s.proprietario.nome,email:s.proprietario.email,phone:s.proprietario.telefone,document:s.proprietario.documento},imagens:s.imagens||[],realEstateId:(v==null?void 0:v.id)||"test-real-estate-id"};console.log("Dados para API:",p),await je(p),re.success("Imóvel criado com sucesso!"),O(),j.push(ie.dashboard.property.root)}catch(p){console.error("Erro ao criar imóvel:",p),re.error("Erro ao criar imóvel. Verifique os dados e tente novamente.")}finally{i.onFalse()}}),S=()=>{const s=M[t].component;return e.jsx(s,{})},V=(t+1)/M.length*100;return e.jsx(ue,{methods:y,onSubmit:d,children:e.jsxs(c,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[e.jsx(c,{sx:{mb:4,textAlign:"center"},children:e.jsxs(c,{sx:{mb:3},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[e.jsxs(a,{variant:"body2",color:"text.secondary",children:["Etapa ",t+1," de ",M.length]}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:[Math.round(V),"% concluído"]})]}),e.jsx(xe,{variant:"determinate",value:V,sx:{height:8,borderRadius:4,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:4,background:g[t]?"linear-gradient(90deg, #4caf50 0%, #66bb6a 100%)":"linear-gradient(90deg, #1976d2 0%, #42a5f5 100%)"}}})]})}),z&&e.jsx(he,{severity:h?"success":"warning",sx:{mb:3,borderRadius:2},children:z}),e.jsx(c,{sx:{mb:4,backgroundColor:"background.paper",borderRadius:3,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",overflow:"hidden",transition:"all 0.3s ease-in-out","&:hover":{boxShadow:"0 8px 30px rgba(0, 0, 0, 0.12)"}},children:S()}),e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(K,{disabled:t===0,onClick:U,variant:"outlined",size:"large",sx:{minWidth:120},children:"Voltar"}),e.jsxs(c,{sx:{display:"flex",gap:2},children:[e.jsx(K,{variant:"outlined",size:"large",onClick:()=>j.push(ie.dashboard.property.root),disabled:i.value,children:"Cancelar"}),B()?e.jsx(K,{type:"submit",variant:"contained",size:"large",loading:i.value,disabled:!h,sx:{minWidth:140,bgcolor:"success.main","&:hover":{bgcolor:"success.dark"}},children:"Finalizar"}):e.jsx(K,{onClick:Q,variant:"contained",size:"large",disabled:!h,sx:{minWidth:140,bgcolor:h?"black":"grey.400",color:h?"white":"text.disabled","&:hover":{bgcolor:h?"#333":"grey.500",color:h?"white":"inherit"},"&:disabled":{bgcolor:"grey.300",color:"text.disabled"}},children:"Continuar"})]})]})]})})}export{Re as P};
