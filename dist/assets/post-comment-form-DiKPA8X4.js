import{af as ve,ae as Ce,r as d,ag as Pe,u as we,bW as Ge,ab as Qe,c9 as _e,am as B,ah as J,s as K,j as e,cK as Ze,ao as X,ai as De,ak as ee,cL as Je,cM as Ye,a_ as Xe,al as et,a as tt,B as A,c as ke,T as W,A as ot,aJ as st,aK as it,aD as at,aE as nt,aF as rt,aG as lt,aH as ct,I as Y,U as xe,aS as pt,aV as dt,f as Fe,N as ce,D as le,bp as mt,V as ut,Y as ft,y as Ae,z as Le,O as Re,cN as xt,p as bt,F as Ee,S as V,Q as O,K as C,cO as be,bc as ge,bq as ye,aQ as he,a1 as re}from"./index-cNRh_qft.js";import{s as Se}from"./schema-helper-D18en8Wv.js";import{M as gt}from"./markdown-sdGgeBYa.js";import{E as yt}from"./empty-content-BzM3Az2z.js";import{Z as ht}from"./Zoom-BvRwL0eJ.js";import{F as Me}from"./Fab-Dt3-pcZY.js";import{C as je}from"./Card-C_-31fGp.js";import{C as Te}from"./CardHeader-CZZHKPlX.js";function St(t){return Ce("MuiSpeedDial",t)}const Q=ve("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),jt=t=>{const{classes:s,open:i,direction:m}=t,p={root:["root",`direction${X(m)}`],fab:["fab"],actions:["actions",!i&&"actionsClosed"]};return De(p,St,s)};function H(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}const F=32,_=16,Tt=K("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:i}=t;return[s.root,s[`direction${X(i.direction)}`]]}})(ee(({theme:t})=>({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none",variants:[{props:{direction:"up"},style:{flexDirection:"column-reverse",[`& .${Q.actions}`]:{flexDirection:"column-reverse",marginBottom:-F,paddingBottom:_+F}}},{props:{direction:"down"},style:{flexDirection:"column",[`& .${Q.actions}`]:{flexDirection:"column",marginTop:-F,paddingTop:_+F}}},{props:{direction:"left"},style:{flexDirection:"row-reverse",[`& .${Q.actions}`]:{flexDirection:"row-reverse",marginRight:-F,paddingRight:_+F}}},{props:{direction:"right"},style:{flexDirection:"row",[`& .${Q.actions}`]:{flexDirection:"row",marginLeft:-F,paddingLeft:_+F}}}]}))),vt=K(Me,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,s)=>s.fab})({pointerEvents:"auto"}),Ct=K("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,s)=>{const{ownerState:i}=t;return[s.actions,!i.open&&s.actionsClosed]}})({display:"flex",pointerEvents:"auto",variants:[{props:({ownerState:t})=>!t.open,style:{transition:"top 0s linear 0.2s",pointerEvents:"none"}}]}),Pt=d.forwardRef(function(s,i){const m=Pe({props:s,name:"MuiSpeedDial"}),p=we(),b={enter:p.transitions.duration.enteringScreen,exit:p.transitions.duration.leavingScreen},{ariaLabel:u,FabProps:{ref:f,...l}={},children:g,className:L,direction:h="up",hidden:R=!1,icon:P,onBlur:$,onClose:x,onFocus:E,onKeyDown:n,onMouseEnter:c,onMouseLeave:y,onOpen:j,open:N,openIcon:pe,slots:te={},slotProps:q={},TransitionComponent:oe,TransitionProps:se,transitionDuration:ie=b,...w}=m,[S,D]=Ge({controlled:N,default:!1,name:"SpeedDial",state:"open"}),M={...m,open:S,direction:h},U=jt(M),k=Qe(),z=d.useRef(0),T=d.useRef(),v=d.useRef([]);v.current=[v.current[0]];const I=d.useCallback(o=>{v.current[0]=o},[]),Ie=_e(f,I),Oe=(o,a)=>r=>{v.current[o+1]=r,a&&a(r)},$e=o=>{n&&n(o);const a=o.key.replace("Arrow","").toLowerCase(),{current:r=a}=T;if(o.key==="Escape"){D(!1),v.current[0].focus(),x&&x(o,"escapeKeyDown");return}if(H(a)===H(r)&&H(a)!==void 0){o.preventDefault();const ne=a===r?1:-1,G=Je(z.current+ne,0,v.current.length-1);v.current[G].focus(),z.current=G,T.current=r}};d.useEffect(()=>{S||(z.current=0,T.current=void 0)},[S]);const de=o=>{o.type==="mouseleave"&&y&&y(o),o.type==="blur"&&$&&$(o),k.clear(),o.type==="blur"?k.start(0,()=>{D(!1),x&&x(o,"blur")}):(D(!1),x&&x(o,"mouseLeave"))},Ue=o=>{l.onClick&&l.onClick(o),k.clear(),S?(D(!1),x&&x(o,"toggle")):(D(!0),j&&j(o,"toggle"))},me=o=>{o.type==="mouseenter"&&c&&c(o),o.type==="focus"&&E&&E(o),k.clear(),S||k.start(0,()=>{D(!0),j&&j(o,{focus:"focus",mouseenter:"mouseEnter"}[o.type])})},ae=u.replace(/^[^a-z]+|[^\w:.-]+/gi,""),ue=d.Children.toArray(g).filter(o=>d.isValidElement(o)),ze=ue.map((o,a)=>{const{FabProps:{ref:r,...ne}={},tooltipPlacement:G}=o.props,qe=G||(H(h)==="vertical"?"left":"top");return d.cloneElement(o,{FabProps:{...ne,ref:Oe(a,r)},delay:30*(S?a:ue.length-a),open:S,tooltipPlacement:qe,id:`${ae}-action-${a}`})}),Be={transition:oe,...te},Ke={transition:se,...q},fe={slots:Be,slotProps:Ke},[Ne,Ve]=B("root",{elementType:Tt,externalForwardedProps:{...fe,...w},ownerState:M,ref:i,className:J(U.root,L),additionalProps:{role:"presentation"},getSlotProps:o=>({...o,onKeyDown:a=>{var r;(r=o.onKeyDown)==null||r.call(o,a),$e(a)},onBlur:a=>{var r;(r=o.onBlur)==null||r.call(o,a),de(a)},onFocus:a=>{var r;(r=o.onFocus)==null||r.call(o,a),me(a)},onMouseEnter:a=>{var r;(r=o.onMouseEnter)==null||r.call(o,a),me(a)},onMouseLeave:a=>{var r;(r=o.onMouseLeave)==null||r.call(o,a),de(a)}})}),[He,We]=B("transition",{elementType:ht,externalForwardedProps:fe,ownerState:M});return e.jsxs(Ne,{...Ve,children:[e.jsx(He,{in:!R,timeout:ie,unmountOnExit:!0,...We,children:e.jsx(vt,{color:"primary","aria-label":u,"aria-haspopup":"true","aria-expanded":S,"aria-controls":`${ae}-actions`,...l,onClick:Ue,className:J(U.fab,l.className),ref:Ie,ownerState:M,children:d.isValidElement(P)&&Ze(P,["SpeedDialIcon"])?d.cloneElement(P,{open:S}):P})}),e.jsx(Ct,{id:`${ae}-actions`,role:"menu","aria-orientation":H(h),className:J(U.actions,!S&&U.actionsClosed),ownerState:M,children:ze})]})});function wt(t){return Ce("MuiSpeedDialAction",t)}const Z=ve("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),Dt=t=>{const{open:s,tooltipPlacement:i,classes:m}=t,p={fab:["fab",!s&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${X(i)}`,!s&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return De(p,wt,m)},kt=K(Me,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,s)=>{const{ownerState:i}=t;return[s.fab,!i.open&&s.fabClosed]}})(ee(({theme:t})=>({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:et(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1,variants:[{props:({ownerState:s})=>!s.open,style:{opacity:0,transform:"scale(0)"}}]}))),Ft=K("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,s)=>{const{ownerState:i}=t;return[s.staticTooltip,!i.open&&s.staticTooltipClosed,s[`tooltipPlacement${X(i.tooltipPlacement)}`]]}})(ee(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${Z.staticTooltipLabel}`]:{transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},variants:[{props:({ownerState:s})=>!s.open,style:{[`& .${Z.staticTooltipLabel}`]:{opacity:0,transform:"scale(0.5)"}}},{props:{tooltipPlacement:"left"},style:{[`& .${Z.staticTooltipLabel}`]:{transformOrigin:"100% 50%",right:"100%",marginRight:8}}},{props:{tooltipPlacement:"right"},style:{[`& .${Z.staticTooltipLabel}`]:{transformOrigin:"0% 50%",left:"100%",marginLeft:8}}}]}))),At=K("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,s)=>s.staticTooltipLabel})(ee(({theme:t})=>({position:"absolute",...t.typography.body1,backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"}))),Lt=d.forwardRef(function(s,i){var z;const m=Pe({props:s,name:"MuiSpeedDialAction"}),{className:p,delay:b=0,FabProps:u={},icon:f,id:l,open:g,TooltipClasses:L,tooltipOpen:h=!1,tooltipPlacement:R="left",tooltipTitle:P,slots:$={},slotProps:x={},...E}=m,n={...m,tooltipPlacement:R},c=Dt(n),y={slots:$,slotProps:{fab:u,...x,tooltip:Ye(typeof x.tooltip=="function"?x.tooltip(n):x.tooltip,{title:P,open:h,placement:R,classes:L})}},[j,N]=d.useState((z=y.slotProps.tooltip)==null?void 0:z.open),pe=()=>{N(!1)},te=()=>{N(!0)},q={transitionDelay:`${b}ms`},[oe,se]=B("fab",{elementType:kt,externalForwardedProps:y,ownerState:n,shouldForwardComponentProp:!0,className:J(c.fab,p),additionalProps:{style:q,tabIndex:-1,role:"menuitem",size:"small"}}),[ie,w]=B("tooltip",{elementType:Xe,externalForwardedProps:y,shouldForwardComponentProp:!0,ref:i,additionalProps:{id:l},ownerState:n,getSlotProps:T=>({...T,onClose:v=>{var I;(I=T.onClose)==null||I.call(T,v),pe()},onOpen:v=>{var I;(I=T.onOpen)==null||I.call(T,v),te()}})}),[S,D]=B("staticTooltip",{elementType:Ft,externalForwardedProps:y,ownerState:n,ref:i,className:c.staticTooltip,additionalProps:{id:l}}),[M,U]=B("staticTooltipLabel",{elementType:At,externalForwardedProps:y,ownerState:n,className:c.staticTooltipLabel,additionalProps:{style:q,id:`${l}-label`}}),k=e.jsx(oe,{...se,children:f});return w.open?e.jsxs(S,{...D,...E,children:[e.jsx(M,{...U,children:w.title}),d.cloneElement(k,{"aria-labelledby":`${l}-label`})]}):(!g&&j&&N(!1),e.jsx(ie,{...w,title:w.title,open:g&&j,placement:w.placement,classes:w.classes,...E,children:k}))});function Rt({sx:t,title:s,author:i,coverUrl:m,createdAt:p,...b}){const u=we(),f=tt(u.breakpoints.up("sm"));return e.jsx(A,{sx:[{...u.mixins.bgGradient({images:[`linear-gradient(0deg, ${xe(u.vars.palette.grey["900Channel"],.64)}, ${xe(u.vars.palette.grey["900Channel"],.64)})`,`url(${m})`]}),height:480,overflow:"hidden"},...Array.isArray(t)?t:[t]],...b,children:e.jsxs(ke,{sx:{height:1,position:"relative"},children:[e.jsx(W,{variant:"h3",component:"h1",sx:{zIndex:9,maxWidth:480,position:"absolute",pt:{xs:2,md:8},color:"common.white"},children:s}),e.jsxs(A,{sx:{left:0,width:1,bottom:0,position:"absolute"},children:[i&&p&&e.jsxs(A,{sx:{display:"flex",alignItems:"center",px:{xs:2,md:3},pb:{xs:3,md:8}},children:[e.jsx(ot,{alt:i.name,src:i.avatarUrl,sx:{width:64,height:64,mr:2}}),e.jsx(st,{sx:{color:"common.white"},primary:i.name,secondary:it(p),slotProps:{primary:{sx:{typography:"subtitle1"}},secondary:{sx:{mt:.5,opacity:.64,color:"inherit"}}}})]}),e.jsx(Pt,{direction:f?"left":"up",ariaLabel:"Share post",icon:e.jsx(Y,{icon:"solar:share-bold"}),FabProps:{size:"medium"},sx:{position:"absolute",bottom:{xs:32,md:64},right:{xs:16,md:24}},children:at.map(l=>e.jsx(Lt,{icon:e.jsxs(e.Fragment,{children:[l.value==="facebook"&&e.jsx(nt,{}),l.value==="instagram"&&e.jsx(rt,{}),l.value==="linkedin"&&e.jsx(lt,{}),l.value==="twitter"&&e.jsx(ct,{})]}),tooltipPlacement:"top",FabProps:{color:"default"},tooltipTitle:l.label},l.label))})]})]})})}function Et({open:t,title:s,content:i,isValid:m,onClose:p,coverUrl:b,onSubmit:u,description:f,isSubmitting:l}){let g="";b&&(typeof b=="string"?g=b:g=URL.createObjectURL(b));const L=s||g,h=s||f||i||g;return e.jsxs(pt,{fullScreen:!0,open:t,onClose:p,children:[e.jsxs(dt,{sx:{py:2,px:3},children:[e.jsx(W,{variant:"h6",sx:{flexGrow:1},children:"Preview"}),e.jsx(Fe,{variant:"outlined",color:"inherit",onClick:p,children:"Cancel"}),e.jsx(ce,{type:"submit",variant:"contained",disabled:!m,loading:l,onClick:u,children:"Post"})]}),e.jsx(le,{}),h?e.jsxs(mt,{children:[(L||g)&&e.jsx(Rt,{title:s,coverUrl:g}),e.jsx(ke,{sx:{mt:5,mb:10},children:e.jsxs(A,{sx:{mx:"auto",maxWidth:720},children:[e.jsx(W,{variant:"h6",children:f}),e.jsx(gt,{children:i})]})})]}):e.jsx(yt,{filled:!0,title:"Empty content!"})]})}const Mt=Re({title:O().min(1,{message:"Title is required!"}),description:O().min(1,{message:"Description is required!"}),content:Se.editor().min(100,{message:"Content must be at least 100 characters"}).max(500,{message:"Content must be less than 500 characters"}),coverUrl:Se.file({message:"Cover is required!"}),tags:O().array().min(2,{message:"Adicione pelo menos 2 tags!"}),metaKeywords:O().array().min(1,{message:"Meta keywords is required!"}),metaTitle:O(),metaDescription:O()});function Ht({currentPost:t}){const s=ut(),i=ft(),m={title:"",description:"",content:"",coverUrl:null,tags:[],metaKeywords:[],metaTitle:"",metaDescription:""},p=Ae({mode:"all",resolver:Le(Mt),defaultValues:m,values:t}),{reset:b,watch:u,setValue:f,handleSubmit:l,formState:{isSubmitting:g,isValid:L}}=p,h=u(),R=l(async n=>{try{await new Promise(c=>setTimeout(c,500)),b(),i.onFalse(),xt.success(t?"Update success!":"Create success!"),s.push(bt.dashboard.post.root),console.info("DATA",n)}catch(c){console.error(c)}}),P=d.useCallback(()=>{f("coverUrl",null)},[f]),$=()=>e.jsxs(je,{children:[e.jsx(Te,{title:"Details",subheader:"Title, short description, image...",sx:{mb:3}}),e.jsx(le,{}),e.jsxs(V,{spacing:3,sx:{p:3},children:[e.jsx(C.Text,{name:"title",label:"Post title"}),e.jsx(C.Text,{name:"description",label:"Description",multiline:!0,rows:3}),e.jsxs(V,{spacing:1.5,children:[e.jsx(W,{variant:"subtitle2",children:"Content"}),e.jsx(C.Editor,{name:"content",sx:{maxHeight:480}})]}),e.jsxs(V,{spacing:1.5,children:[e.jsx(W,{variant:"subtitle2",children:"Cover"}),e.jsx(C.Upload,{name:"coverUrl",maxSize:3145728,onDelete:P})]})]})]}),x=()=>e.jsxs(je,{children:[e.jsx(Te,{title:"Properties",subheader:"Additional functions and attributes...",sx:{mb:3}}),e.jsx(le,{}),e.jsxs(V,{spacing:3,sx:{p:3},children:[e.jsx(C.Autocomplete,{name:"tags",label:"Tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,disableCloseOnSelect:!0,options:be.map(n=>n),getOptionLabel:n=>n,renderOption:(n,c)=>d.createElement("li",{...n,key:c},c),renderTags:(n,c)=>n.map((y,j)=>d.createElement(ge,{...c({index:j}),key:y,label:y,size:"small",color:"info",variant:"soft"}))}),e.jsx(C.Text,{name:"metaTitle",label:"Meta title"}),e.jsx(C.Text,{name:"metaDescription",label:"Meta description",fullWidth:!0,multiline:!0,rows:3}),e.jsx(C.Autocomplete,{name:"metaKeywords",label:"Meta keywords",placeholder:"+ Keywords",multiple:!0,freeSolo:!0,disableCloseOnSelect:!0,options:be.map(n=>n),getOptionLabel:n=>n,renderOption:(n,c)=>d.createElement("li",{...n,key:c},c),renderTags:(n,c)=>n.map((y,j)=>d.createElement(ge,{...c({index:j}),key:y,label:y,size:"small",color:"info",variant:"soft"}))}),e.jsx(ye,{label:"Enable comments",control:e.jsx(he,{defaultChecked:!0,inputProps:{id:"comments-switch"}})})]})]}),E=()=>e.jsxs(A,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end"},children:[e.jsx(ye,{label:"Publish",control:e.jsx(he,{defaultChecked:!0,inputProps:{id:"publish-switch"}}),sx:{pl:3,flexGrow:1}}),e.jsxs("div",{children:[e.jsx(Fe,{color:"inherit",variant:"outlined",size:"large",onClick:i.onTrue,children:"Preview"}),e.jsx(ce,{type:"submit",variant:"contained",size:"large",loading:g,sx:{ml:2},children:t?"Save changes":"Create post"})]})]});return e.jsxs(Ee,{methods:p,onSubmit:R,children:[e.jsxs(V,{spacing:5,sx:{mx:"auto",maxWidth:{xs:720,xl:880}},children:[$(),x(),E()]}),e.jsx(Et,{isValid:L,onSubmit:R,title:h.title,open:i.value,content:h.content,onClose:i.onFalse,coverUrl:h.coverUrl,isSubmitting:g,description:h.description})]})}const It=Re({comment:O().min(1,{message:"Comment is required!"})});function Wt(){const t={comment:""},s=Ae({resolver:Le(It),defaultValues:t}),{reset:i,handleSubmit:m,formState:{isSubmitting:p}}=s,b=m(async u=>{try{await new Promise(f=>setTimeout(f,500)),i(),console.info("DATA",u)}catch(f){console.error(f)}});return e.jsx(Ee,{methods:s,onSubmit:b,children:e.jsxs(A,{sx:{gap:3,display:"flex",flexDirection:"column"},children:[e.jsx(C.Text,{name:"comment",placeholder:"Write some of your comments...",multiline:!0,rows:4}),e.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[e.jsxs(A,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[e.jsx(re,{children:e.jsx(Y,{icon:"solar:gallery-add-bold"})}),e.jsx(re,{children:e.jsx(Y,{icon:"eva:attach-2-fill"})}),e.jsx(re,{children:e.jsx(Y,{icon:"eva:smiling-face-fill"})})]}),e.jsx(ce,{type:"submit",variant:"contained",loading:p,children:"Post comment"})]})]})})}export{Rt as P,Wt as a,Ht as b};
