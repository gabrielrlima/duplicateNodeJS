import{j as e,B as n,I as f,K as d,T as w,f as p,r as m,y as C,z as F,O as u,F as L,N,Q as b,bl as P,H as A,C as O}from"./index-cNRh_qft.js";import{s as I}from"./schema-helper-D18en8Wv.js";import{S as z,a as B,b as E}from"./Stepper-tqzoY8Fq.js";import{C as R}from"./Card-C_-31fGp.js";import{C as q}from"./component-layout-D3xwTgqf.js";import"./orderBy-BP_idRMj.js";import"./CardHeader-CZZHKPlX.js";import"./CardContent-BPfTDHT5.js";function H({steps:t,activeStep:a}){return e.jsx(z,{activeStep:a,alternativeLabel:!0,sx:{mb:5},children:t.map((i,l)=>e.jsx(B,{children:e.jsx(E,{slots:{stepIcon:({active:c,completed:o})=>e.jsx(n,{sx:{width:24,height:24,display:"flex",borderRadius:"50%",alignItems:"center",color:"text.disabled",typography:"subtitle2",justifyContent:"center",bgcolor:"action.disabledBackground",...c&&{bgcolor:"primary.main",color:"primary.contrastText"},...o&&{bgcolor:"primary.main",color:"primary.contrastText"}},children:o?e.jsx(f,{width:14,icon:"mingcute:check-fill"}):e.jsx(n,{sx:{typography:"subtitle2"},children:l+1})})},children:i})},i))})}function V(){return e.jsxs(e.Fragment,{children:[e.jsx(d.Text,{name:"stepOne.firstName",label:"First name",variant:"filled",slotProps:{inputLabel:{shrink:!0}}}),e.jsx(d.Text,{name:"stepOne.lastName",label:"Last name",variant:"filled",slotProps:{inputLabel:{shrink:!0}}})]})}function W(){return e.jsx(d.Text,{name:"stepTwo.age",label:"Age",type:"number",variant:"filled",slotProps:{inputLabel:{shrink:!0}},helperText:"Age must be between 18 and 100"})}function D(){return e.jsx(d.Text,{name:"stepThree.email",label:"Email",variant:"filled",slotProps:{inputLabel:{shrink:!0}}})}function $({onReset:t}){return e.jsxs(n,{sx:{gap:3,display:"flex",flex:"1 1 auto",alignItems:"center",flexDirection:"column",justifyContent:"center",borderRadius:"inherit",bgcolor:"background.neutral"},children:[e.jsx(w,{variant:"subtitle1",children:"All steps completed - you're finished"}),e.jsx(p,{variant:"outlined",onClick:t,startIcon:e.jsx(f,{icon:"solar:restart-bold"}),children:"Reset"})]})}const h=["Step one","Step two","Step three"],G=u({firstName:b().min(1,{message:"Full name is required!"}),lastName:b().min(1,{message:"Last name is required!"})}),K=u({age:I.nullableInput(P({coerce:!0}).int().min(1,{message:"Age is required!"}).max(80,{message:"Age must be between 1 and 80"}),{message:"Age is required!"})}),Q=u({email:b().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"})}),J=u({stepOne:G,stepTwo:K,stepThree:Q}),M={stepOne:{firstName:"",lastName:""},stepTwo:{age:null},stepThree:{email:""}};function U(){const[t,a]=m.useState(0),i=C({mode:"onChange",resolver:F(J),defaultValues:M}),{reset:l,trigger:c,clearErrors:o,handleSubmit:j,formState:{isSubmitting:y}}=i,x=m.useCallback(async s=>{s?await c(s)&&(o(),a(v=>v+1)):a(r=>r+1)},[c,o]),S=m.useCallback(()=>{a(s=>s-1)},[]),T=m.useCallback(()=>{l(),a(0)},[l]),k=j(async s=>{try{await new Promise(r=>setTimeout(r,1e3)),console.info("DATA",s),x()}catch(r){console.error(r)}}),g=t===h.length;return e.jsxs(R,{sx:{p:5,width:1,mx:"auto",maxWidth:720},children:[e.jsx(H,{steps:h,activeStep:t}),e.jsxs(L,{methods:i,onSubmit:k,children:[e.jsxs(n,{sx:[s=>({p:3,mb:3,gap:3,minHeight:240,display:"flex",borderRadius:1.5,flexDirection:"column",border:`dashed 1px ${s.vars.palette.divider}`})],children:[t===0&&e.jsx(V,{}),t===1&&e.jsx(W,{}),t===2&&e.jsx(D,{}),g&&e.jsx($,{onReset:T})]}),!g&&e.jsxs(n,{sx:{display:"flex"},children:[t!==0&&e.jsx(p,{onClick:S,children:"Back"}),e.jsx(n,{sx:{flex:"1 1 auto"}}),t===0&&e.jsx(p,{type:"submit",variant:"contained",onClick:()=>x("stepOne"),children:"Próximo"}),t===1&&e.jsx(p,{type:"submit",variant:"contained",onClick:()=>x("stepTwo"),children:"Próximo"}),t===h.length-1&&e.jsx(N,{type:"submit",variant:"contained",loading:y,children:"Salvar alterações"})]})]})]})}function X(){return e.jsx(q,{heroProps:{heading:"Form wizard",moreLinks:["https://react-hook-form.com","https://zod.dev"]},children:e.jsx(U,{})})}const Y={title:`Form wizard | Components - ${O.appName}`};function ie(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:e.jsxs("title",{children:[" ",Y.title]})}),e.jsx(X,{})]})}export{ie as default};
