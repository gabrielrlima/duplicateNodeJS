import{ca as k,j as e,aZ as S,B as o,f as D,R as P,I as h,a1 as E,S as a,T as r,aP as w,au as V,cd as j,aK as _,cb as A,cc as F,A as C,cN as N,L as O,r as m,G as g,l as B,n as v,b8 as H,c as M,p as G,H as L,C as z}from"./index-D82XrlGq.js";import{u as U}from"./use-params-BTd0VUeQ.js";import{_ as W,a as $}from"./recebimentos-list-view-BMROf3tW.js";import{C as f}from"./CardHeader-BbCWHGKm.js";import{T as K,a as Z,b as q,c as J,d as Q,e as X}from"./TimelineSeparator-2spusA3e.js";import{C as y}from"./Card-Bw-3A9ev.js";import"./confirm-dialog-rvtuH5TT.js";import"./table-no-data-DH7CjOyR.js";import"./empty-content-CAmd9egU.js";import"./TableHead-RMfhpLqX.js";import"./TableCell-9zzJlMjB.js";import"./table-empty-rows-Vu5FyjZw.js";import"./table-head-custom-CuFVaOdc.js";import"./table-selected-action-B1DH3GwP.js";import"./table-pagination-custom-D5_o9sKp.js";import"./TablePagination-DsJAP4En.js";import"./LastPage-xOhVKZvt.js";import"./Toolbar-CnhKmG_y.js";function Y({status:n,backHref:s,createdAt:i,receiptNumber:d,onChangeStatus:l,statusOptions:p=[]}){const t=k();return e.jsxs(e.Fragment,{children:[e.jsx(S,{heading:d,links:[{name:"Dashboard"},{name:"Recebimentos",href:s},{name:d}],action:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(D,{component:P,href:s,startIcon:e.jsx(h,{icon:"eva:arrow-ios-back-fill"}),children:"Voltar"}),e.jsx(E,{onClick:t.onOpen,children:e.jsx(h,{icon:"eva:more-vertical-fill"})})]}),sx:{mb:{xs:3,md:5}}}),e.jsxs(a,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},sx:{mb:{xs:3,md:5}},children:[e.jsxs(a,{spacing:1,direction:"row",alignItems:"center",children:[e.jsxs(r,{variant:"h4",children:[" Recebimento #",d," "]}),e.jsxs(w,{variant:"soft",color:n==="paid"&&"success"||n==="confirmed"&&"info"||n==="pending"&&"warning"||n==="overdue"&&"error"||n==="cancelled"&&"default"||"default",children:[n==="paid"&&"Pago",n==="confirmed"&&"Confirmado",n==="pending"&&"Pendente",n==="overdue"&&"Vencido",n==="cancelled"&&"Cancelado"]})]}),e.jsxs(a,{flexGrow:1,spacing:1.5,direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},children:[e.jsx(V,{select:!0,fullWidth:!0,label:"Status",value:n,onChange:c=>l==null?void 0:l(c.target.value),sx:{maxWidth:{sm:240}},children:p.map(c=>e.jsx(j,{value:c.value,children:c.label},c.value))}),e.jsx(o,{sx:{typography:"body2",color:"text.disabled",flexShrink:0},children:i&&_(i)})]})]}),e.jsx(A,{open:t.open,anchorEl:t.anchorEl,onClose:t.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(F,{children:[e.jsxs(j,{onClick:t.onClose,children:[e.jsx(h,{icon:"solar:printer-minimalistic-bold"}),"Imprimir"]}),e.jsxs(j,{onClick:t.onClose,children:[e.jsx(h,{icon:"solar:download-minimalistic-bold"}),"Download"]}),e.jsxs(j,{onClick:t.onClose,sx:{color:"error.main"},children:[e.jsx(h,{icon:"solar:trash-bin-trash-bold"}),"Excluir"]})]})})]})}function R({history:n=[]}){const s=(i,d)=>{var l;return e.jsxs(Z,{children:[e.jsxs(q,{children:[e.jsx(J,{color:i.type==="payment_received"&&"success"||i.type==="payment_confirmed"&&"info"||i.type==="payment_pending"&&"warning"||i.type==="payment_overdue"&&"error"||"primary"}),d<n.length-1&&e.jsx(Q,{})]}),e.jsx(X,{children:e.jsxs(a,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(C,{sx:{width:32,height:32,color:"text.secondary",bgcolor:"background.neutral"},children:(l=i.by)==null?void 0:l.charAt(0).toUpperCase()}),e.jsxs(o,{sx:{flexGrow:1},children:[e.jsx(r,{variant:"subtitle2",children:i.title}),e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:i.message}),e.jsx(r,{variant:"caption",sx:{color:"text.disabled"},children:N(i.time)})]})]})})]},d)};return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Histórico"}),e.jsx(K,{sx:{p:3,"& .MuiTimelineItem-missingOppositeContent:before":{display:"none"}},children:n.map(s)})]})}function ee({customer:n}){return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Cliente"}),e.jsxs(a,{direction:"row",sx:{p:3},children:[e.jsx(C,{alt:n==null?void 0:n.name,src:n==null?void 0:n.avatarUrl,sx:{width:48,height:48,mr:2}}),e.jsxs(a,{spacing:.5,alignItems:"flex-start",sx:{typography:"body2"},children:[e.jsx(r,{variant:"subtitle2",children:n==null?void 0:n.name}),e.jsx(o,{sx:{color:"text.secondary"},children:n==null?void 0:n.email}),e.jsxs(o,{sx:{color:"text.secondary"},children:[e.jsx(o,{component:"span",sx:{color:"text.primary",mr:.25},children:"Tel:"}),n==null?void 0:n.phone]}),e.jsxs(a,{direction:"row",alignItems:"center",sx:{color:"text.secondary"},children:[e.jsx(h,{icon:"mingcute:location-fill",width:16,sx:{mr:.5}}),e.jsx(O,{color:"inherit",variant:"body2",children:"Ver perfil completo"})]})]})]})]})}function ne({property:n}){return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Propriedade"}),e.jsxs(a,{spacing:1.5,sx:{p:3,typography:"body2"},children:[e.jsxs(a,{direction:"row",alignItems:"center",children:[e.jsx(o,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Endereço:"}),e.jsx(r,{variant:"body2",children:n==null?void 0:n.address})]}),e.jsxs(a,{direction:"row",alignItems:"center",children:[e.jsx(o,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Cidade:"}),e.jsx(r,{variant:"body2",children:n==null?void 0:n.city})]}),e.jsxs(a,{direction:"row",alignItems:"center",children:[e.jsx(o,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Estado:"}),e.jsx(r,{variant:"body2",children:n==null?void 0:n.state})]}),e.jsxs(a,{direction:"row",alignItems:"center",children:[e.jsx(o,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"CEP:"}),e.jsx(r,{variant:"body2",children:n==null?void 0:n.zipCode})]}),e.jsxs(a,{direction:"row",alignItems:"center",children:[e.jsx(o,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Tipo:"}),e.jsx(r,{variant:"body2",children:n==null?void 0:n.type})]}),e.jsxs(a,{direction:"row",alignItems:"center",children:[e.jsx(o,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Valor do Aluguel:"}),e.jsx(r,{variant:"body2",children:n==null?void 0:n.rentValue})]})]})]})}function se({id:n}){var b;const s=W.find(x=>x.id===n),[i,d]=m.useState(s==null?void 0:s.status),[l,p]=m.useState("details"),t=m.useCallback(x=>{d(x)},[]),c=m.useCallback((x,T)=>{p(T)},[]),u=e.jsx(g,{size:{xs:12,md:4},children:e.jsx(a,{component:y,spacing:3,sx:{p:3},children:e.jsxs(a,{spacing:2,children:[e.jsxs(a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(r,{variant:"h6",children:"Resumo"}),e.jsxs(w,{variant:"soft",color:i==="paid"&&"success"||i==="confirmed"&&"info"||i==="pending"&&"warning"||i==="overdue"&&"error"||i==="cancelled"&&"default"||"default",children:[i==="paid"&&"Pago",i==="confirmed"&&"Confirmado",i==="pending"&&"Pendente",i==="overdue"&&"Vencido",i==="cancelled"&&"Cancelado"]})]}),e.jsxs(a,{spacing:1,sx:{typography:"body2"},children:[e.jsxs(a,{direction:"row",justifyContent:"space-between",children:[e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:"Número do Recibo:"}),e.jsx(r,{variant:"body2",children:s==null?void 0:s.receiptNumber})]}),e.jsxs(a,{direction:"row",justifyContent:"space-between",children:[e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:"Data de Vencimento:"}),e.jsx(r,{variant:"body2",children:s==null?void 0:s.dueDate})]}),e.jsxs(a,{direction:"row",justifyContent:"space-between",children:[e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:"Valor:"}),e.jsx(r,{variant:"body2",children:s==null?void 0:s.amount})]}),e.jsxs(a,{direction:"row",justifyContent:"space-between",children:[e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:"Método de Pagamento:"}),e.jsx(r,{variant:"body2",children:(b=s==null?void 0:s.payment)==null?void 0:b.method})]})]})]})})}),I=e.jsx(g,{size:{xs:12,md:8},children:e.jsxs(y,{children:[e.jsxs(B,{value:l,onChange:c,sx:{px:3,boxShadow:x=>`inset 0 -2px 0 0 ${x.vars.palette.divider}`},children:[e.jsx(v,{label:"Detalhes",value:"details"}),e.jsx(v,{label:"Histórico",value:"history"})]}),l==="details"&&e.jsxs(a,{spacing:3,children:[e.jsx(ee,{customer:s==null?void 0:s.customer}),e.jsx(ne,{property:s==null?void 0:s.property})]}),l==="history"&&e.jsx(R,{history:s==null?void 0:s.history})]})});return e.jsx(H,{children:e.jsxs(M,{maxWidth:"lg",children:[e.jsx(Y,{backHref:G.dashboard.recebimentos.root,receiptNumber:s==null?void 0:s.receiptNumber,createdAt:s==null?void 0:s.createdAt,status:i,onChangeStatus:t,statusOptions:$}),e.jsxs(g,{container:!0,spacing:3,children:[u,I]})]})})}const ie={title:`Detalhes do Recebimento | Dashboard - ${z.appName}`};function Ce(){const{id:n=""}=U();return e.jsxs(e.Fragment,{children:[e.jsx(L,{children:e.jsxs("title",{children:[" ",ie.title]})}),e.jsx(se,{id:n})]})}export{Ce as default};
