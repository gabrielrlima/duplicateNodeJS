import{u as S}from"./index-ChnT1xRF.js";import{a9 as I,bk as D,r as m,O as v,bl as j,Q as x,bm as H,bn as L,j as e,B as u,p as K,R as z,bo as P,I as w,G as b,S as T,aj as X,f as B,ax as Y,bp as Z,T as h,a_ as J,a1 as A,D as ee,bq as V,br as se,bs as re,bt as ie,o as ae,bi as te,bu as ne,b3 as le,L as oe,y as ce,z as de,aS as ue,F as xe,aT as me,aU as he,K as f,aV as ge,N as pe}from"./index-cNRh_qft.js";import{s as y}from"./schema-helper-D18en8Wv.js";import{S as d}from"./Skeleton-XGh2Uz0E.js";import{a as je}from"./color-preview-C96dy_lS.js";import"./empty-content-BzM3Az2z.js";import"./filters-result-BTXXEhsP.js";import{L as be}from"./ListItemIcon-blO7VIGp.js";const F={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1};function De(){const t=I.product.list,{data:r,isLoading:s,error:a,isValidating:n}=S(t,D,F);return m.useMemo(()=>({products:(r==null?void 0:r.products)||[],productsLoading:s,productsError:a,productsValidating:n,productsEmpty:!s&&!n&&!(r!=null&&r.products.length)}),[r==null?void 0:r.products,a,s,n])}function Te(t){const r=t?[I.product.details,{params:{productId:t}}]:"",{data:s,isLoading:a,error:n,isValidating:c}=S(r,D,F);return m.useMemo(()=>({product:s==null?void 0:s.product,productLoading:a,productError:n,productValidating:c}),[s==null?void 0:s.product,n,a,c])}function Fe(t){const r=t?[I.product.search,{params:{query:t}}]:"",{data:s,isLoading:a,error:n,isValidating:c}=S(r,D,{...F,keepPreviousData:!0});return m.useMemo(()=>({searchResults:(s==null?void 0:s.results)||[],searchLoading:a,searchError:n,searchValidating:c,searchEmpty:!a&&!c&&!(s!=null&&s.results.length)}),[s==null?void 0:s.results,n,a,c])}v({name:x().min(1,{message:"Name is required!"}),description:y.editor({message:"Description is required!"}).min(100,{message:"Description must be at least 100 characters"}).max(500,{message:"Description must be less than 500 characters"}),images:y.files({message:"Images is required!"}),code:x().min(1,{message:"Product code is required!"}),sku:x().min(1,{message:"Product sku is required!"}),quantity:y.nullableInput(j({coerce:!0}).min(1,{message:"Quantity is required!"}),{message:"Quantity is required!"}),colors:x().array().min(1,{message:"Choose at least one option!"}),sizes:x().array().min(1,{message:"Choose at least one option!"}),tags:x().array().min(2,{message:"Adicione pelo menos 2 tags!"}),gender:H(x()).min(1,{message:"Choose at least one option!"}),price:y.nullableInput(j({coerce:!0}).min(1,{message:"Price is required!"}),{message:"Price is required!"}),category:x(),subDescription:x(),taxes:j({coerce:!0}).nullable(),priceSale:j({coerce:!0}).nullable(),saleLabel:v({enabled:L(),content:x()}),newLabel:v({enabled:L(),content:x()})});function Le({totalItems:t,sx:r,...s}){return e.jsx(u,{component:z,href:K.product.checkout,sx:[a=>({right:0,top:112,zIndex:999,display:"flex",cursor:"pointer",position:"fixed",color:"text.primary",borderTopLeftRadius:16,borderBottomLeftRadius:16,bgcolor:"background.paper",padding:a.spacing(1,3,1,2),boxShadow:a.vars.customShadows.dropdown,transition:a.transitions.create(["opacity"]),"&:hover":{opacity:.72}}),...Array.isArray(r)?r:[r]],...s,children:e.jsx(P,{showZero:!0,badgeContent:t,color:"error",max:99,children:e.jsx(w,{icon:"solar:cart-3-bold",width:24})})})}function Ae({sx:t,itemCount:r=16,...s}){return Array.from({length:r},(a,n)=>e.jsxs(X,{variant:"outlined",sx:[()=>({borderRadius:2}),...Array.isArray(t)?t:[t]],...s,children:[e.jsx(u,{sx:{p:1},children:e.jsx(d,{sx:{pt:"100%"}})}),e.jsxs(T,{spacing:2,sx:{p:3,pt:2},children:[e.jsx(d,{sx:{width:.5,height:16}}),e.jsxs(u,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(u,{sx:{display:"flex"},children:[e.jsx(d,{variant:"circular",sx:{width:16,height:16}}),e.jsx(d,{variant:"circular",sx:{width:16,height:16}}),e.jsx(d,{variant:"circular",sx:{width:16,height:16}})]}),e.jsx(d,{sx:{width:40,height:16}})]})]})]},n))}function Ve({...t}){return e.jsxs(b,{container:!0,spacing:8,...t,children:[e.jsx(b,{size:{xs:12,md:6,lg:7},children:e.jsx(d,{sx:{pt:"100%"}})}),e.jsx(b,{size:{xs:12,md:6,lg:5},children:e.jsxs(T,{spacing:3,children:[e.jsx(d,{sx:{height:16,width:48}}),e.jsx(d,{sx:{height:16,width:80}}),e.jsx(d,{sx:{height:16,width:.5}}),e.jsx(d,{sx:{height:16,width:.75}}),e.jsx(d,{sx:{height:120}})]})}),e.jsx(b,{size:12,children:e.jsx(u,{sx:{display:"flex",alignItems:"center"},children:Array.from({length:3},(r,s)=>e.jsxs(u,{sx:{gap:2,width:1,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[e.jsx(d,{variant:"circular",sx:{width:80,height:80}}),e.jsx(d,{sx:{height:16,width:160}}),e.jsx(d,{sx:{height:16,width:80}})]},s))})})]})}const C=200,fe=Array.from({length:21},(t,r)=>{const s=r*10,a=r===0?`$${s}`:`${s}`;return{value:s,label:r%4?"":a}});function qe({open:t,onOpen:r,onClose:s,canReset:a,filters:n,options:c}){const{state:o,setState:l,resetState:k}=n,R=m.useCallback(i=>{const p=o.gender.includes(i)?o.gender.filter(U=>U!==i):[...o.gender,i];l({gender:p})},[l,o.gender]),g=m.useCallback(i=>{l({category:i})},[l]),M=m.useCallback(i=>{l({colors:i})},[l]),$=m.useCallback((i,p)=>{l({priceRange:p})},[l]),E=m.useCallback(i=>{l({rating:i})},[l]),G=()=>e.jsxs(e.Fragment,{children:[e.jsxs(u,{sx:{py:2,pr:1,pl:2.5,display:"flex",alignItems:"center"},children:[e.jsx(h,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),e.jsx(J,{title:"Reset",children:e.jsx(A,{onClick:()=>k(),children:e.jsx(P,{color:"error",variant:"dot",invisible:!a,children:e.jsx(w,{icon:"solar:restart-bold"})})})}),e.jsx(A,{onClick:s,children:e.jsx(w,{icon:"mingcute:close-line"})})]}),e.jsx(ee,{sx:{borderStyle:"dashed"}})]}),N=()=>e.jsxs(u,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(h,{variant:"subtitle2",sx:{mb:1},children:"Gender"}),c.genders.map(i=>e.jsx(V,{label:i.label,control:e.jsx(se,{checked:o.gender.includes(i.label),onClick:()=>R(i.label),inputProps:{id:`${i.value}-checkbox`}})},i.value))]}),O=()=>e.jsxs(u,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(h,{variant:"subtitle2",sx:{mb:1},children:"Category"}),c.categories.map(i=>e.jsx(V,{label:i,control:e.jsx(re,{checked:i===o.category,onClick:()=>g(i),inputProps:{id:`${i}-radio`}}),sx:{...i==="all"&&{textTransform:"capitalize"}}},i))]}),_=()=>e.jsxs(u,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(h,{variant:"subtitle2",sx:{mb:1},children:"Color"}),e.jsx(je,{options:c.colors,value:o.colors,onChange:i=>M(i),limit:6})]}),W=()=>e.jsxs(u,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(h,{variant:"subtitle2",children:"Price"}),e.jsxs(u,{sx:{my:2,gap:5,display:"flex"},children:[e.jsx(q,{type:"min",value:o.priceRange,onChange:l}),e.jsx(q,{type:"max",value:o.priceRange,onChange:l})]}),e.jsx(ie,{value:o.priceRange,onChange:$,step:10,min:0,max:C,marks:fe,getAriaValueText:i=>`$${i}`,valueLabelFormat:i=>`$${i}`,sx:{alignSelf:"center",width:"calc(100% - 24px)"}})]}),Q=()=>e.jsxs(u,{sx:{display:"flex",flexDirection:"column"},children:[e.jsx(h,{variant:"subtitle2",sx:{mb:2},children:"Rating"}),c.ratings.map((i,p)=>e.jsxs(u,{onClick:()=>E(i),sx:{mb:1,gap:1,ml:-1,p:.5,display:"flex",borderRadius:1,cursor:"pointer",typography:"body2",alignItems:"center","&:hover":{opacity:.48},...o.rating===i&&{bgcolor:"action.selected"}},children:[e.jsx(ae,{readOnly:!0,value:4-p})," & Up"]},i))]});return e.jsxs(e.Fragment,{children:[e.jsx(B,{disableRipple:!0,color:"inherit",endIcon:e.jsx(P,{color:"error",variant:"dot",invisible:!a,children:e.jsx(w,{icon:"ic:round-filter-list"})}),onClick:r,children:"Filters"}),e.jsxs(Y,{anchor:"right",open:t,onClose:s,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},children:[G(),e.jsx(Z,{sx:{px:2.5,py:3},children:e.jsxs(T,{spacing:3,children:[N(),O(),_(),W(),Q()]})})]})]})}function q({type:t,value:r,onChange:s}){const a=r[0],n=r[1],c=m.useCallback(()=>{const o=Math.max(0,Math.min(a,C)),l=Math.max(0,Math.min(n,C));(o!==a||l!==n)&&s({priceRange:[o,l]})},[a,n,s]);return e.jsxs(u,{sx:{width:1,display:"flex",alignItems:"center"},children:[e.jsx(h,{variant:"caption",sx:{flexGrow:1,color:"text.disabled",textTransform:"capitalize",fontWeight:"fontWeightSemiBold"},children:`${t} ($)`}),e.jsx(te,{hideButtons:!0,max:C,value:t==="min"?a:n,onChange:(o,l)=>s({priceRange:t==="min"?[l,n]:[a,l]}),onBlur:c,sx:{maxWidth:64},slotProps:{input:{sx:{[`& .${ne.input}`]:{pr:1,textAlign:"right"}}}}})]})}m.forwardRef((t,r)=>{const{href:s,label:a,icon:n,sx:c}=t;return e.jsx(le,{ref:r,sx:c,children:e.jsxs(oe,{component:z,href:s,underline:"none",color:"inherit",sx:{width:1,display:"flex",alignItems:"center"},children:[n&&e.jsx(be,{children:n}),a]})})});const ye=v({rating:j().min(1,"Rating must be greater than or equal to 1!"),name:x().min(1,{message:"Name is required!"}),review:x().min(1,{message:"Review is required!"}),email:x().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"})});function ze({onClose:t,...r}){const s={rating:0,review:"",name:"",email:""},a=ce({mode:"all",resolver:de(ye),defaultValues:s}),{reset:n,handleSubmit:c,formState:{isSubmitting:o}}=a,l=c(async R=>{try{await new Promise(g=>setTimeout(g,500)),n(),t(),console.info("DATA",R)}catch(g){console.error(g)}}),k=m.useCallback(()=>{t(),n()},[t,n]);return e.jsx(ue,{onClose:t,...r,children:e.jsxs(xe,{methods:a,onSubmit:l,children:[e.jsx(me,{children:" Add Review "}),e.jsxs(he,{children:[e.jsxs("div",{children:[e.jsx(h,{variant:"body2",sx:{mb:1},children:"Your review about this product:"}),e.jsx(f.Rating,{name:"rating"})]}),e.jsx(f.Text,{name:"review",label:"Review *",multiline:!0,rows:3,sx:{mt:3}}),e.jsx(f.Text,{name:"name",label:"Name *",sx:{mt:3}}),e.jsx(f.Text,{name:"email",label:"Email *",sx:{mt:3}})]}),e.jsxs(ge,{children:[e.jsx(B,{color:"inherit",variant:"outlined",onClick:k,children:"Cancel"}),e.jsx(pe,{type:"submit",variant:"contained",loading:o,children:"Post"})]})]})})}export{Le as C,Ae as P,qe as a,De as b,ze as c,Ve as d,Te as e,Fe as u};
