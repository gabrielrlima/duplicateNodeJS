import{j as e,a1 as T,I as g,B as n,T as I,aB as Y,dt as j,C as x,d2 as H,S,f as J,du as V,b0 as _,Y as C,r as h,cN as q,aj as K,dv as Q,b1 as X,b2 as Z,b3 as k,D as ee,aJ as se,d1 as ae,A as te,bV as oe,br as ne,u as z,cn as ie,cV as re,G as u,p as $,bp as le,dw as M,dx as ce,H as de}from"./index-cNRh_qft.js";import{U as pe}from"./upload-box-DTVSHeZi.js";import{C as D}from"./Card-C_-31fGp.js";import{F as xe,a as he,b as E,c as me,d as O}from"./file-manager-folder-item-CPQaAH1Q.js";import{A as ge}from"./AvatarGroup-B32XWlKs.js";import{u as N,C as W}from"./use-chart-B7B-tmZ_.js";import{C as ue}from"./chart-select-iKkMhEmV.js";import{C as je}from"./CardHeader-CZZHKPlX.js";import"./confirm-dialog-V5NQjZtL.js";import"./Skeleton-XGh2Uz0E.js";function w({sx:s,icon:r,title:o,value:m,total:l,...a}){return e.jsxs(D,{sx:[{p:3},...Array.isArray(s)?s:[s]],...a,children:[e.jsx(T,{sx:{top:8,right:8,position:"absolute"},children:e.jsx(g,{icon:"eva:more-vertical-fill"})}),e.jsx(n,{component:"img",src:r,sx:{width:48,height:48}}),e.jsx(I,{variant:"h6",sx:{mt:3},children:o}),e.jsx(Y,{value:24,variant:"determinate",color:"inherit",sx:{my:2,height:6,"&::before":{opacity:1,bgcolor:"divider"}}}),e.jsxs(n,{sx:{gap:.5,display:"flex",typography:"subtitle2",justifyContent:"flex-end"},children:[e.jsx(n,{sx:{mr:.5,typography:"body2",color:"text.disabled"},children:j(m)}),` / ${j(l)}`]})]})}function ve({sx:s,...r}){return e.jsxs(D,{sx:[o=>({p:5,display:"flex",alignItems:"center",color:"common.white",background:`radial-gradient(70% 70% at 0% 0%, ${o.vars.palette.grey[700]} 0%, ${o.vars.palette.common.black} 100%)`}),...Array.isArray(s)?s:[s]],...r,children:[e.jsx(n,{component:"img",alt:"Upgrade Illustration",src:`${x.assetsDir}/assets/illustrations/illustration-upgrade.webp`,sx:{right:16,zIndex:9,width:120,height:150,position:"absolute"}}),e.jsx(H,{src:`${x.assetsDir}/assets/background/shape-circle-1.svg`,sx:{zIndex:8,width:200,right:-32,height:200,opacity:.12,position:"absolute"}}),e.jsxs(S,{spacing:3,sx:{alignItems:"flex-start"},children:[e.jsx(I,{variant:"h6",sx:{maxWidth:180},children:"Upgrade your plan and get more space"}),e.jsx(J,{color:"warning",variant:"contained",children:"Upgrade plan"})]})]})}function fe({file:s,onDelete:r,sx:o,...m}){var A;const{copy:l}=V(),a=_(),c=C(),p=C(),i=C(s.isFavorited),[v,f]=h.useState(""),b=h.useCallback(y=>{f(y.target.value)},[]),t=h.useCallback(()=>{q.success("Copied!"),l(s.url)},[l,s.url]),L=()=>e.jsxs(n,{sx:{top:8,right:8,flexShrink:{sm:0},position:{xs:"absolute",sm:"unset"}},children:[e.jsx(ne,{color:"warning",icon:e.jsx(g,{icon:"eva:star-outline"}),checkedIcon:e.jsx(g,{icon:"eva:star-fill"}),checked:i.value,onChange:i.onToggle,inputProps:{id:`favorite-${s.id}-checkbox`,"aria-label":`Favorite ${s.id} checkbox`}}),e.jsx(T,{color:a.open?"inherit":"default",onClick:a.onOpen,children:e.jsx(g,{icon:"eva:more-vertical-fill"})})]}),P=()=>e.jsx(se,{onClick:p.onTrue,primary:s.name,secondary:e.jsxs(e.Fragment,{children:[j(s.size),e.jsx(n,{sx:{mx:.75,width:2,height:2,borderRadius:"50%",bgcolor:"currentColor"}}),ae(s.modifiedAt)]}),slotProps:{primary:{noWrap:!0},secondary:{sx:{mt:.5,alignItems:"center",typography:"caption",color:"text.disabled",display:"inline-flex"}}}}),B=()=>{var y;return e.jsx(ge,{max:3,sx:{[`& .${oe.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:(y=s.shared)==null?void 0:y.map(F=>e.jsx(te,{alt:F.name,src:F.avatarUrl},F.id))})},U=()=>e.jsx(X,{open:a.open,anchorEl:a.anchorEl,onClose:a.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(Z,{children:[e.jsxs(k,{onClick:()=>{a.onClose(),t()},children:[e.jsx(g,{icon:"eva:link-2-fill"}),"Copiar Link"]}),e.jsxs(k,{onClick:()=>{a.onClose(),c.onTrue()},children:[e.jsx(g,{icon:"solar:share-bold"}),"Compartilhar"]}),e.jsx(ee,{sx:{borderStyle:"dashed"}}),e.jsxs(k,{onClick:()=>{a.onClose(),r()},sx:{color:"error.main"},children:[e.jsx(g,{icon:"solar:trash-bin-trash-bold"}),"Apagar"]})]})}),R=()=>e.jsx(xe,{file:s,favorited:i.value,onFavorite:i.onToggle,onCopyLink:t,open:p.value,onClose:p.onFalse,onDelete:()=>{p.onFalse(),r()}}),G=()=>e.jsx(he,{open:c.value,shared:s.shared,inviteEmail:v,onChangeInvite:b,onCopyLink:t,onClose:()=>{c.onFalse(),f("")}});return e.jsxs(e.Fragment,{children:[e.jsxs(K,{variant:"outlined",sx:[y=>({gap:2,borderRadius:2,display:"flex",cursor:"pointer",position:"relative",bgcolor:"transparent",p:{xs:2.5,sm:2},alignItems:{xs:"unset",sm:"center"},flexDirection:{xs:"column",sm:"row"},"&:hover":{bgcolor:"background.paper",boxShadow:y.vars.customShadows.z20}}),...Array.isArray(o)?o:[o]],...m,children:[e.jsx(Q,{file:s.type}),P(),!!((A=s==null?void 0:s.shared)!=null&&A.length)&&B(),L()]}),U(),R(),G()]})}function ye({title:s,subheader:r,chart:o,sx:m,...l}){const a=z(),[c,p]=h.useState("Yearly"),i=o.series.find(t=>t.name===c),v=o.colors??[a.palette.primary.main,a.palette.error.main,a.palette.warning.main,ie(a.palette.grey[500],.48)],f=N({chart:{stacked:!0},colors:v,stroke:{width:0},legend:{show:!0},xaxis:{categories:i==null?void 0:i.categories},tooltip:{y:{formatter:t=>j(t)}},...o.options}),b=h.useCallback(t=>{p(t)},[]);return e.jsxs(D,{sx:m,...l,children:[e.jsx(je,{title:s,subheader:r,action:e.jsx(ue,{options:o.series.map(t=>t.name),value:c,onChange:b})}),e.jsx(W,{type:"bar",series:i==null?void 0:i.data,options:f,slotProps:{loading:{p:2.5}},sx:{pl:1,py:2.5,pr:2.5,height:370}})]})}function be({data:s,total:r,chart:o,sx:m,...l}){const a=z(),c=o.colors??[a.palette.secondary.main,a.palette.secondary.light],p=N({chart:{sparkline:{enabled:!0}},stroke:{width:0},fill:{type:"gradient",gradient:{colorStops:[{offset:0,color:c[0],opacity:1},{offset:100,color:c[1],opacity:1}]}},plotOptions:{radialBar:{offsetY:40,startAngle:-90,endAngle:90,hollow:{margin:-24},track:{margin:-24},dataLabels:{name:{offsetY:8},value:{offsetY:-36},total:{label:`Used of ${j(r)} / ${j(r*2)}`,color:a.vars.palette.text.disabled,fontSize:a.typography.caption.fontSize,fontWeight:a.typography.caption.fontWeight}}}},...o.options});return e.jsxs(D,{sx:m,...l,children:[e.jsx(W,{type:"radialBar",series:[o.series],options:p,slotProps:{loading:{p:3}},sx:{mx:"auto",width:240,height:240}}),e.jsx(S,{spacing:3,sx:{px:3,pb:5,mt:-4,zIndex:1,position:"relative",bgcolor:"background.paper"},children:s.map(i=>e.jsxs(n,{sx:{gap:2,display:"flex",alignItems:"center",typography:"subtitle2"},children:[e.jsx(n,{sx:{width:36,height:36},children:i.icon}),e.jsxs(S,{flex:"1 1 auto",children:[e.jsx("div",{children:i.name}),e.jsx(n,{component:"span",sx:{typography:"caption",color:"text.disabled"},children:`${i.filesCount} files`})]}),e.jsxs(n,{component:"span",children:[" ",j(i.usedStorage)," "]})]},i.name))})]})}const d=1e9*24;function Ce(){const[s,r]=h.useState(""),[o,m]=h.useState([]),l=C(),a=C(),c=h.useCallback(t=>{r(t.target.value)},[]),p=h.useCallback(()=>{a.onFalse(),r(""),console.info("CREATE NEW FOLDER")},[a]),i=h.useCallback(t=>{m([...o,...t])},[o]),v=()=>e.jsx(be,{total:d,chart:{series:76},data:[{name:"Images",usedStorage:d/2,filesCount:223,icon:e.jsx(n,{component:"img",src:`${x.assetsDir}/assets/icons/files/ic-img.svg`})},{name:"Media",usedStorage:d/5,filesCount:223,icon:e.jsx(n,{component:"img",src:`${x.assetsDir}/assets/icons/files/ic-video.svg`})},{name:"Documents",usedStorage:d/5,filesCount:223,icon:e.jsx(n,{component:"img",src:`${x.assetsDir}/assets/icons/files/ic-document.svg`})},{name:"Other",usedStorage:d/10,filesCount:223,icon:e.jsx(n,{component:"img",src:`${x.assetsDir}/assets/icons/files/ic-file.svg`})}]}),f=()=>e.jsx(O,{open:l.value,onClose:l.onFalse}),b=()=>e.jsx(O,{open:a.value,onClose:a.onFalse,title:"New Folder",folderName:s,onChangeFolderName:c,onCreate:p});return e.jsxs(e.Fragment,{children:[e.jsx(re,{maxWidth:"xl",children:e.jsxs(u,{container:!0,spacing:3,children:[e.jsx(u,{sx:{display:{xs:"block",sm:"none"}},size:12,children:v()}),e.jsx(u,{size:{xs:12,sm:6,md:4},children:e.jsx(w,{title:"Dropbox",value:d/10,total:d,icon:`${x.assetsDir}/assets/icons/apps/ic-app-dropbox.svg`})}),e.jsx(u,{size:{xs:12,sm:6,md:4},children:e.jsx(w,{title:"Drive",value:d/5,total:d,icon:`${x.assetsDir}/assets/icons/apps/ic-app-drive.svg`})}),e.jsx(u,{size:{xs:12,sm:6,md:4},children:e.jsx(w,{title:"OneDrive",value:d/2,total:d,icon:`${x.assetsDir}/assets/icons/apps/ic-app-onedrive.svg`})}),e.jsxs(u,{size:{xs:12,md:6,lg:8},children:[e.jsx(ye,{title:"Data activity",chart:{series:[{name:"Weekly",categories:["Week 1","Week 2","Week 3","Week 4","Week 5"],data:[{name:"Images",data:[20,34,48,65,37]},{name:"Media",data:[10,34,13,26,27]},{name:"Documents",data:[10,14,13,16,17]},{name:"Other",data:[5,12,6,7,8]}]},{name:"Monthly",categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],data:[{name:"Images",data:[10,34,13,56,77,88,99,77,45,12,43,34]},{name:"Media",data:[10,34,13,56,77,88,99,77,45,12,43,34]},{name:"Documents",data:[10,34,13,56,77,88,99,77,45,12,43,34]},{name:"Other",data:[10,34,13,56,77,88,99,77,45,12,43,34]}]},{name:"Yearly",categories:["2018","2019","2020","2021","2022","2023"],data:[{name:"Images",data:[24,34,32,56,77,48]},{name:"Media",data:[24,34,32,56,77,48]},{name:"Documents",data:[24,34,32,56,77,48]},{name:"Other",data:[24,34,32,56,77,48]}]}]}}),e.jsxs(n,{sx:{mt:5},children:[e.jsx(E,{title:"Folders",link:$.dashboard.fileManager,onOpen:a.onTrue}),e.jsx(le,{sx:{mb:3,minHeight:186},children:e.jsx(n,{sx:{gap:3,display:"flex"},children:M.map(t=>e.jsx(me,{folder:t,onDelete:()=>console.info("DELETE",t.id),sx:{...M.length>3&&{width:240,flexShrink:0}}},t.id))})}),e.jsx(E,{title:"Recent files",link:$.dashboard.fileManager,onOpen:l.onTrue}),e.jsx(n,{sx:{gap:2,display:"flex",flexDirection:"column"},children:ce.slice(0,5).map(t=>e.jsx(fe,{file:t,onDelete:()=>console.info("DELETE",t.id)},t.id))})]})]}),e.jsx(u,{size:{xs:12,md:6,lg:4},children:e.jsxs(n,{sx:{gap:3,display:"flex",flexDirection:"column"},children:[e.jsx(pe,{onDrop:i,placeholder:e.jsxs(n,{sx:{gap:.5,display:"flex",alignItems:"center",color:"text.disabled",flexDirection:"column"},children:[e.jsx(g,{icon:"eva:cloud-upload-fill",width:40}),e.jsx(I,{variant:"body2",children:"Upload file"})]}),sx:{py:2.5,width:"auto",height:"auto",borderRadius:1.5}}),e.jsx(n,{sx:{display:{xs:"none",sm:"block"}},children:v()}),e.jsx(ve,{})]})})]})}),f(),b()]})}const De={title:`File | Dashboard - ${x.appName}`};function Te(){return e.jsxs(e.Fragment,{children:[e.jsx(de,{children:e.jsxs("title",{children:[" ",De.title]})}),e.jsx(Ce,{})]})}export{Te as default};
