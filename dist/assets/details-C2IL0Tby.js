import{j as e,B as n,a_ as p,a1 as u,p as x,R as v,I as b,au as C,b3 as T,r as j,T as r,aP as S,aK as f,bp as I,cV as P,bj as W,fn as A}from"./index-cNRh_qft.js";import{u as D}from"./use-params-DYuE92tD.js";import"./empty-content-BzM3Az2z.js";import"./comissao-new-edit-form-6UOpmVKu.js";import{C as w}from"./Card-C_-31fGp.js";import{a as B,c as O,T as m,b as R}from"./TableHead-DBnjkyMB.js";import{T as s}from"./TableCell-CGwO8Re3.js";import"./use-comissoes-DByAcImR.js";import"./CardHeader-CZZHKPlX.js";import"./Stepper-tqzoY8Fq.js";function k({comissao:t,currentStatus:a,statusOptions:l,onChangeStatus:c}){return e.jsxs(n,{sx:{gap:3,display:"flex",mb:{xs:3,md:5},flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-end",sm:"center"}},children:[e.jsxs(n,{sx:{gap:1,width:1,flexGrow:1,display:"flex",justifyContent:"flex-end"},children:[e.jsx(p,{title:"Editar",children:e.jsx(u,{component:v,href:x.dashboard.comissoes.edit(`${t==null?void 0:t.id}`),sx:{color:"text.secondary"},children:e.jsx(b,{icon:"solar:pen-bold"})})}),e.jsx(p,{title:"Imprimir",children:e.jsx(u,{sx:{color:"text.secondary"},children:e.jsx(b,{icon:"solar:printer-minimalistic-bold"})})})]}),e.jsx(C,{fullWidth:!0,select:!0,label:"Status",value:a,onChange:c,sx:{maxWidth:160},slotProps:{htmlInput:{id:"status-select"},inputLabel:{htmlFor:"status-select"}},children:l.map(i=>e.jsx(T,{value:i.value,children:i.label},i.value))})]})}const z=[{value:"ativo",label:"Ativo"},{value:"inativo",label:"Inativo"}];function _({comissao:t}){const[a,l]=j.useState(t==null?void 0:t.status),c=j.useCallback(d=>{l(d.target.value)},[]),i=()=>"percentualTotal"in t?t.percentualTotal:5,g=()=>{const d=[{nome:"Imobiliária",percentual:10},{nome:"Corretor Principal",percentual:50},{nome:"Corretor Suporte",percentual:20},{nome:"Coordenador",percentual:5},{nome:"Grupo",percentual:5},{nome:"Captador",percentual:10}];return"participantes"in t&&t.participantes?t.participantes.map((o,h)=>({nome:o.tipo,percentual:o.percentual})):d},y=()=>{const d=g();return e.jsx(n,{sx:{mt:4},children:e.jsx(I,{children:e.jsxs(B,{sx:{minWidth:600},children:[e.jsx(O,{children:e.jsxs(m,{sx:{bgcolor:"grey.50"},children:[e.jsx(s,{width:60,sx:{typography:"subtitle2",color:"text.secondary"},children:"#"}),e.jsx(s,{sx:{typography:"subtitle2",color:"text.secondary"},children:"Participantes"}),e.jsx(s,{align:"right",sx:{typography:"subtitle2",color:"text.secondary"},children:"Divisão do prêmio"})]})}),e.jsx(R,{children:d.map((o,h)=>e.jsxs(m,{sx:{"&:nth-of-type(even)":{bgcolor:"grey.50"}},children:[e.jsx(s,{sx:{typography:"body2",color:"text.secondary"},children:h+1}),e.jsx(s,{children:e.jsx(r,{variant:"body2",sx:{fontWeight:500},children:o.nome})}),e.jsx(s,{align:"right",children:e.jsxs(r,{variant:"body2",sx:{fontWeight:500},children:[o.percentual,"%"]})})]},h))})]})})})};return e.jsxs(e.Fragment,{children:[e.jsx(k,{comissao:t,currentStatus:a||"",onChangeStatus:c,statusOptions:z}),e.jsxs(w,{sx:{p:4},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:4},children:[e.jsxs(n,{children:[e.jsxs(r,{variant:"h1",sx:{fontSize:{xs:"4rem",md:"6rem"},fontWeight:700,color:"text.primary",lineHeight:1},children:[i(),"%"]}),e.jsx(r,{variant:"body2",sx:{color:"text.secondary",mt:1,fontSize:"0.875rem"},children:"Comissão sobre a venda"})]}),e.jsxs(n,{sx:{textAlign:"right",flex:1,ml:4},children:[e.jsx(S,{variant:"soft",color:a==="ativo"?"success":"error",sx:{mb:2,fontSize:"0.875rem",px:2,py:.5},children:a==="ativo"?"Ativo":"Inativo"}),e.jsx(r,{variant:"h5",sx:{fontWeight:600,mt:1},children:(t==null?void 0:t.nome)||"Comissão sobre a venda"})]})]}),e.jsxs(n,{sx:{mb:4},children:[e.jsx(r,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Descrição"}),e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:(t==null?void 0:t.descricao)||"Regra de comissão aplicada às vendas do empreendimento Space d'Italia, válida para corretores e parceiros cadastrados."})]}),e.jsxs(n,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:3,mb:4},children:[e.jsxs(n,{children:[e.jsx(r,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Criado em"}),e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:t!=null&&t.createdAt?f(t.createdAt):"01 Jul 2025"})]}),e.jsxs(n,{children:[e.jsx(r,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Última atualização"}),e.jsx(r,{variant:"body2",sx:{color:"text.secondary"},children:t!=null&&t.updatedAt?f(t.updatedAt):"01 Jul 2025"})]})]}),y()]})]})}function E({comissao:t}){return e.jsxs(P,{children:[e.jsx(W,{heading:t==null?void 0:t.nome,backHref:x.dashboard.comissoes.root,links:[{name:"Dashboard",href:x.dashboard.root},{name:"Comissões",href:x.dashboard.comissoes.root},{name:t==null?void 0:t.nome}],sx:{mb:3}}),e.jsx(_,{comissao:t})]})}function $(){const{id:t}=D(),a=A.find(l=>l.id===t);return e.jsx(E,{comissao:a})}export{$ as default};
