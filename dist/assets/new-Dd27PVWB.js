import{V as p,eZ as j,b7 as g,y as f,z as C,O as E,c5 as o,p as s,j as a,F as y,T as N,S as v,K as n,B as R,f as I,N as w,e$ as F,Q as l,b8 as S,aZ as B,H as T}from"./index-D82XrlGq.js";import{C as D}from"./config-global-DAqS2tYC.js";import"./empty-content-CAmd9egU.js";import{C as P}from"./Card-Bw-3A9ev.js";const V=E({name:l().min(1,"Nome é obrigatório"),cnpj:l().min(14,"CNPJ deve ter 14 dígitos").max(18,"CNPJ inválido"),logo:F().optional()});function k(){const t=p(),{createRealEstate:m}=j(),{switchRealEstate:c}=g(),d={name:"",cnpj:"",logo:void 0},i=f({mode:"all",resolver:C(V),defaultValues:d}),{handleSubmit:h,reset:u,setValue:H,formState:{isSubmitting:b}}=i,x=h(async r=>{try{const e=await m({name:r.name,cnpj:r.cnpj});e&&(o.success("Imobiliária criada com sucesso!"),u(),await c(e),t.push(s.dashboard.realEstate.list))}catch(e){o.error("Erro ao criar imobiliária"),console.error("Erro ao criar imobiliária:",e)}});return a.jsxs(y,{methods:i,onSubmit:x,children:[a.jsxs(P,{sx:{p:3},children:[a.jsx(N,{variant:"h6",sx:{mb:3},children:"Informações Básicas"}),a.jsxs(v,{spacing:3,children:[a.jsx(n.Text,{name:"name",label:"Nome da Imobiliária",placeholder:"Digite o nome da imobiliária"}),a.jsx(n.Document,{name:"cnpj",label:"CNPJ"})]})]}),a.jsxs(R,{sx:{mt:3,gap:2,display:"flex",justifyContent:"center"},children:[a.jsx(I,{color:"inherit",size:"large",variant:"outlined",onClick:()=>t.push(s.dashboard.realEstate.list),children:"Cancelar"}),a.jsx(w,{type:"submit",size:"large",variant:"contained",loading:b,children:"Criar Imobiliária"})]})]})}function z(){return a.jsxs(S,{children:[a.jsx(B,{heading:"Nova Imobiliária",links:[{name:"Dashboard",href:s.dashboard.root},{name:"Minhas Imobiliárias",href:s.dashboard.realEstate.list},{name:"Nova Imobiliária"}],sx:{mb:{xs:3,md:5}}}),a.jsx(k,{})]})}const J={title:`Nova Imobiliária | Dashboard - ${D.site.name}`};function K(){return a.jsxs(a.Fragment,{children:[a.jsx(T,{children:a.jsxs("title",{children:[" ",J.title]})}),a.jsx(z,{})]})}export{K as default};
