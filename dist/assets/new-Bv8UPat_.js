import{V as p,fk as j,cU as f,y as g,z as C,O as E,cN as o,p as s,j as a,F as N,T as y,S as v,K as n,B as R,f as I,N as w,fg as F,Q as l,cV as S,bj as B,H as T}from"./index-cNRh_qft.js";import{C as D}from"./config-global-DAqS2tYC.js";import"./empty-content-BzM3Az2z.js";import{C as V}from"./Card-C_-31fGp.js";const k=E({name:l().min(1,"Nome é obrigatório"),cnpj:l().min(14,"CNPJ deve ter 14 dígitos").max(18,"CNPJ inválido"),logo:F().optional()});function P(){const t=p(),{createRealEstate:c}=j(),{switchRealEstate:m}=f(),d={name:"",cnpj:"",logo:void 0},i=g({mode:"all",resolver:C(k),defaultValues:d}),{handleSubmit:h,reset:u,setValue:H,formState:{isSubmitting:b}}=i,x=h(async r=>{try{const e=await c({name:r.name,cnpj:r.cnpj});e&&(o.success("Imobiliária criada com sucesso!"),u(),await m(e),t.push(s.dashboard.realEstate.list))}catch(e){o.error("Erro ao criar imobiliária"),console.error("Erro ao criar imobiliária:",e)}});return a.jsxs(N,{methods:i,onSubmit:x,children:[a.jsxs(V,{sx:{p:3},children:[a.jsx(y,{variant:"h6",sx:{mb:3},children:"Informações Básicas"}),a.jsxs(v,{spacing:3,children:[a.jsx(n.Text,{name:"name",label:"Nome da Imobiliária",placeholder:"Digite o nome da imobiliária"}),a.jsx(n.Document,{name:"cnpj",label:"CNPJ"})]})]}),a.jsxs(R,{sx:{mt:3,gap:2,display:"flex",justifyContent:"center"},children:[a.jsx(I,{color:"inherit",size:"large",variant:"outlined",onClick:()=>t.push(s.dashboard.realEstate.list),children:"Cancelar"}),a.jsx(w,{type:"submit",size:"large",variant:"contained",loading:b,children:"Criar Imobiliária"})]})]})}function z(){return a.jsxs(S,{children:[a.jsx(B,{heading:"Nova Imobiliária",links:[{name:"Dashboard",href:s.dashboard.root},{name:"Minhas Imobiliárias",href:s.dashboard.realEstate.list},{name:"Nova Imobiliária"}],sx:{mb:{xs:3,md:5}}}),a.jsx(P,{})]})}const J={title:`Nova Imobiliária | Dashboard - ${D.site.name}`};function M(){return a.jsxs(a.Fragment,{children:[a.jsx(T,{children:a.jsxs("title",{children:[" ",J.title]})}),a.jsx(z,{})]})}export{M as default};
