import{j as r,c as n,f as h,p as s,R as j,I as x,aZ as f,S as d,T as t,B as o,a_ as u,a$ as b,b0 as v,b1 as g,A as k,D as C,G as c,H as y,C as B}from"./index-D82XrlGq.js";import{u as F}from"./use-params-BTd0VUeQ.js";import{a as I,b as A}from"./blog-BxyGPj51.js";import{P as G,a as H}from"./post-comment-form-BNiYvAYb.js";import"./html-to-markdown-ClkW1E93.js";import{E as P}from"./empty-content-CAmd9egU.js";import{M as p}from"./markdown-BDXCiwMU.js";import{a as w}from"./post-item-COL0eFSO.js";import{a as D}from"./post-skeleton-DV3cXjQg.js";import{P as L}from"./post-comment-list-JNlWoCJC.js";import{A as W}from"./AvatarGroup-BSnlJl2K.js";import"./index-nX3EE7Rc.js";import"./index-AY8D22yG.js";import"./schema-helper-BcHhi0sG.js";import"./Zoom-CFlw_obW.js";import"./Fab-CjGO5Ngr.js";import"./Card-Bw-3A9ev.js";import"./CardHeader-BbCWHGKm.js";import"./CardContent-DBos9HZs.js";import"./Skeleton-B8_s61tm.js";import"./Pagination-CXHPyE06.js";import"./LastPage-xOhVKZvt.js";function $({post:e,latestPosts:i,loading:m,error:l}){return m?r.jsx(D,{}):l?r.jsx(n,{sx:{my:5},children:r.jsx(P,{filled:!0,title:"Post not found!",action:r.jsx(h,{component:j,href:s.post.root,startIcon:r.jsx(x,{width:16,icon:"eva:arrow-ios-back-fill"}),sx:{mt:3},children:"Back to list"}),sx:{py:10}})}):r.jsxs(r.Fragment,{children:[r.jsx(G,{title:(e==null?void 0:e.title)??"",author:e==null?void 0:e.author,coverUrl:(e==null?void 0:e.coverUrl)??"",createdAt:e==null?void 0:e.createdAt}),r.jsx(n,{maxWidth:!1,sx:[a=>({py:3,mb:5,borderBottom:`solid 1px ${a.vars.palette.divider}`})],children:r.jsx(f,{links:[{name:"Home",href:"/"},{name:"Blog",href:s.post.root},{name:e==null?void 0:e.title}],sx:{maxWidth:720,mx:"auto"}})}),r.jsx(n,{maxWidth:!1,children:r.jsxs(d,{sx:{maxWidth:720,mx:"auto"},children:[r.jsx(t,{variant:"subtitle1",children:e==null?void 0:e.description}),r.jsx(p,{children:e==null?void 0:e.content}),r.jsxs(d,{spacing:3,sx:[a=>({py:3,borderTop:`dashed 1px ${a.vars.palette.divider}`,borderBottom:`dashed 1px ${a.vars.palette.divider}`})],children:[r.jsx(o,{sx:{gap:1,display:"flex",flexWrap:"wrap"},children:e==null?void 0:e.tags.map(a=>r.jsx(u,{label:a,variant:"soft"},a))}),r.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(b,{label:v(e==null?void 0:e.totalFavorites),control:r.jsx(g,{defaultChecked:!0,size:"small",color:"error",icon:r.jsx(x,{icon:"solar:heart-bold"}),checkedIcon:r.jsx(x,{icon:"solar:heart-bold"}),inputProps:{id:"favorite-checkbox","aria-label":"Favorite checkbox"}}),sx:{mr:1}}),r.jsx(W,{children:e==null?void 0:e.favoritePerson.map(a=>r.jsx(k,{alt:a.name,src:a.avatarUrl},a.name))})]})]}),r.jsxs(o,{sx:{mb:3,mt:5,display:"flex"},children:[r.jsx(t,{variant:"h4",children:"Comments"}),r.jsxs(t,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",e==null?void 0:e.comments.length,")"]})]}),r.jsx(H,{}),r.jsx(C,{sx:{mt:5,mb:2}}),r.jsx(L,{comments:e==null?void 0:e.comments})]})}),!!(i!=null&&i.length)&&r.jsxs(n,{sx:{pb:15},children:[r.jsx(t,{variant:"h4",sx:{mb:5},children:"Recent Posts"}),r.jsx(c,{container:!0,spacing:3,children:i==null?void 0:i.slice(i.length-4).map(a=>r.jsx(c,{size:{xs:12,sm:6,md:4,lg:3},children:r.jsx(w,{post:a,detailsHref:s.post.details(a.title)})},a.id))})]})]})}const E={title:`Post details - ${B.appName}`};function tr(){const{title:e=""}=F(),{post:i,postLoading:m,postError:l}=I(e),{latestPosts:a}=A(e);return r.jsxs(r.Fragment,{children:[r.jsx(y,{children:r.jsxs("title",{children:[" ",E.title]})}),r.jsx($,{post:i,latestPosts:a,loading:m,error:l})]})}export{tr as default};
