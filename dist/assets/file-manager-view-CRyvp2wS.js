import{af as re,ae as le,r as g,ag as ie,am as oe,ah as q,s as _,j as e,ai as ce,bp as ve,ak as de,u as ye,df as he,Y as y,ca as Y,er as ke,c5 as z,U as $,b1 as B,B as k,dg as J,T as N,de as pe,aJ as Fe,d0 as De,aK as we,A as xe,bu as ue,I as f,a1 as O,cM as G,cI as Te,cb as X,cc as ge,cd as P,D as Q,f as S,c3 as se,au as Ae,a0 as Se,dA as me,aP as Re,S as Ce,aj as Ie,cN as Pe,es as Ee,bw as ae,a_ as H,dC as Me,dD as Le,dl as $e,dF as Be,et as Ne}from"./index-D82XrlGq.js";import{E as ze}from"./empty-content-CAmd9egU.js";import{C as Z}from"./confirm-dialog-rvtuH5TT.js";import{T as Oe,u as He,g as Ue,r as We}from"./table-no-data-DH7CjOyR.js";import{T as Ve}from"./table-head-custom-CuFVaOdc.js";import{T as qe}from"./table-selected-action-B1DH3GwP.js";import{T as Ge}from"./table-pagination-custom-D5_o9sKp.js";import{F as fe,a as ee,d as K,b as te,c as Ke}from"./file-manager-folder-item-qCEG_2aE.js";import{b as _e,T as Ye,a as Je}from"./TableHead-RMfhpLqX.js";import{T as R}from"./TableCell-9zzJlMjB.js";import{A as je}from"./AvatarGroup-BSnlJl2K.js";import{t as Xe}from"./TablePagination-DsJAP4En.js";import{C as Qe}from"./custom-date-range-picker-T_9TEurh.js";import{F as Ze,a as U,c as W}from"./filters-result-BUC8QtIh.js";import{T as eo,a as ne}from"./ToggleButtonGroup-tcN9I-P7.js";function oo(o){return le("MuiCardActionArea",o)}const V=re("MuiCardActionArea",["root","focusVisible","focusHighlight"]),so=o=>{const{classes:t}=o;return ce({root:["root"],focusHighlight:["focusHighlight"]},oo,t)},ao=_(ve,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(o,t)=>t.root})(de(({theme:o})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${V.focusHighlight}`]:{opacity:(o.vars||o).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${V.focusVisible} .${V.focusHighlight}`]:{opacity:(o.vars||o).palette.action.focusOpacity}}))),to=_("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(o,t)=>t.focusHighlight})(de(({theme:o})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:o.transitions.create("opacity",{duration:o.transitions.duration.short})}))),no=g.forwardRef(function(t,u){const r=ie({props:t,name:"MuiCardActionArea"}),{children:s,className:h,focusVisibleClassName:m,slots:l={},slotProps:n={},...a}=r,x=r,i=so(x),p={slots:l,slotProps:n},[v,C]=oe("root",{elementType:ao,externalForwardedProps:{...p,...a},shouldForwardComponentProp:!0,ownerState:x,ref:u,className:q(i.root,h),additionalProps:{focusVisibleClassName:q(m,i.focusVisible)}}),[j,b]=oe("focusHighlight",{elementType:to,externalForwardedProps:p,ownerState:x,ref:u,className:i.focusHighlight});return e.jsxs(v,{...C,children:[s,e.jsx(j,{...b})]})});function ro(o){return le("MuiTableContainer",o)}re("MuiTableContainer",["root"]);const lo=o=>{const{classes:t}=o;return ce({root:["root"]},ro,t)},io=_("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(o,t)=>t.root})({width:"100%",overflowX:"auto"}),co=g.forwardRef(function(t,u){const r=ie({props:t,name:"MuiTableContainer"}),{className:s,component:h="div",...m}=r,l={...r,component:h},n=lo(l);return e.jsx(io,{ref:u,as:h,className:q(n.root,s),ownerState:l,...m})});function ho({row:o,selected:t,onSelectRow:u,onDeleteRow:r}){const s=ye(),{copy:h}=he(),[m,l]=g.useState(""),n=y(),a=y(),x=y(),i=Y(),p=y(o.isFavorited),v=g.useCallback(D=>{l(D.target.value)},[]),C=ke({click:()=>{a.onTrue()},doubleClick:()=>console.info("DOUBLE CLICK")}),j=g.useCallback(()=>{z.success("Copied!"),h(o.url)},[h,o.url]),b={borderTop:`solid 1px ${$(s.vars.palette.grey["500Channel"],.16)}`,borderBottom:`solid 1px ${$(s.vars.palette.grey["500Channel"],.16)}`,"&:first-of-type":{borderTopLeftRadius:16,borderBottomLeftRadius:16,borderLeft:`solid 1px ${$(s.vars.palette.grey["500Channel"],.16)}`},"&:last-of-type":{borderTopRightRadius:16,borderBottomRightRadius:16,borderRight:`solid 1px ${$(s.vars.palette.grey["500Channel"],.16)}`}},w=()=>e.jsx(X,{open:i.open,anchorEl:i.anchorEl,onClose:i.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(ge,{children:[e.jsxs(P,{onClick:()=>{i.onClose(),j()},children:[e.jsx(f,{icon:"eva:link-2-fill"}),"Copiar Link"]}),e.jsxs(P,{onClick:()=>{i.onClose(),n.onTrue()},children:[e.jsx(f,{icon:"solar:share-bold"}),"Compartilhar"]}),e.jsx(Q,{sx:{borderStyle:"dashed"}}),e.jsxs(P,{onClick:()=>{x.onTrue(),i.onClose()},sx:{color:"error.main"},children:[e.jsx(f,{icon:"solar:trash-bin-trash-bold"}),"Apagar"]})]})}),T=()=>e.jsx(fe,{file:o,favorited:p.value,onFavorite:p.onToggle,onCopyLink:j,open:a.value,onClose:a.onFalse,onDelete:r}),c=()=>e.jsx(ee,{open:n.value,shared:o.shared,inviteEmail:m,onChangeInvite:v,onCopyLink:j,onClose:()=>{n.onFalse(),l("")}}),F=()=>e.jsx(Z,{open:x.value,onClose:x.onFalse,title:"Apagar",content:"Você tem certeza que deseja apagar?",action:e.jsx(S,{variant:"contained",color:"error",onClick:r,children:"Apagar"})});return e.jsxs(e.Fragment,{children:[e.jsxs(_e,{selected:t,sx:{borderRadius:2,[`&.${Te.selected}, &:hover`]:{backgroundColor:"background.paper",boxShadow:s.vars.customShadows.z20,transition:s.transitions.create(["background-color","box-shadow"],{duration:s.transitions.duration.shortest}),"&:hover":{backgroundColor:"background.paper",boxShadow:s.vars.customShadows.z20}},[`& .${G.root}`]:{...b},...a.value&&{[`& .${G.root}`]:{...b}}},children:[e.jsx(R,{padding:"checkbox",children:e.jsx(B,{checked:t,onClick:u,onDoubleClick:()=>console.info("ON DOUBLE CLICK"),inputProps:{id:`${o.id}-checkbox`,"aria-label":`${o.id} checkbox`}})}),e.jsx(R,{onClick:C,children:e.jsxs(k,{sx:{gap:2,display:"flex",alignItems:"center"},children:[e.jsx(J,{file:o.type}),e.jsx(N,{noWrap:!0,variant:"inherit",sx:{maxWidth:360,cursor:"pointer",...a.value&&{fontWeight:"fontWeightBold"}},children:o.name})]})}),e.jsx(R,{onClick:C,sx:{whiteSpace:"nowrap"},children:pe(o.size)}),e.jsx(R,{onClick:C,sx:{whiteSpace:"nowrap"},children:o.type}),e.jsx(R,{onClick:C,sx:{whiteSpace:"nowrap"},children:e.jsx(Fe,{primary:we(o.modifiedAt),secondary:De(o.modifiedAt),slotProps:{primary:{sx:{typography:"body2"}},secondary:{sx:{mt:.5,typography:"caption"}}}})}),e.jsx(R,{align:"right",onClick:C,children:e.jsx(je,{max:4,sx:{display:"inline-flex",[`& .${ue.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:o.shared&&o.shared.map(D=>e.jsx(xe,{alt:D.name,src:D.avatarUrl},D.id))})}),e.jsxs(R,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:[e.jsx(B,{color:"warning",icon:e.jsx(f,{icon:"eva:star-outline"}),checkedIcon:e.jsx(f,{icon:"eva:star-fill"}),checked:p.value,onChange:p.onToggle,sx:{p:.75},inputProps:{id:`favorite-checkbox-${o.id}`,"aria-label":"Favorite checkbox"}}),e.jsx(O,{color:i.open?"inherit":"default",onClick:i.onOpen,children:e.jsx(f,{icon:"eva:more-vertical-fill"})})]})]}),T(),c(),w(),F()]})}const po=[{id:"name",label:"Nome"},{id:"size",label:"Tamanho",width:120},{id:"type",label:"Tipo",width:120},{id:"modifiedAt",label:"Modificação",width:140},{id:"shared",label:"Compartilhado",align:"right",width:140},{id:"",width:88}];function xo({sx:o,table:t,notFound:u,onDeleteRow:r,dataFiltered:s,onOpenConfirm:h,...m}){const{dense:l,page:n,order:a,orderBy:x,rowsPerPage:i,selected:p,onSelectRow:v,onSelectAllRows:C,onSort:j,onChangeDense:b,onChangePage:w,onChangeRowsPerPage:T}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(k,{sx:[c=>({position:"relative",m:{md:c.spacing(-2,-3,0,-3)}}),...Array.isArray(o)?o:[o]],...m,children:[e.jsx(qe,{dense:l,numSelected:p.length,rowCount:s.length,onSelectAllRows:c=>C(c,s.map(F=>F.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(se,{title:"Share",children:e.jsx(O,{color:"primary",children:e.jsx(f,{icon:"solar:share-bold"})})}),e.jsx(se,{title:"Delete",children:e.jsx(O,{color:"primary",onClick:h,children:e.jsx(f,{icon:"solar:trash-bin-trash-bold"})})})]}),sx:{pl:1,pr:2,top:16,left:24,right:24,width:"auto",borderRadius:1.5}}),e.jsx(co,{sx:{px:{md:3}},children:e.jsxs(Ye,{size:l?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[e.jsx(Ve,{order:a,orderBy:x,headCells:po,rowCount:s.length,numSelected:p.length,onSort:j,onSelectAllRows:c=>C(c,s.map(F=>F.id)),sx:{[`& .${G.head}`]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),e.jsxs(Je,{children:[s.slice(n*i,n*i+i).map(c=>e.jsx(ho,{row:c,selected:p.includes(c.id),onSelectRow:()=>v(c.id),onDeleteRow:()=>r(c.id)},c.id)),e.jsx(Oe,{notFound:u,sx:[c=>({m:-2,borderRadius:1.5,border:`dashed 1px ${c.vars.palette.divider}`})]})]})]})})]}),e.jsx(Ge,{page:n,dense:l,rowsPerPage:i,count:s.length,onPageChange:w,onChangeDense:b,onRowsPerPageChange:T,sx:{[`& .${Xe.toolbar}`]:{borderTopColor:"transparent"}}})]})}function uo({filters:o,options:t,dateError:u,onResetPage:r,openDateRange:s,onOpenDateRange:h,onCloseDateRange:m}){const l=Y(),{state:n,setState:a}=o,x=n.type.length?n.type.slice(0,2).join(","):"Todos os tipos",i=g.useCallback(c=>{r(),a({name:c.target.value})},[r,a]),p=g.useCallback(c=>{r(),a({startDate:c})},[r,a]),v=g.useCallback(c=>{a({endDate:c})},[a]),C=g.useCallback(c=>{const F=n.type.includes(c)?n.type.filter(D=>D!==c):[...n.type,c];a({type:F})},[a,n.type]),j=g.useCallback(()=>{l.onClose(),a({type:[]})},[l,a]),b=()=>e.jsx(Ae,{value:n.name,onChange:i,placeholder:"Pesquisar...",slotProps:{input:{startAdornment:e.jsx(Se,{position:"start",children:e.jsx(f,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}},sx:{width:{xs:1,md:260}}}),w=()=>e.jsxs(e.Fragment,{children:[e.jsxs(S,{color:"inherit",onClick:l.onOpen,endIcon:e.jsx(f,{icon:l.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:[x,n.type.length>2&&e.jsxs(Re,{color:"info",sx:{ml:1},children:["+",n.type.length-2]})]}),e.jsx(X,{open:l.open,anchorEl:l.anchorEl,onClose:l.onClose,slotProps:{paper:{sx:{p:2.5}}},children:e.jsxs(Ce,{spacing:2.5,children:[e.jsx(k,{sx:{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(4, 1fr)"}},children:t.types.map(c=>{const F=n.type.includes(c);return e.jsx(no,{onClick:()=>C(c),sx:[D=>({p:1,borderRadius:1,cursor:"pointer",border:`solid 1px ${$(D.vars.palette.grey["500Channel"],.08)}`,...F&&{bgcolor:"action.selected"}})],children:e.jsxs(k,{sx:{gap:1,display:"flex",alignItems:"center",typography:"caption",textTransform:"capitalize",...F&&{fontWeight:"fontWeightSemiBold"}},children:[e.jsx(J,{file:c,sx:{width:24,height:24}}),c]})},c)})}),e.jsxs(k,{sx:{gap:1.5,display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[e.jsx(S,{variant:"outlined",color:"inherit",onClick:j,children:"Limpar"}),e.jsx(S,{variant:"contained",onClick:l.onClose,children:"Aplicar"})]})]})})]}),T=()=>e.jsxs(e.Fragment,{children:[e.jsx(S,{color:"inherit",onClick:h,endIcon:e.jsx(f,{icon:s?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:n.startDate&&n.endDate?me(n.startDate,n.endDate):"Período"}),e.jsx(Qe,{variant:"calendar",startDate:n.startDate,endDate:n.endDate,onChangeStartDate:p,onChangeEndDate:v,open:s,onClose:m,selected:!!n.startDate&&!!n.endDate,error:u})]});return e.jsxs(k,{sx:{gap:1,width:1,display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"}},children:[b(),e.jsxs(k,{sx:{gap:1,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[T(),w()]})]})}function go({file:o,selected:t,onSelect:u,onDelete:r,sx:s,...h}){const m=y(),l=y(),n=y(),a=Y(),x=y(),i=y(o.isFavorited),{copy:p}=he(),[v,C]=g.useState(""),j=g.useCallback(d=>{C(d.target.value)},[]),b=g.useCallback(()=>{z.success("Copied!"),p(o.url)},[p,o.url]),w=()=>e.jsx(k,{onMouseEnter:x.onTrue,onMouseLeave:x.onFalse,sx:{display:"inline-flex",width:36,height:36},children:(x.value||t)&&u?e.jsx(B,{checked:t,onClick:u,icon:e.jsx(f,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(f,{icon:"eva:checkmark-circle-2-fill"}),inputProps:{id:`${o.id}-checkbox`,"aria-label":`${o.id} checkbox`},sx:{width:1,height:1}}):e.jsx(J,{file:o.type,sx:{width:1,height:1}})}),T=()=>e.jsxs(k,{sx:{top:8,right:8,display:"flex",position:"absolute",alignItems:"center"},children:[e.jsx(B,{color:"warning",icon:e.jsx(f,{icon:"eva:star-outline"}),checkedIcon:e.jsx(f,{icon:"eva:star-fill"}),checked:i.value,onChange:i.onToggle,inputProps:{id:`favorite-${o.id}-checkbox`,"aria-label":`Favorite ${o.id} checkbox`}}),e.jsx(O,{color:a.open?"inherit":"default",onClick:a.onOpen,children:e.jsx(f,{icon:"eva:more-vertical-fill"})})]}),c=()=>e.jsxs(e.Fragment,{children:[e.jsx(N,{variant:"subtitle2",onClick:n.onTrue,sx:d=>({...d.mixins.maxLine({line:2,persistent:d.typography.subtitle2}),mt:2,mb:.5,width:1}),children:o.name}),e.jsxs(k,{sx:{maxWidth:.99,display:"flex",whiteSpace:"nowrap",alignItems:"center",typography:"caption",color:"text.disabled"},children:[pe(o.size),e.jsx(k,{component:"span",sx:{mx:.75,width:2,height:2,flexShrink:0,borderRadius:"50%",bgcolor:"currentColor"}}),e.jsx(N,{noWrap:!0,component:"span",variant:"caption",children:Pe(o.modifiedAt)})]})]}),F=()=>{var d;return e.jsx(je,{max:3,sx:{mt:1,[`& .${ue.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:(d=o.shared)==null?void 0:d.map(A=>e.jsx(xe,{alt:A.name,src:A.avatarUrl},A.id))})},D=()=>e.jsx(ee,{open:m.value,shared:o.shared,inviteEmail:v,onChangeInvite:j,onCopyLink:b,onClose:()=>{m.onFalse(),C("")}}),E=()=>e.jsx(fe,{file:o,favorited:i.value,onFavorite:i.onToggle,onCopyLink:b,open:n.value,onClose:n.onFalse,onDelete:()=>{n.onFalse(),r()}}),M=()=>e.jsx(X,{open:a.open,anchorEl:a.anchorEl,onClose:a.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(ge,{children:[e.jsxs(P,{onClick:()=>{a.onClose(),b()},children:[e.jsx(f,{icon:"eva:link-2-fill"}),"Copiar Link"]}),e.jsxs(P,{onClick:()=>{a.onClose(),m.onTrue()},children:[e.jsx(f,{icon:"solar:share-bold"}),"Compartilhar"]}),e.jsx(Q,{sx:{borderStyle:"dashed"}}),e.jsxs(P,{onClick:()=>{l.onTrue(),a.onClose()},sx:{color:"error.main"},children:[e.jsx(f,{icon:"solar:trash-bin-trash-bold"}),"Apagar"]})]})}),L=()=>e.jsx(Z,{open:l.value,onClose:l.onFalse,title:"Apagar",content:"Você tem certeza que deseja apagar este arquivo?",action:e.jsx(S,{variant:"contained",color:"error",onClick:r,children:"Apagar"})});return e.jsxs(e.Fragment,{children:[e.jsxs(Ie,{variant:"outlined",sx:[d=>({p:2.5,display:"flex",borderRadius:2,cursor:"pointer",position:"relative",bgcolor:"transparent",flexDirection:"column",alignItems:"flex-start",...(x.value||t)&&{bgcolor:"background.paper",boxShadow:d.vars.customShadows.z20}}),...Array.isArray(s)?s:[s]],...h,children:[w(),c(),F(),T()]}),D(),E(),M(),L()]})}function mo({action:o,selected:t,rowCount:u,numSelected:r,onSelectAllItems:s,sx:h,...m}){return e.jsx(Ee,{children:e.jsxs(k,{sx:[l=>({right:0,zIndex:9,bottom:0,display:"flex",borderRadius:1.5,position:"fixed",alignItems:"center",bgcolor:"text.primary",p:l.spacing(1.5,2,1.5,1),boxShadow:l.vars.customShadows.z20,m:{xs:2,md:3}}),...Array.isArray(h)?h:[h]],...m,children:[e.jsx(B,{indeterminate:!!r&&r<u,checked:!!u&&r===u,onChange:l=>s(l.target.checked),icon:e.jsx(f,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(f,{icon:"eva:checkmark-circle-2-fill"}),indeterminateIcon:e.jsx(f,{icon:"eva:minus-circle-fill"})}),t&&e.jsxs(N,{variant:"subtitle2",sx:[l=>({mr:2,color:"common.white",...l.applyStyles("dark",{color:"grey.800"})})],children:[t.length," Items selected"]}),o&&o]})})}function Co({table:o,dataFiltered:t,onDeleteItem:u,onOpenConfirm:r}){const{selected:s,onSelectRow:h,onSelectAllRows:m}=o,l=g.useRef(null),n=y(),a=y(),x=y(),i=y(),p=y(),[v,C]=g.useState(""),[j,b]=g.useState(""),w=g.useCallback(d=>{b(d.target.value)},[]),T=g.useCallback(d=>{C(d.target.value)},[]),c=()=>e.jsx(ee,{open:n.value,inviteEmail:j,onChangeInvite:w,onClose:()=>{n.onFalse(),b("")}}),F=()=>e.jsx(K,{open:i.value,onClose:i.onFalse}),D=()=>e.jsx(K,{open:p.value,onClose:p.onFalse,title:"New Folder",onCreate:()=>{p.onFalse(),C(""),console.info("CREATE NEW FOLDER",v)},folderName:v,onChangeFolderName:T}),E=()=>e.jsxs(e.Fragment,{children:[e.jsx(te,{title:"Folders",subtitle:`${t.filter(d=>d.type==="folder").length} folders`,onOpen:p.onTrue,collapse:x.value,onCollapse:x.onToggle}),e.jsx(ae,{in:!x.value,unmountOnExit:!0,children:e.jsx(k,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"}},children:t.filter(d=>d.type==="folder").map(d=>e.jsx(Ke,{folder:d,selected:s.includes(d.id),onSelect:()=>h(d.id),onDelete:()=>u(d.id)},d.id))})})]}),M=()=>e.jsxs(e.Fragment,{children:[e.jsx(te,{title:"Files",subtitle:`${t.filter(d=>d.type!=="folder").length} files`,onOpen:i.onTrue,collapse:a.value,onCollapse:a.onToggle}),e.jsx(ae,{in:!a.value,unmountOnExit:!0,children:e.jsx(k,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"}},children:t.filter(d=>d.type!=="folder").map(d=>e.jsx(go,{file:d,selected:s.includes(d.id),onSelect:()=>h(d.id),onDelete:()=>u(d.id)},d.id))})})]}),L=()=>!!(s!=null&&s.length)&&e.jsx(mo,{numSelected:s.length,rowCount:t.length,selected:s,onSelectAllItems:d=>m(d,t.map(A=>A.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(S,{size:"small",color:"error",variant:"contained",startIcon:e.jsx(f,{icon:"solar:trash-bin-trash-bold"}),onClick:r,sx:{mr:1},children:"Delete"}),e.jsx(S,{color:"primary",size:"small",variant:"contained",startIcon:e.jsx(f,{icon:"solar:share-bold"}),onClick:n.onTrue,children:"Share"})]})});return e.jsxs(e.Fragment,{children:[e.jsxs(k,{ref:l,children:[E(),e.jsx(Q,{sx:{my:5,borderStyle:"dashed"}}),M(),L()]}),c(),F(),D()]})}function fo({filters:o,onResetPage:t,totalResults:u,sx:r}){const{state:s,setState:h,resetState:m}=o,l=g.useCallback(()=>{t(),h({name:""})},[t,h]),n=g.useCallback(i=>{const p=s.type.filter(v=>v!==i);t(),h({type:p})},[t,h,s.type]),a=g.useCallback(()=>{t(),h({startDate:null,endDate:null})},[t,h]),x=g.useCallback(()=>{t(),m()},[t,m]);return e.jsxs(Ze,{totalResults:u,onReset:x,sx:r,children:[e.jsx(U,{label:"Types:",isShow:!!s.type.length,children:s.type.map(i=>g.createElement(H,{...W,key:i,label:i,onDelete:()=>n(i),sx:{textTransform:"capitalize"}}))}),e.jsx(U,{label:"Date:",isShow:!!(s.startDate&&s.endDate),children:e.jsx(H,{...W,label:me(s.startDate,s.endDate),onDelete:a})}),e.jsx(U,{label:"Keyword:",isShow:!!s.name,children:e.jsx(H,{...W,label:s.name,onDelete:l})})]})}function Lo({files:o=[],title:t="File manager",uploadeButtonName:u="Upload"}){const r=He({defaultRowsPerPage:10}),s=y(),h=y(),m=y(),[l,n]=g.useState("list"),[a,x]=g.useState(o),i=Me({name:"",type:[],startDate:null,endDate:null}),{state:p}=i,v=Le(p.startDate,p.endDate),C=jo({inputData:a,comparator:Ue(r.order,r.orderBy),filters:p,dateError:v}),j=We(C,r.page,r.rowsPerPage),b=!!p.name||p.type.length>0||!!p.startDate&&!!p.endDate,w=!C.length&&b||!C.length,T=g.useCallback((A,I)=>{I!==null&&n(I)},[]),c=g.useCallback(A=>{const I=a.filter(be=>be.id!==A);z.success("Apagado com sucesso!"),x(I),r.onUpdatePageDeleteRow(j.length)},[j.length,r,a]),F=g.useCallback(()=>{const A=a.filter(I=>!r.selected.includes(I.id));z.success("Apagado com sucesso!"),x(A),r.onUpdatePageDeleteRows(j.length,C.length)},[C.length,j.length,r,a]),D=()=>e.jsxs(k,{sx:{gap:2,display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"}},children:[e.jsx(uo,{filters:i,dateError:v,onResetPage:r.onResetPage,openDateRange:s.value,onOpenDateRange:s.onTrue,onCloseDateRange:s.onFalse,options:{types:Ne}}),e.jsxs(eo,{size:"small",value:l,exclusive:!0,onChange:T,children:[e.jsx(ne,{value:"list",children:e.jsx(f,{icon:"solar:list-bold"})}),e.jsx(ne,{value:"grid",children:e.jsx(f,{icon:"mingcute:dot-grid-fill"})})]})]}),E=()=>e.jsx(fo,{filters:i,totalResults:C.length,onResetPage:r.onResetPage}),M=()=>e.jsx(K,{open:m.value,onClose:m.onFalse}),L=()=>e.jsx(Z,{open:h.value,onClose:h.onFalse,title:"Apagar",content:e.jsxs(e.Fragment,{children:["Você tem certeza que deseja apagar ",e.jsxs("strong",{children:[" ",r.selected.length," "]})," items?"]}),action:e.jsx(S,{variant:"contained",color:"error",onClick:()=>{F(),h.onFalse()},children:"Apagar"})}),d=()=>l==="list"?e.jsx(xo,{table:r,dataFiltered:C,onDeleteRow:c,notFound:w,onOpenConfirm:h.onTrue}):e.jsx(Co,{table:r,dataFiltered:C,onDeleteItem:c,onOpenConfirm:h.onTrue});return e.jsxs(e.Fragment,{children:[e.jsxs(k,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(N,{variant:"h4",children:t}),e.jsx(S,{variant:"contained",startIcon:e.jsx(f,{icon:"eva:cloud-upload-fill"}),onClick:m.onTrue,children:u})]}),e.jsxs(Ce,{spacing:2.5,sx:{my:{xs:3,md:5}},children:[D(),b&&E()]}),w?e.jsx(ze,{filled:!0,sx:{py:10}}):d(),M(),L()]})}function jo({inputData:o,comparator:t,filters:u,dateError:r}){const{name:s,type:h,startDate:m,endDate:l}=u,n=o.map((a,x)=>[a,x]);return n.sort((a,x)=>{const i=t(a[0],x[0]);return i!==0?i:a[1]-x[1]}),o=n.map(a=>a[0]),s&&(o=o.filter(a=>a.name.toLowerCase().includes(s.toLowerCase()))),h.length&&(o=o.filter(a=>h.includes($e(a.type)))),r||m&&l&&(o=o.filter(a=>Be(a.createdAt,m,l))),o}export{Lo as F};
