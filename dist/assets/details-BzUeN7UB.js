import{Y as S,j as s,B as d,a_ as n,a1 as h,p as m,R as C,I as o,au as w,b3 as F,aS as N,aV as P,f as k,r as g,e4 as A,S as u,aP as B,T as a,aK as f,D as y,bp as O,a$ as I,cV as V,bj as W,dZ as E,H as G,C as H}from"./index-cNRh_qft.js";import{u as L}from"./use-params-DYuE92tD.js";import"./empty-content-BzM3Az2z.js";import"./filters-result-BTXXEhsP.js";import{I as R,a as _,b as q}from"./invoice-pdf-op1XGN9c.js";import{C as $}from"./Card-C_-31fGp.js";import{a as U,c as K,T,b as M}from"./TableHead-DBnjkyMB.js";import{T as l}from"./TableCell-CGwO8Re3.js";import"./schema-helper-D18en8Wv.js";import"./address-new-form-DjRCGj6o.js";import"./sumBy-ofy1HSRF.js";function Q({invoice:t,currentStatus:r,statusOptions:x,onChangeStatus:p}){const{value:b,onFalse:i,onTrue:e}=S(),j=()=>t?s.jsx(_,{invoice:t,currentStatus:r}):null,D=()=>s.jsx(N,{fullScreen:!0,open:b,children:s.jsxs(d,{sx:{height:1,display:"flex",flexDirection:"column"},children:[s.jsx(P,{sx:{p:1.5},children:s.jsx(k,{color:"inherit",variant:"contained",onClick:i,children:"Close"})}),s.jsx(d,{sx:{flexGrow:1,height:1,overflow:"hidden"},children:t&&s.jsx(R,{invoice:t,currentStatus:r})})]})});return s.jsxs(s.Fragment,{children:[s.jsxs(d,{sx:{gap:3,display:"flex",mb:{xs:3,md:5},flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-end",sm:"center"}},children:[s.jsxs(d,{sx:{gap:1,width:1,flexGrow:1,display:"flex"},children:[s.jsx(n,{title:"Edit",children:s.jsx(h,{component:C,href:m.dashboard.invoice.edit(`${t==null?void 0:t.id}`),children:s.jsx(o,{icon:"solar:pen-bold"})})}),s.jsx(n,{title:"View",children:s.jsx(h,{onClick:e,children:s.jsx(o,{icon:"solar:eye-bold"})})}),j(),s.jsx(n,{title:"Print",children:s.jsx(h,{children:s.jsx(o,{icon:"solar:printer-minimalistic-bold"})})}),s.jsx(n,{title:"Send",children:s.jsx(h,{children:s.jsx(o,{icon:"iconamoon:send-fill"})})}),s.jsx(n,{title:"Share",children:s.jsx(h,{children:s.jsx(o,{icon:"solar:share-bold"})})})]}),s.jsx(w,{fullWidth:!0,select:!0,label:"Status",value:r,onChange:p,sx:{maxWidth:160},slotProps:{htmlInput:{id:"status-select"},inputLabel:{htmlFor:"status-select"}},children:x.map(c=>s.jsx(F,{value:c.value,children:c.label},c.value))})]}),D()]})}function Y({invoice:t}){const[r,x]=g.useState(t==null?void 0:t.status),p=g.useCallback(e=>{x(e.target.value)},[]),b=()=>s.jsxs(d,{sx:{py:3,gap:2,display:"flex",flexWrap:"wrap",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx(a,{variant:"subtitle2",sx:{mb:.5},children:"NOTES"}),s.jsx(a,{variant:"body2",children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),s.jsxs(d,{sx:{flexGrow:{md:1},textAlign:{md:"right"}},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:.5},children:"Have a question?"}),s.jsx(a,{variant:"body2",children:"support@minimals.cc"})]})]}),i=()=>s.jsx(O,{sx:{mt:5},children:s.jsxs(U,{sx:{minWidth:960},children:[s.jsx(K,{children:s.jsxs(T,{children:[s.jsx(l,{width:40,children:"#"}),s.jsx(l,{sx:{typography:"subtitle2"},children:"Description"}),s.jsx(l,{children:"Qty"}),s.jsx(l,{align:"right",children:"Unit price"}),s.jsx(l,{align:"right",children:"Total"})]})}),s.jsx(M,{children:t==null?void 0:t.items.map((e,j)=>s.jsxs(T,{children:[s.jsx(l,{children:j+1}),s.jsx(l,{children:s.jsxs(d,{sx:{maxWidth:560},children:[s.jsx(a,{variant:"subtitle2",children:e.title}),s.jsx(a,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:e.description})]})}),s.jsx(l,{children:e.quantity}),s.jsx(l,{align:"right",children:I(e.price)}),s.jsx(l,{align:"right",children:I(e.price*e.quantity)})]},j))})]})});return s.jsxs(s.Fragment,{children:[s.jsx(Q,{invoice:t,currentStatus:r||"",onChangeStatus:p,statusOptions:A}),s.jsxs($,{sx:{pt:5,px:5},children:[s.jsxs(d,{sx:{rowGap:5,display:"grid",alignItems:"center",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[s.jsx(d,{component:"img",alt:"Invoice logo",src:"/logo/logo-single.svg",sx:{width:48,height:48}}),s.jsxs(u,{spacing:1,sx:{alignItems:{xs:"flex-start",md:"flex-end"}},children:[s.jsx(B,{variant:"soft",color:r==="paid"&&"success"||r==="pending"&&"warning"||r==="overdue"&&"error"||"default",children:r}),s.jsx(a,{variant:"h6",children:t==null?void 0:t.invoiceNumber})]}),s.jsxs(u,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Invoice from"}),t==null?void 0:t.invoiceFrom.name,s.jsx("br",{}),t==null?void 0:t.invoiceFrom.fullAddress,s.jsx("br",{}),"Phone: ",t==null?void 0:t.invoiceFrom.phoneNumber,s.jsx("br",{})]}),s.jsxs(u,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Invoice to"}),t==null?void 0:t.invoiceTo.name,s.jsx("br",{}),t==null?void 0:t.invoiceTo.fullAddress,s.jsx("br",{}),"Phone: ",t==null?void 0:t.invoiceTo.phoneNumber,s.jsx("br",{})]}),s.jsxs(u,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Date create"}),f(t==null?void 0:t.createDate)]}),s.jsxs(u,{sx:{typography:"body2"},children:[s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:"Due date"}),f(t==null?void 0:t.dueDate)]})]}),i(),s.jsx(y,{sx:{borderStyle:"dashed"}}),s.jsx(q,{taxes:t==null?void 0:t.taxes,subtotal:t==null?void 0:t.subtotal,discount:t==null?void 0:t.discount,shipping:t==null?void 0:t.shipping,totalAmount:t==null?void 0:t.totalAmount}),s.jsx(y,{sx:{mt:5,borderStyle:"dashed"}}),b()]})]})}function Z({invoice:t}){return s.jsxs(V,{children:[s.jsx(W,{heading:t==null?void 0:t.invoiceNumber,backHref:m.dashboard.invoice.root,links:[{name:"Dashboard",href:m.dashboard.root},{name:"Invoice",href:m.dashboard.invoice.root},{name:t==null?void 0:t.invoiceNumber}],sx:{mb:3}}),s.jsx(Y,{invoice:t})]})}const z={title:`Invoice details | Dashboard - ${H.appName}`};function ns(){const{id:t=""}=L(),r=E.find(x=>x.id===t);return s.jsxs(s.Fragment,{children:[s.jsx(G,{children:s.jsxs("title",{children:[" ",z.title]})}),s.jsx(Z,{invoice:r})]})}export{ns as default};
