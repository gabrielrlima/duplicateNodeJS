import{y as x,z as h,O as b,j as e,aS as j,F as g,aT as T,aU as f,S as C,K as r,B as t,aV as N,f as S,N as q,Q as a,bn as v,a3 as w}from"./index-cNRh_qft.js";import{s as o}from"./schema-helper-D18en8Wv.js";const A=b({city:a().min(1,{message:"City is required!"}),state:a().min(1,{message:"State is required!"}),name:a().min(1,{message:"Name is required!"}),address:a().min(1,{message:"Address is required!"}),zipCode:a().min(1,{message:"Zip code is required!"}),phoneNumber:o.phoneNumber({isValid:w}),country:o.nullableInput(a().min(1,{message:"Country is required!"}),{message:"Country is required!"}),primary:v(),addressType:a()});function D({open:l,onClose:i,onCreate:d}){const m={name:"",city:"",state:"",address:"",zipCode:"",country:"",primary:!0,phoneNumber:"",addressType:"Home"},n=x({mode:"all",resolver:h(A),defaultValues:m}),{handleSubmit:u,formState:{isSubmitting:c}}=n,p=u(async s=>{try{d({name:s.name,phoneNumber:s.phoneNumber,fullAddress:`${s.address}, ${s.city}, ${s.state}, ${s.country}, ${s.zipCode}`,addressType:s.addressType,primary:s.primary}),i()}catch(y){console.error(y)}});return e.jsx(j,{fullWidth:!0,maxWidth:"sm",open:l,onClose:i,children:e.jsxs(g,{methods:n,onSubmit:p,children:[e.jsx(T,{children:"New address"}),e.jsx(f,{dividers:!0,children:e.jsxs(C,{spacing:3,children:[e.jsx(r.RadioGroup,{row:!0,name:"addressType",options:[{label:"Home",value:"Home"},{label:"Office",value:"Office"}]}),e.jsxs(t,{sx:{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[e.jsx(r.Text,{name:"name",label:"Full name"}),e.jsx(r.Phone,{name:"phoneNumber",label:"Phone number",country:"US"})]}),e.jsx(r.Text,{name:"address",label:"Address"}),e.jsxs(t,{sx:{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"}},children:[e.jsx(r.Text,{name:"city",label:"Town/city"}),e.jsx(r.Text,{name:"state",label:"State"}),e.jsx(r.Text,{name:"zipCode",label:"Zip/code"})]}),e.jsx(r.CountrySelect,{name:"country",label:"Country",placeholder:"Choose a country"}),e.jsx(r.Checkbox,{name:"primary",label:"Use this address as default."})]})}),e.jsxs(N,{children:[e.jsx(S,{color:"inherit",variant:"outlined",onClick:i,children:"Cancel"}),e.jsx(q,{type:"submit",variant:"contained",loading:c,children:"Deliver to this address"})]})]})})}export{D as A};
