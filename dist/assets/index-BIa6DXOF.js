import{O as N,Q as h,c2 as _,a3 as W,bl as O,dO as Y,bv as X,j as e,ez as K,B as y,T as q,a1 as T,I as P,U as I,r as H,be as Z,bX as ee,hQ as L,f as se,N as te,y as U,z as V,fp as E,dV as z,F as B,K as n,Y as le,e0 as ae,a0 as A,b3 as J,D as R,el as ne,X as re,R as ie,bq as oe,aQ as ce,H as de,C as ue}from"./index-cNRh_qft.js";import{s as u}from"./schema-helper-D18en8Wv.js";import{b as m,C as me}from"./component-layout-D3xwTgqf.js";import{T as xe,a as he}from"./ToggleButtonGroup-BfHYW0lm.js";import"./orderBy-BP_idRMj.js";import"./Card-C_-31fGp.js";import"./CardHeader-CZZHKPlX.js";import"./CardContent-BPfTDHT5.js";const pe=N({fullName:h().min(1,{message:"Full name is required!"}).min(6,{message:"Mininum 6 characters!"}).max(32,{message:"Maximum 32 characters!"}),email:h().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),age:u.nullableInput(O({coerce:!0}).int().min(1,{message:"Age is required!"}).max(80,{message:"Age must be between 1 and 80"}),{message:"Age is required!"}),price:u.nullableInput(O({coerce:!0}).min(1,{message:"Price is required!"}).optional(),{message:"Price is required!"}),quantity:u.nullableInput(O({coerce:!0}).min(1,{message:"Quantity is required!"}).max(99,{message:"Quantity must be between 1 and 99"}),{message:"Quantity is required!"}),phoneNumber:u.phoneNumber({isValid:W}),code:h().min(1,{message:"Code is required!"}).min(6,{message:"Code must be at least 6 characters!"}),startDate:u.date({message:{required:"Start date is required!"}}),endDate:u.date({message:{required:"End date is required!"}}),password:h().min(1,{message:"Password is required!"}).min(6,{message:"Password is too short!"}),confirmPassword:h().min(1,{message:"Confirm password is required!"}),autocomplete:u.nullableInput(_(),{message:"Autocomplete is required!"}),singleCountry:h().min(1,{message:"Single country is required!"}),multiCountry:h().array().min(2,{message:"Selecione pelo menos 2 itens!"}),singleSelect:h().min(1,{message:"Single select is required!"}),multiSelect:h().array().min(2,{message:"Selecione pelo menos 2 itens!"})}).refine(s=>s.password===s.confirmPassword,{message:"Passwords do not match!",path:["confirmPassword"]}).refine(s=>!Y(s.startDate,s.endDate),{message:"End date cannot be earlier than start date!",path:["endDate"]}),ge=N({rating:O().min(1,{message:"Rating is required!"}),radioGroup:h().min(1,{message:"Choose at least one option!"}),checkbox:u.boolean({message:"Checkbox is required!"}),multiCheckbox:h().array().min(1,{message:"Choose at least one option!"}),switch:u.boolean({message:"Switch is required!"}),multiSwitch:h().array().min(1,{message:"Choose at least one option!"}),slider:O().min(10,{message:"Mininum value is >= 10"}),sliderRange:u.sliderRange({min:20,max:80})}),be=N({editor:u.editor().min(100,{message:"Content must be at least 100 characters"}).max(500,{message:"Content must be less than 500 characters"}),singleUpload:u.file({message:"Single upload is required!"}),multiUpload:u.files({message:"Multi upload is required!"})}),f={item:"item",key:"item__key",value:"item__value"};function G({sx:s,onCloseDebug:r}){const{watch:l,formState:a}=X(),i=l(),o=Object.keys(i).length,g=Object.keys(a.errors).length;return e.jsx(K,{children:e.jsxs(y,{sx:[t=>({...t.mixins.bgBlur({color:I(t.vars.palette.grey["900Channel"],.9)}),top:0,right:0,height:1,width:280,display:"none",position:"fixed",overflowY:"auto",color:"common.white",zIndex:t.zIndex.drawer,[t.breakpoints.up(1440)]:{display:"block"}}),...Array.isArray(s)?s:[s]],children:[e.jsxs(y,{sx:{py:1.5,pl:1.5,display:"flex",alignItems:"center"},children:[e.jsx(q,{variant:"subtitle1",sx:{flexGrow:1},children:"Debug"}),e.jsx(T,{onClick:r,children:e.jsx(P,{icon:"mingcute:close-line"})})]}),e.jsx(k,{label:"State",sx:{color:"success.light"},children:["submitCount","isDirty","isValid","disabled","isLoading","isSubmitted","isSubmitting","isValidating","isSubmitSuccessful"].map(t=>e.jsxs("div",{className:f.item,children:[e.jsx("span",{className:f.key,children:t}),e.jsx("span",{className:f.value,children:JSON.stringify(a[t],null,2)})]},t))}),e.jsx(k,{label:`Values (${o})`,sx:{color:"warning.light"},children:Object.keys(i).map(t=>{const x=i[t];return e.jsxs("div",{className:f.item,children:[e.jsx("span",{className:f.key,children:t}),e.jsx("span",{className:f.value,style:{...x==null&&{color:"coral"},...typeof x=="number"&&{color:"violet"}},children:je(i,t)})]},t)})}),e.jsx(k,{label:`Errors (${g})`,sx:{color:"error.light"},children:JSON.stringify(Object.keys(a.errors),null,2)}),e.jsx(k,{label:"Dirty fields",sx:{color:"info.light"},children:JSON.stringify(Object.keys(a.dirtyFields),null,2)}),e.jsx(k,{label:"Touched fields",sx:{color:"secondary.light"},children:JSON.stringify(Object.keys(a.touchedFields),null,2)})]})})}function k({label:s,children:r,sx:l}){const[a,i]=H.useState(!0);return e.jsxs(y,{sx:[o=>({borderBottom:`solid 1px ${o.vars.palette.divider}`}),...Array.isArray(l)?l:[l]],children:[e.jsxs(Z,{onClick:()=>i(!a),sx:{py:1,px:1.5,width:1,typography:"overline",justifyContent:"space-between",...a&&{bgcolor:"action.hover"}},children:[s,e.jsx(P,{width:16,icon:a?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill"})]}),e.jsx(ee,{in:a,children:e.jsx(y,{sx:[o=>({p:1,gap:.25,display:"flex",typography:"caption",flexDirection:"column",[`& .${f.item}`]:{display:"inline-flex",alignItems:"flex-start"},[`& .${f.key}`]:{px:.5,color:"common.white",bgcolor:I(o.vars.palette.common.blackChannel,.4)},[`& .${f.value}`]:{flex:"1 1 auto",textAlign:"right",bgcolor:I(o.vars.palette.common.blackChannel,.2)}})],children:r})})]})}function je(s,r){return s[r]===void 0?"undefined":r==="singleUpload"?JSON.stringify(s.singleUpload&&L(s.singleUpload),null,2):r==="multiUpload"?JSON.stringify(s.multiUpload.map(l=>L(l)),null,2):JSON.stringify(s[r],null,2)||"---"}const p={flexDirection:"column",alignItems:"unset",justifyContent:"flex-start"};function M({sx:s,disabled:r,onReset:l,loading:a,...i}){return e.jsxs(y,{sx:[()=>({mb:3,gap:2,display:"flex",justifyContent:"flex-end"}),...Array.isArray(s)?s:[s]],...i,children:[e.jsx(se,{color:"error",size:"large",variant:"soft",disabled:r,onClick:l,children:"Reset"}),e.jsx(te,{size:"large",type:"submit",variant:"contained",loading:a,children:"Submit to check"})]})}function $({sx:s,children:r,...l}){return e.jsx(y,{sx:[()=>({rowGap:5,columnGap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"}}),...Array.isArray(s)?s:[s]],...l,children:r})}function c({sx:s,children:r,label:l="RHFTextField"}){return e.jsxs(y,{sx:[()=>({gap:1,width:1,display:"flex",flexDirection:"column"}),...Array.isArray(s)?s:[s]],children:[e.jsx(q,{variant:"caption",sx:[a=>({textAlign:"right",fontStyle:"italic",color:"text.disabled",fontSize:a.typography.pxToRem(10)})],children:l}),r]})}const fe={editor:"",singleUpload:"",multiUpload:[]};function ye({debug:s,onClose:r}){const l=U({resolver:V(be),defaultValues:fe}),{watch:a,reset:i,setValue:o,handleSubmit:g,formState:{isSubmitting:t,errors:x}}=l,w=a(),v=g(async b=>{try{await new Promise(j=>setTimeout(j,3e3)),i(),console.info("DATA",b)}catch(j){console.error(j)}});return e.jsxs(e.Fragment,{children:[t&&e.jsx(E,{open:!0,sx:[b=>({zIndex:b.zIndex.modal+1})],children:e.jsx(z,{color:"warning"})}),e.jsxs(B,{methods:l,onSubmit:v,children:[s&&e.jsx(G,{onCloseDebug:r}),e.jsx(M,{loading:t,disabled:Object.keys(x).length===0,onReset:()=>i()}),e.jsxs($,{sx:{gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"}},children:[e.jsxs(m,{title:"Upload",sx:p,children:[e.jsx(n.Upload,{name:"singleUpload",maxSize:3145728,onDelete:()=>o("singleUpload",null,{shouldValidate:!0})}),e.jsx(n.Upload,{multiple:!0,thumbnail:!0,name:"multiUpload",maxSize:3145728,onRemove:b=>o("multiUpload",w.multiUpload.filter(j=>j!==b),{shouldValidate:!0}),onRemoveAll:()=>o("multiUpload",[],{shouldValidate:!0}),onUpload:()=>console.info("ON UPLOAD")})]}),e.jsx(m,{title:"Editor",sx:{display:"block"},children:e.jsx(n.Editor,{fullItem:!0,name:"editor",sx:{maxHeight:480}})})]})]})]})}const D=[{value:"option 1",label:"Option 1"},{value:"option 2",label:"Option 2"},{value:"option 3",label:"Option 3"},{value:"option 4",label:"Option 4"},{value:"option 5",label:"Option 5"},{value:"option 6",label:"Option 6"},{value:"option 7",label:"Option 7"},{value:"option 8",label:"Option 8"}],Se={email:"",fullName:"",age:null,price:void 0,quantity:0,code:"",phoneNumber:"",password:"",confirmPassword:"",startDate:ae(),endDate:null,singleCountry:"",multiCountry:[],singleSelect:"",multiSelect:[],autocomplete:null};function we({debug:s,onCloseDebug:r}){const l=le(),a=U({resolver:V(pe),defaultValues:Se}),{reset:i,handleSubmit:o,formState:{isSubmitting:g,errors:t}}=a,x=o(async d=>{try{await new Promise(S=>setTimeout(S,3e3)),i(),console.info("DATA",d)}catch(S){console.error(S)}}),w=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{children:e.jsx(n.Text,{name:"fullName",label:"Full name",helperText:"Helper text"})}),e.jsx(c,{children:e.jsx(n.Text,{name:"email",label:"Email address"})}),e.jsx(c,{children:e.jsx(n.Text,{name:"age",label:"Age",type:"number"})}),e.jsx(c,{children:e.jsx(n.Text,{name:"price",label:"Price",placeholder:"0.00",type:"number",slotProps:{inputLabel:{shrink:!0},input:{startAdornment:e.jsx(A,{position:"start",sx:{mr:.75},children:e.jsx(y,{component:"span",sx:{color:"text.disabled"},children:"$"})})}}})}),e.jsx(c,{label:"RHFNumberInput",sx:{alignItems:"flex-start"},children:e.jsx(n.NumberInput,{name:"quantity",helperText:e.jsxs(e.Fragment,{children:[e.jsx(P,{width:16,icon:"solar:info-circle-bold"}),"Helper text"]}),sx:{maxWidth:120}})})]}),v=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{children:e.jsx(n.Text,{name:"password",label:"Password",type:l.value?"text":"password",slotProps:{input:{endAdornment:e.jsx(A,{position:"end",children:e.jsx(T,{onClick:l.onToggle,edge:"end",children:e.jsx(P,{icon:l.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}})}),e.jsx(c,{children:e.jsx(n.Text,{name:"confirmPassword",label:"Confirm password",type:l.value?"text":"password",slotProps:{input:{endAdornment:e.jsx(A,{position:"end",children:e.jsx(T,{onClick:l.onToggle,edge:"end",children:e.jsx(P,{icon:l.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}})})]}),b=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{label:"RHFDatePicker",children:e.jsx(n.DatePicker,{name:"startDate",label:"Start date"})}),e.jsx(c,{label:"RHFDatePicker",children:e.jsx(n.DatePicker,{name:"endDate",label:"End date"})})]}),j=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{label:"RHFPhone",children:e.jsx(n.Phone,{name:"phoneNumber",label:"Phone number",country:"US"})}),e.jsx(c,{label:"RHFCode",children:e.jsx(n.Code,{name:"code",gap:1,autoFocus:!1,slotProps:{textfield:{variant:"standard",disabled:!1}}})})]}),C=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{label:"RHFAutocomplete",children:e.jsx(n.CountrySelect,{fullWidth:!0,name:"singleCountry",label:"Single country",placeholder:"Choose a country"})}),e.jsx(c,{label:"RHFAutocomplete",children:e.jsx(n.CountrySelect,{multiple:!0,fullWidth:!0,limitTags:3,name:"multiCountry",label:"Multi country",placeholder:"Choose a country",helperText:"Helper text"})})]}),F=()=>e.jsxs(e.Fragment,{children:[e.jsx(c,{label:"RHFSelect",children:e.jsxs(n.Select,{name:"singleSelect",label:"Single select",children:[e.jsx(J,{value:"",children:"None"}),e.jsx(R,{sx:{borderStyle:"dashed"}}),D.map(d=>e.jsx(J,{value:d.label,children:d.label},d.value))]})}),e.jsx(c,{label:"RHFMultiSelect",children:e.jsx(n.MultiSelect,{chip:!0,checkbox:!0,name:"multiSelect",label:"Multi select",options:D})}),e.jsx(c,{label:"RHFAutocomplete",children:e.jsx(n.Autocomplete,{name:"autocomplete",label:"Autocomplete",options:D,getOptionLabel:d=>d.label,isOptionEqualToValue:(d,S)=>d.value===S.value,renderOption:(d,S)=>H.createElement("li",{...d,key:S.value},S.label)})})]});return e.jsxs(e.Fragment,{children:[g&&e.jsx(E,{open:!0,sx:[d=>({zIndex:d.zIndex.modal+1})],children:e.jsx(z,{color:"warning"})}),e.jsxs(B,{methods:a,onSubmit:x,children:[s&&e.jsx(G,{onCloseDebug:r}),e.jsx(M,{loading:g,disabled:Object.keys(t).length===0,onReset:()=>i()}),e.jsxs($,{children:[e.jsx(m,{title:"Base",sx:p,children:w()}),e.jsx(m,{title:"Password",sx:p,children:v()}),e.jsx(m,{title:"Date",sx:p,children:b()}),e.jsx(m,{title:"Country",sx:p,children:C()}),e.jsx(m,{title:"Phone & OTP",sx:p,children:j()}),e.jsx(m,{title:"Select",sx:p,children:F()})]})]})]})}const ve={rating:0,slider:8,switch:!1,radioGroup:"",checkbox:!1,multiSwitch:[],multiCheckbox:[],sliderRange:[15,80]};function Ce({debug:s,onClose:r}){const l=U({resolver:V(ge),defaultValues:ve}),{reset:a,handleSubmit:i,formState:{isSubmitting:o,errors:g}}=l,t=i(async C=>{try{await new Promise(F=>setTimeout(F,3e3)),a(),console.info("DATA",C)}catch(F){console.error(F)}}),x=()=>e.jsx(n.Rating,{name:"rating"}),w=()=>e.jsxs(e.Fragment,{children:[e.jsx(n.Checkbox,{name:"checkbox",label:"RHFCheckbox"}),e.jsx(R,{sx:{width:1}}),e.jsx(n.MultiCheckbox,{name:"multiCheckbox",label:"RHFMultiCheckbox",options:[{label:"Option 1",value:"checkbox-1"},{label:"Option 2",value:"checkbox-2"},{label:"Option 3",value:"checkbox-3"}],sx:{gap:.75}})]}),v=()=>e.jsxs(e.Fragment,{children:[e.jsx(n.Switch,{name:"switch",label:"RHFSwitch"}),e.jsx(R,{sx:{width:1}}),e.jsx(n.MultiSwitch,{name:"multiSwitch",label:"RHFMultiSwitch",options:[{label:"Option 1",value:"switch-1"},{label:"Option 2",value:"switch-2"},{label:"Option 3",value:"switch-3"}],sx:{gap:.75}})]}),b=()=>e.jsx(n.RadioGroup,{name:"radioGroup",label:"RHFRadioGroup",options:[{label:"Option 1",value:"radio-1"},{label:"Option 2",value:"radio-2"},{label:"Option 3",value:"radio-3"}],sx:{gap:.75}}),j=()=>e.jsxs(e.Fragment,{children:[e.jsx(n.Slider,{name:"slider"}),e.jsx(n.Slider,{name:"sliderRange"})]});return e.jsxs(e.Fragment,{children:[o&&e.jsx(E,{open:!0,sx:[C=>({zIndex:C.zIndex.modal+1})],children:e.jsx(z,{color:"warning"})}),e.jsxs(B,{methods:l,onSubmit:t,children:[s&&e.jsx(G,{onCloseDebug:r}),e.jsx(M,{loading:o,disabled:Object.keys(g).length===0,onReset:()=>a()}),e.jsxs($,{children:[e.jsx(m,{title:"Rating",sx:p,children:x()}),e.jsx(m,{title:"Checkbox",sx:p,children:w()}),e.jsx(m,{title:"Switch",sx:p,children:v()}),e.jsx(m,{title:"Radio",sx:p,children:b()}),e.jsx(m,{title:"Slider",sx:p,children:j()})]})]})]})}const Fe=[{value:"",label:"Fields"},{value:"controls",label:"Controls"},{value:"other",label:"Other"}],Q="category";function ke(){const s=ne(),l=re().get(Q)??"",[a,i]=H.useState(!0),o=t=>{i(t.target.checked)},g=(t,x)=>{const w=new URLSearchParams({[Q]:x}).toString();return x?`${t}?${w}`:t};return e.jsxs(me,{heroProps:{heading:"Form validation",moreLinks:["https://react-hook-form.com","https://zod.dev"]},containerProps:{maxWidth:"lg"},children:[e.jsx(q,{variant:"h4",sx:{mb:3},children:"React hook form + Zod"}),e.jsxs(y,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(xe,{exclusive:!0,value:l,children:Fe.map(t=>e.jsx(he,{component:ie,href:g(s,t.value),value:t.value,"aria-label":t.label,children:t.label},t.label))}),e.jsx(oe,{label:"Show debug",labelPlacement:"start",control:e.jsx(ce,{checked:a,onChange:o,inputProps:{id:"debug-switch"}}),sx:[t=>({display:"none",[t.breakpoints.up(1440)]:{display:"flex"}})]})]}),e.jsx(R,{sx:{my:3}}),l===""&&e.jsx(we,{debug:a,onCloseDebug:()=>i(!1)}),l==="controls"&&e.jsx(Ce,{debug:a,onClose:()=>i(!1)}),l==="other"&&e.jsx(ye,{debug:a,onClose:()=>i(!1)})]})}const Oe={title:`Form validation | Components - ${ue.appName}`};function He(){return e.jsxs(e.Fragment,{children:[e.jsx(de,{children:e.jsxs("title",{children:[" ",Oe.title]})}),e.jsx(ke,{})]})}export{He as default};
