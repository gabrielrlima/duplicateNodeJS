import{r as n,bT as mo,bB as po,j as J,bC as vo,I as ue,B as go}from"./index-D82XrlGq.js";const hn="carousel",je="controller",bo="navigation",Eo="no-scroll",pt="portal",wo="root",mn="toolbar",Wt="captions",Ae="fullscreen",$t="slideshow",Ve="thumbnails",zt="zoom",Me="loading",ct="playing",De="error",Fe="complete",xo="placeholder",We=e=>`active-slide-${e}`,pn=We(Me),vn=We(ct),Co=We(De),gn=We(Fe),bn="fullsize",Ee="flex_center",Po="no_scroll",En="no_scroll_padding",vt="slide",gt="slide_wrapper",yo="slide_wrapper_interactive",fe="prev",he="next",at="swipe",Te="close",wn="onPointerDown",xn="onPointerMove",Cn="onPointerUp",Pn="onPointerLeave",yn="onPointerCancel",bt="onKeyDown",_o="onKeyUp",Et="onWheel",So="Escape",Io="ArrowLeft",Mo="ArrowRight",Lo="button",Xe="icon",_n="contain",Zt="cover",Sn="Unknown action type",In="yarl__";function Y(...e){return[...e].filter(Boolean).join(" ")}function M(e){return`${In}${e}`}function W(e){return`--${In}${e}`}function we(e,t){return`${e}${t?`_${t}`:""}`}function xe(e){return t=>we(e,t)}function me(e,t){var r;return(r=e==null?void 0:e[t])!==null&&r!==void 0?r:t}function Mn(e,t,r){return me(e,"{index} of {total}").replace(/\{index}/g,`${Pt(r,t.length)+1}`).replace(/\{total}/g,`${t.length}`)}function Re(...e){return()=>{e.forEach(t=>{t()})}}function ee(e,t,r){return()=>{const o=n.useContext(r);if(!o)throw new Error(`${e} must be used within a ${t}.Provider`);return o}}function wt(){return typeof window<"u"}function xt(e,t=0){const r=10**t;return Math.round((e+Number.EPSILON)*r)/r}function Ce(e){return e.type===void 0||e.type==="image"}function Ct(e,t){return e.imageFit===Zt||e.imageFit!==_n&&t===Zt}function Ke(e){return typeof e=="string"?Number.parseInt(e,10):e}function Ye(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Ke(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function To(e,t){const r=Ye(t),o=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*o,0),height:Math.max(e.height-2*o,0)}}function Ro(){return(wt()?window==null?void 0:window.devicePixelRatio:void 0)||1}function Pt(e,t){return t>0?(e%t+t)%t:0}function yt(e){return e.length>0}function _t(e,t){return e[Pt(t,e.length)]}function ut(e,t){return yt(e)?_t(e,t):void 0}function Ln(e){return Ce(e)?e.src:void 0}function $e(e,t,r){if(!r)return e;const{buttons:o,...i}=e,s=o.findIndex(c=>c===t),l=n.isValidElement(r)?n.cloneElement(r,{key:t},null):r;if(s>=0){const c=[...o];return c.splice(s,1,l),{buttons:c,...i}}return{buttons:[l,...o],...i}}function Tn(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const No=Number(n.version.split(".")[0])>=19;function ko(e){return{inert:No?e:e?"":void 0}}function Rn(e){e.scrollTop}const dt={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Te]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:_n,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ne(e,t){return{name:e,component:t}}function B(e,t){return{module:e,children:t}}function Nn(e,t,r){return e.module.name===t?r(e):e.children?[B(e.module,e.children.flatMap(o=>{var i;return(i=Nn(o,t,r))!==null&&i!==void 0?i:[]}))]:[e]}function Ie(e,t,r){return e.flatMap(o=>{var i;return(i=Nn(o,t,r))!==null&&i!==void 0?i:[]})}function Oo(e,t=[],r=[]){let o=e;const i=v=>{const b=[...o];for(;b.length>0;){const g=b.pop();if((g==null?void 0:g.module.name)===v)return!0;g!=null&&g.children&&b.push(...g.children)}return!1},s=(v,b)=>{if(v===""){o=[B(b,o)];return}o=Ie(o,v,g=>[B(b,[g])])},l=(v,b)=>{o=Ie(o,v,g=>[B(g.module,[B(b,g.children)])])},c=(v,b,g)=>{o=Ie(o,v,C=>{var y;return[B(C.module,[...g?[B(b)]:[],...(y=C.children)!==null&&y!==void 0?y:[],...g?[]:[B(b)]])]})},a=(v,b,g)=>{o=Ie(o,v,C=>[...g?[B(b)]:[],C,...g?[]:[B(b)]])},f=v=>{l(je,v)},d=(v,b)=>{o=Ie(o,v,g=>[B(b,g.children)])},u=v=>{o=Ie(o,v,b=>b.children)},p=v=>{r.push(v)};return t.forEach(v=>{v({contains:i,addParent:s,append:l,addChild:c,addSibling:a,addModule:f,replace:d,remove:u,augment:p})}),{config:o,augmentation:v=>r.reduce((b,g)=>g(b),v)}}const kn=n.createContext(null),St=ee("useA11yContext","A11yContext",kn);function Do({children:e}){const[t,r]=n.useState(!1),[o,i]=n.useState(!1),s=n.useMemo(()=>({focusWithin:t,trackFocusWithin:(c,a)=>{const f=d=>u=>{var p;u.currentTarget.contains(u.relatedTarget)||r(d),(p=d?c:a)===null||p===void 0||p(u)};return{onFocus:f(!0),onBlur:f(!1)}},autoPlaying:o,setAutoPlaying:i}),[t,o]);return n.createElement(kn.Provider,{value:s},e)}const On=n.createContext(null),Pe=ee("useDocument","DocumentContext",On);function Fo({nodeRef:e,children:t}){const r=n.useMemo(()=>{const o=s=>{var l;return((l=s||e.current)===null||l===void 0?void 0:l.ownerDocument)||document};return{getOwnerDocument:o,getOwnerWindow:s=>{var l;return((l=o(s))===null||l===void 0?void 0:l.defaultView)||window}}},[e]);return n.createElement(On.Provider,{value:r},t)}const Dn=n.createContext(null),ye=ee("useEvents","EventsContext",Dn);function Ao({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(o=>delete t[o])},[t]);const r=n.useMemo(()=>{const o=(l,c)=>{var a;(a=t[l])===null||a===void 0||a.splice(0,t[l].length,...t[l].filter(f=>f!==c))};return{publish:(...[l,c])=>{var a;(a=t[l])===null||a===void 0||a.forEach(f=>f(c))},subscribe:(l,c)=>(t[l]||(t[l]=[]),t[l].push(c),()=>o(l,c)),unsubscribe:o}},[t]);return n.createElement(Dn.Provider,{value:r},e)}const Fn=n.createContext(null),H=ee("useLightboxProps","LightboxPropsContext",Fn);function An({children:e,...t}){return n.createElement(Fn.Provider,{value:t},e)}const Vn=n.createContext(null),oe=ee("useLightboxState","LightboxStateContext",Vn),Wn=n.createContext(null),Vo=ee("useLightboxDispatch","LightboxDispatchContext",Wn);function Wo(e,t){switch(t.type){case"swipe":{const{slides:r}=e,o=(t==null?void 0:t.increment)||0,i=e.globalIndex+o,s=Pt(i,r.length),l=ut(r,s),c=o||t.duration!==void 0?{increment:o,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:s,globalIndex:i,currentSlide:l,animation:c}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:ut(t.slides,t.index)}:e;default:throw new Error(Sn)}}function $o({slides:e,index:t,children:r}){const[o,i]=n.useReducer(Wo,{slides:e,currentIndex:t,globalIndex:t,currentSlide:ut(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=n.useMemo(()=>({...o,state:o,dispatch:i}),[o,i]);return n.createElement(Wn.Provider,{value:i},n.createElement(Vn.Provider,{value:s},r))}const $n=n.createContext(null),ze=ee("useTimeouts","TimeoutsContext",$n);function zo({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(o=>window.clearTimeout(o)),t.splice(0,t.length)},[t]);const r=n.useMemo(()=>{const o=l=>{t.splice(0,t.length,...t.filter(c=>c!==l))};return{setTimeout:(l,c)=>{const a=window.setTimeout(()=>{o(a),l()},c);return t.push(a),a},clearTimeout:l=>{l!==void 0&&(o(l),window.clearTimeout(l))}}},[t]);return n.createElement($n.Provider,{value:r},e)}const _e=n.forwardRef(function({label:t,className:r,icon:o,renderIcon:i,onClick:s,style:l,...c},a){const{styles:f,labels:d}=H(),u=me(d,t);return n.createElement("button",{ref:a,type:"button",title:u,"aria-label":u,className:Y(M(Lo),r),onClick:s,style:{...l,...f.button},...c},i?i():n.createElement(o,{className:M(Xe),style:f.icon}))});function zn(e,t){const r=o=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...o},t);return r.displayName=e,r}function Q(e,t){return zn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function Zn(e,t){return zn(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const Zo=Q("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Ho=Q("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Uo=Q("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Bo=Q("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,r)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),Xo=Q("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),se=wt()?n.useLayoutEffect:n.useEffect;function It(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var r,o;const i=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const s=l=>t(l.matches);return(o=i==null?void 0:i.addEventListener)===null||o===void 0||o.call(i,"change",s),()=>{var l;return(l=i==null?void 0:i.removeEventListener)===null||l===void 0?void 0:l.call(i,"change",s)}},[]),e}function Yo(e){let t=0,r=0,o=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const l=s[1].split(",").map(Ke);l.length===6?(t=l[4],r=l[5]):l.length===16&&(t=l[12],r=l[13],o=l[14])}return{x:t,y:r,z:o}}function ft(e,t){const r=n.useRef(void 0),o=n.useRef(void 0),i=It();return se(()=>{var s,l,c;if(e.current&&r.current!==void 0&&!i){const{keyframes:a,duration:f,easing:d,onfinish:u}=t(r.current,e.current.getBoundingClientRect(),Yo(e.current))||{};if(a&&f){(s=o.current)===null||s===void 0||s.cancel(),o.current=void 0;try{o.current=(c=(l=e.current).animate)===null||c===void 0?void 0:c.call(l,a,{duration:f,easing:d})}catch(p){console.error(p)}o.current&&(o.current.onfinish=()=>{o.current=void 0,u==null||u()})}}r.current=void 0}),{prepareAnimation:s=>{r.current=s},isAnimationPlaying:()=>{var s;return((s=o.current)===null||s===void 0?void 0:s.playState)==="running"}}}function Mt(){const e=n.useRef(null),t=n.useRef(void 0),[r,o]=n.useState();return{setContainerRef:n.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const l=()=>{if(s){const c=window.getComputedStyle(s),a=f=>parseFloat(f)||0;o({width:Math.round(s.clientWidth-a(c.paddingLeft)-a(c.paddingRight)),height:Math.round(s.clientHeight-a(c.paddingTop)-a(c.paddingBottom))})}else o(void 0)};l(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(l),t.current.observe(s))},[]),containerRef:e,containerRect:r}}function Be(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:r}=ze();return n.useCallback((o,i)=>{r(e.current),e.current=t(o,i>0?i:0)},[t,r])}function D(e){const t=n.useRef(e);return se(()=>{t.current=e}),n.useCallback((...r)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...r)},[])}function Ht(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function ht(e,t){return n.useMemo(()=>e==null&&t==null?null:r=>{Ht(e,r),Ht(t,r)},[e,t])}function Hn(e,t=!1){const r=n.useRef(!1);se(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const o=n.useCallback(()=>{r.current=!0},[]),i=n.useCallback(()=>{r.current=!1},[]);return{onFocus:o,onBlur:i}}function Ge(){const[e,t]=n.useState(!1);return se(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Un(){const[e]=n.useState({}),t=n.useCallback((i,s)=>{var l;(l=e[i])===null||l===void 0||l.forEach(c=>{s.isPropagationStopped()||c(s)})},[e]),r=n.useMemo(()=>({onPointerDown:i=>t(wn,i),onPointerMove:i=>t(xn,i),onPointerUp:i=>t(Cn,i),onPointerLeave:i=>t(Pn,i),onPointerCancel:i=>t(yn,i),onKeyDown:i=>t(bt,i),onKeyUp:i=>t(_o,i),onWheel:i=>t(Et,i)}),[t]),o=n.useCallback((i,s)=>(e[i]||(e[i]=[]),e[i].unshift(s),()=>{const l=e[i];l&&l.splice(0,l.length,...l.filter(c=>c!==s))}),[e]);return{registerSensors:r,subscribeSensors:o}}function Ut(e,t){const r=n.useRef(0),o=Be(),i=D((...s)=>{r.current=Date.now(),e(s)});return n.useCallback((...s)=>{o(()=>{i(s)},t-(Date.now()-r.current))},[t,i,o])}const ot=xe("slide"),rt=xe("slide_image");function ge({slide:e,offset:t,render:r,rect:o,imageFit:i,imageProps:s,onClick:l,onLoad:c,onError:a,style:f}){var d,u,p,v,b,g,C,y;const[_,h]=n.useState(Me),{publish:L}=ye(),{setTimeout:S}=ze(),m=n.useRef(null);n.useEffect(()=>{t===0&&L(We(_))},[t,_,L]);const E=D(k=>{("decode"in k?k.decode():Promise.resolve()).catch(()=>{}).then(()=>{k.parentNode&&(h(Fe),S(()=>{c==null||c(k)},0))})}),O=n.useCallback(k=>{m.current=k,k!=null&&k.complete&&E(k)},[E]),x=n.useCallback(k=>{E(k.currentTarget)},[E]),A=D(()=>{h(De),a==null||a()}),N=Ct(e,i),z=(k,G)=>Number.isFinite(k)?k:G,I=z(Math.max(...((u=(d=e.srcSet)===null||d===void 0?void 0:d.map(k=>k.width))!==null&&u!==void 0?u:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((p=m.current)===null||p===void 0?void 0:p.naturalWidth)||0),$=z(Math.max(...((b=(v=e.srcSet)===null||v===void 0?void 0:v.map(k=>k.height))!==null&&b!==void 0?b:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((g=m.current)===null||g===void 0?void 0:g.naturalHeight)||0),F=I&&$?{maxWidth:`min(${I}px, 100%)`,maxHeight:`min(${$}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},R=(C=e.srcSet)===null||C===void 0?void 0:C.sort((k,G)=>k.width-G.width).map(k=>`${k.src} ${k.width}w`).join(", "),w=()=>o&&!N&&e.width&&e.height?o.height/e.height*e.width:Number.MAX_VALUE,T=R&&o&&wt()?`${Math.round(Math.min(w(),o.width))}px`:void 0,{style:V,className:j,...U}=s||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:O,onLoad:x,onError:A,onClick:l,draggable:!1,className:Y(M(rt()),N&&M(rt("cover")),_!==Fe&&M(rt("loading")),j),style:{...F,...f,...V},...U,alt:(y=e.alt)!==null&&y!==void 0?y:"",sizes:T,srcSet:R,src:e.src}),_!==Fe&&n.createElement("div",{className:M(ot(xo))},_===Me&&(r!=null&&r.iconLoading?r.iconLoading():n.createElement(Bo,{className:Y(M(Xe),M(ot(Me)))})),_===De&&(r!=null&&r.iconError?r.iconError():n.createElement(Xo,{className:Y(M(Xe),M(ot(De)))}))))}const jo=n.forwardRef(function({className:t,children:r,onFocus:o,onBlur:i,...s},l){const c=n.useRef(null),{trackFocusWithin:a}=St();return n.createElement(Fo,{nodeRef:c},n.createElement("div",{ref:ht(l,c),className:Y(M("root"),t),...a(o,i),...s},r))});var K;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(K||(K={}));function Bn(e,t,r,o,i){n.useEffect(()=>i?()=>{}:Re(e(wn,t),e(xn,r),e(Cn,o),e(Pn,o),e(yn,o)),[e,t,r,o,i])}var ie;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(ie||(ie={}));const it=30;function Ko({disableSwipeNavigation:e,closeOnBackdropClick:t},r,o,i,s,l,c,a,f,d,u,p,v,b,g,C){const y=n.useRef(0),_=n.useRef([]),h=n.useRef(void 0),L=n.useRef(0),S=n.useRef(ie.NONE),m=n.useCallback(I=>{h.current===I.pointerId&&(h.current=void 0,S.current=ie.NONE);const $=_.current;$.splice(0,$.length,...$.filter(F=>F.pointerId!==I.pointerId))},[]),E=n.useCallback(I=>{m(I),I.persist(),_.current.push(I)},[m]),O=n.useCallback(I=>_.current.find(({pointerId:$})=>I.pointerId===$),[]),x=D(I=>{E(I)}),A=(I,$)=>u&&I>$||d&&I<-$,N=D(I=>{const $=O(I);if($)if(h.current===I.pointerId){const F=Date.now()-L.current,R=y.current;S.current===ie.SWIPE?Math.abs(R)>.3*i||Math.abs(R)>5&&F<s?a(R,F):f(R):S.current===ie.PULL&&(A(R,2*it)?b(R,F):g(R)),y.current=0,S.current=ie.NONE}else{const{target:F}=I;t&&F instanceof HTMLElement&&F===$.target&&(F.classList.contains(M(vt))||F.classList.contains(M(gt)))&&C()}m(I)}),z=D(I=>{const $=O(I);if($){const F=h.current===I.pointerId;if(I.buttons===0){F&&y.current!==0?N(I):m($);return}const R=I.clientX-$.clientX,w=I.clientY-$.clientY;if(h.current===void 0){const T=V=>{E(I),h.current=I.pointerId,L.current=Date.now(),S.current=V};Math.abs(R)>Math.abs(w)&&Math.abs(R)>it&&o(R)?e||(T(ie.SWIPE),l()):Math.abs(w)>Math.abs(R)&&A(w,it)&&(T(ie.PULL),p())}else F&&(S.current===ie.SWIPE?(y.current=R,c(R)):S.current===ie.PULL&&(y.current=w,v(w)))}});Bn(r,x,z,N)}function Go({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=n.useRef(null),o=D(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&e||!s&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var s;i?i.addEventListener("wheel",o,{passive:!1}):(s=r.current)===null||s===void 0||s.removeEventListener("wheel",o),r.current=i},[o])}function qo(e,t,r,o,i,s,l,c,a){const f=n.useRef(0),d=n.useRef(0),u=n.useRef(void 0),p=n.useRef(void 0),v=n.useRef(0),b=n.useRef(void 0),g=n.useRef(0),{setTimeout:C,clearTimeout:y}=ze(),_=n.useCallback(()=>{u.current&&(y(u.current),u.current=void 0)},[y]),h=n.useCallback(()=>{p.current&&(y(p.current),p.current=void 0)},[y]),L=D(()=>{e!==K.SWIPE&&(f.current=0,g.current=0,_(),h())});n.useEffect(L,[e,L]);const S=D(E=>{p.current=void 0,f.current===E&&a(f.current)}),m=D(E=>{if(E.ctrlKey||Math.abs(E.deltaY)>Math.abs(E.deltaX))return;const O=x=>{v.current=x,y(b.current),b.current=x>0?C(()=>{v.current=0,b.current=void 0},300):void 0};if(e===K.NONE){if(Math.abs(E.deltaX)<=1.2*Math.abs(v.current)){O(E.deltaX);return}if(!r(-E.deltaX))return;if(d.current+=E.deltaX,_(),Math.abs(d.current)>30)d.current=0,O(0),g.current=Date.now(),s();else{const x=d.current;u.current=C(()=>{u.current=void 0,x===d.current&&(d.current=0)},i)}}else if(e===K.SWIPE){let x=f.current-E.deltaX;if(x=Math.min(Math.abs(x),o)*Math.sign(x),f.current=x,l(x),h(),Math.abs(x)>.2*o){O(E.deltaX),c(x,Date.now()-g.current);return}p.current=C(()=>S(x),2*i)}else O(E.deltaX)});n.useEffect(()=>t(Et,m),[t,m])}const Bt=xe("container"),Xn=n.createContext(null),re=ee("useController","ControllerContext",Xn);function Qo({children:e,...t}){var r;const{carousel:o,animation:i,controller:s,on:l,styles:c,render:a}=t,{closeOnPullUp:f,closeOnPullDown:d,preventDefaultWheelX:u,preventDefaultWheelY:p}=s,[v,b]=n.useState(),g=oe(),C=Vo(),[y,_]=n.useState(K.NONE),h=n.useRef(0),L=n.useRef(0),S=n.useRef(1),{registerSensors:m,subscribeSensors:E}=Un(),{subscribe:O,publish:x}=ye(),A=Be(),N=Be(),z=Be(),{containerRef:I,setContainerRef:$,containerRect:F}=Mt(),R=ht(Go({preventDefaultWheelX:u,preventDefaultWheelY:p}),$),w=n.useRef(null),T=ht(w,void 0),{getOwnerDocument:V}=Pe(),j=Ge(),U=P=>(j?-1:1)*(typeof P=="number"?P:1),k=D(()=>{var P;return(P=I.current)===null||P===void 0?void 0:P.focus()}),G=D(()=>t),de=D(()=>g),le=n.useCallback(P=>x(fe,P),[x]),Ze=n.useCallback(P=>x(he,P),[x]),Se=n.useCallback(()=>x(Te),[x]),Qe=P=>!(o.finite&&(U(P)>0&&g.currentIndex===0||U(P)<0&&g.currentIndex===g.slides.length-1)),kt=P=>{var Z;h.current=P,(Z=I.current)===null||Z===void 0||Z.style.setProperty(W("swipe_offset"),`${Math.round(P)}px`)},Je=P=>{var Z,q;L.current=P,S.current=(()=>{const ke=d&&P>0?P:f&&P<0?-P:0;return Math.min(Math.max(xt(1-ke/60*(1-.5),2),.5),1)})(),(Z=I.current)===null||Z===void 0||Z.style.setProperty(W("pull_offset"),`${Math.round(P)}px`),(q=I.current)===null||q===void 0||q.style.setProperty(W("pull_opacity"),`${S.current}`)},{prepareAnimation:co}=ft(w,(P,Z,q)=>{if(w.current&&F)return{keyframes:[{transform:`translate(0, ${P.rect.y-Z.y+q.y}px)`,opacity:P.opacity},{transform:"translate(0, 0)",opacity:1}],duration:P.duration,easing:i.easing.fade}}),Ot=(P,Z)=>{if(f||d){Je(P);let q=0;w.current&&(q=i.fade*(Z?2:1),co({rect:w.current.getBoundingClientRect(),opacity:S.current,duration:q})),z(()=>{Je(0),_(K.NONE)},q),_(K.ANIMATION),Z||Se()}},{prepareAnimation:ao,isAnimationPlaying:uo}=ft(w,(P,Z,q)=>{var ce;if(w.current&&F&&(!((ce=g.animation)===null||ce===void 0)&&ce.duration)){const te=Ye(o.spacing),ke=(te.percent?te.percent*F.width/100:te.pixel)||0;return{keyframes:[{transform:`translate(${U(g.globalIndex-P.index)*(F.width+ke)+P.rect.x-Z.x+q.x}px, 0)`},{transform:"translate(0, 0)"}],duration:g.animation.duration,easing:g.animation.easing}}}),Ne=D(P=>{var Z,q;const ce=P.offset||0,te=ce?i.swipe:(Z=i.navigation)!==null&&Z!==void 0?Z:i.swipe,ke=!ce&&!uo()?i.easing.navigation:i.easing.swipe;let{direction:He}=P;const Ue=(q=P.count)!==null&&q!==void 0?q:1;let et=K.ANIMATION,ae=te*Ue;if(!He){const Oe=F==null?void 0:F.width,Vt=P.duration||0,nt=Oe?te/Oe*Math.abs(ce):te;Ue!==0?(Vt<nt?ae=ae/nt*Math.max(Vt,nt/5):Oe&&(ae=te/Oe*(Oe-Math.abs(ce))),He=U(ce)>0?fe:he):ae=te/2}let tt=0;He===fe?Qe(U(1))?tt=-Ue:(et=K.NONE,ae=te):He===he&&(Qe(U(-1))?tt=Ue:(et=K.NONE,ae=te)),ae=Math.round(ae),N(()=>{kt(0),_(K.NONE)},ae),w.current&&ao({rect:w.current.getBoundingClientRect(),index:g.globalIndex}),_(et),x(at,{type:"swipe",increment:tt,duration:ae,easing:ke})});n.useEffect(()=>{var P,Z;!((P=g.animation)===null||P===void 0)&&P.increment&&(!((Z=g.animation)===null||Z===void 0)&&Z.duration)&&A(()=>C({type:"swipe",increment:0}),g.animation.duration)},[g.animation,C,A]);const Dt=[E,Qe,(F==null?void 0:F.width)||0,i.swipe,()=>_(K.SWIPE),P=>kt(P),(P,Z)=>Ne({offset:P,duration:Z,count:1}),P=>Ne({offset:P,count:0})],fo=[()=>{d&&_(K.PULL)},P=>Je(P),P=>Ot(P),P=>Ot(P,!0)];Ko(s,...Dt,f,d,...fo,Se),qo(y,...Dt);const Ft=D(()=>{s.focus&&V().querySelector(`.${M(pt)} .${M(Bt())}`)&&k()});n.useEffect(Ft,[Ft]);const At=D(()=>{var P;(P=l.view)===null||P===void 0||P.call(l,{index:g.currentIndex})});n.useEffect(At,[g.globalIndex,At]),n.useEffect(()=>Re(O(fe,P=>Ne({direction:fe,...P})),O(he,P=>Ne({direction:he,...P})),O(at,P=>C(P))),[O,Ne,C]);const ho=n.useMemo(()=>({prev:le,next:Ze,close:Se,focus:k,slideRect:F?To(F,o.padding):{width:0,height:0},containerRect:F||{width:0,height:0},subscribeSensors:E,containerRef:I,setCarouselRef:T,toolbarWidth:v,setToolbarWidth:b}),[le,Ze,Se,k,E,F,I,T,v,b,o.padding]);return n.useImperativeHandle(s.ref,()=>({prev:le,next:Ze,close:Se,focus:k,getLightboxProps:G,getLightboxState:de}),[le,Ze,Se,k,G,de]),n.createElement("div",{ref:R,className:Y(M(Bt()),M(Ee)),style:{...y===K.SWIPE?{[W("swipe_offset")]:`${Math.round(h.current)}px`}:null,...y===K.PULL?{[W("pull_offset")]:`${Math.round(L.current)}px`,[W("pull_opacity")]:`${S.current}`}:null,...s.touchAction!=="none"?{[W("controller_touch_action")]:s.touchAction}:null,...c.container},tabIndex:-1,...m},F&&n.createElement(Xn.Provider,{value:ho},e,(r=a.controls)===null||r===void 0?void 0:r.call(a)))}const Jo=ne(je,Qo);function pe(e){return we(hn,e)}function Xt(e){return we(vt,e)}function er({slide:e,offset:t}){const r=n.useRef(null),{currentIndex:o,slides:i}=oe(),{slideRect:s,focus:l}=re(),{render:c,carousel:{imageFit:a,imageProps:f},on:{click:d},styles:{slide:u},labels:p}=H(),{getOwnerDocument:v}=Pe(),b=t!==0;n.useEffect(()=>{var C;b&&(!((C=r.current)===null||C===void 0)&&C.contains(v().activeElement))&&l()},[b,l,v]);const g=()=>{var C,y,_,h;let L=(C=c.slide)===null||C===void 0?void 0:C.call(c,{slide:e,offset:t,rect:s});return!L&&Ce(e)&&(L=n.createElement(ge,{slide:e,offset:t,render:c,rect:s,imageFit:a,imageProps:f,onClick:b?void 0:()=>d==null?void 0:d({index:o})})),L?n.createElement(n.Fragment,null,(y=c.slideHeader)===null||y===void 0?void 0:y.call(c,{slide:e}),((_=c.slideContainer)!==null&&_!==void 0?_:(({children:S})=>S))({slide:e,children:L}),(h=c.slideFooter)===null||h===void 0?void 0:h.call(c,{slide:e})):null};return n.createElement("div",{ref:r,className:Y(M(Xt()),!b&&M(Xt("current")),M(Ee)),...ko(b),style:u,role:"group","aria-roledescription":me(p,"Slide"),"aria-label":Mn(p,i,o+t)},g())}function tr(){const e=H().styles.slide;return n.createElement("div",{className:M(vt),style:e})}function nr({carousel:e,labels:t}){const{slides:r,currentIndex:o,globalIndex:i}=oe(),{setCarouselRef:s}=re(),{autoPlaying:l,focusWithin:c}=St(),a=Ye(e.spacing),f=Ye(e.padding),d=Tn(e,r,1),u=[];if(yt(r))for(let p=o-d;p<=o+d;p+=1){const v=_t(r,p),b=i-o+p,g=e.finite&&(p<0||p>r.length-1);u.push(g?{key:b}:{key:[`${b}`,Ln(v)].filter(Boolean).join("|"),offset:p-o,slide:v})}return n.createElement("div",{ref:s,className:Y(M(pe()),u.length>0&&M(pe("with_slides"))),style:{[`${W(pe("slides_count"))}`]:u.length,[`${W(pe("spacing_px"))}`]:a.pixel||0,[`${W(pe("spacing_percent"))}`]:a.percent||0,[`${W(pe("padding_px"))}`]:f.pixel||0,[`${W(pe("padding_percent"))}`]:f.percent||0},role:"region","aria-live":l&&!c?"off":"polite","aria-roledescription":me(t,"Carousel"),"aria-label":me(t,"Photo gallery")},u.map(({key:p,slide:v,offset:b})=>v?n.createElement(er,{key:p,slide:v,offset:b}):n.createElement(tr,{key:p})))}const or=ne(hn,nr);function Yn(){const{carousel:e}=H(),{slides:t,currentIndex:r}=oe(),o=t.length===0||e.finite&&r===0,i=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:o,nextDisabled:i}}function jn(e){var t;const r=Ge(),{publish:o}=ye(),{animation:i}=H(),{prevDisabled:s,nextDisabled:l}=Yn(),c=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,a=Ut(()=>o(fe),c),f=Ut(()=>o(he),c),d=D(u=>{switch(u.key){case So:o(Te);break;case Io:(r?l:s)||(r?f:a)();break;case Mo:(r?s:l)||(r?a:f)();break}});n.useEffect(()=>e(bt,d),[e,d])}function Yt({label:e,icon:t,renderIcon:r,action:o,onClick:i,disabled:s,style:l}){return n.createElement(_e,{label:e,icon:t,renderIcon:r,className:M(`navigation_${o}`),disabled:s,onClick:i,style:l,...Hn(re().focus,s)})}function rr({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:o},styles:i}){const{prev:s,next:l,subscribeSensors:c}=re(),{prevDisabled:a,nextDisabled:f}=Yn();return jn(c),n.createElement(n.Fragment,null,e?e():n.createElement(Yt,{label:"Previous",action:fe,icon:Ho,renderIcon:r,style:i.navigationPrev,disabled:a,onClick:s}),t?t():n.createElement(Yt,{label:"Next",action:he,icon:Uo,renderIcon:o,style:i.navigationNext,disabled:f,onClick:l}))}const ir=ne(bo,rr),jt=M(Po),sr=M(En);function lr(e){return"style"in e}function Kt(e,t,r){const o=window.getComputedStyle(e),i=r?"padding-left":"padding-right",s=r?o.paddingLeft:o.paddingRight,l=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Ke(s)||0)+t}px`),()=>{l?e.style.setProperty(i,l):e.style.removeProperty(i)}}function cr({noScroll:{disabled:e},children:t}){const r=Ge(),{getOwnerDocument:o,getOwnerWindow:i}=Pe();return n.useEffect(()=>{if(e)return()=>{};const s=[],l=i(),{body:c,documentElement:a}=o(),f=Math.round(l.innerWidth-a.clientWidth);if(f>0){s.push(Kt(c,f,r));const d=c.getElementsByTagName("*");for(let u=0;u<d.length;u+=1){const p=d[u];lr(p)&&l.getComputedStyle(p).getPropertyValue("position")==="fixed"&&!p.classList.contains(sr)&&s.push(Kt(p,f,r))}}return c.classList.add(jt),()=>{c.classList.remove(jt),s.forEach(d=>d())}},[r,e,o,i]),n.createElement(n.Fragment,null,t)}const ar=ne(Eo,cr);function Gt(e){return we(pt,e)}function qt(e,t,r){const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o?e.setAttribute(t,o):e.removeAttribute(t)}}function ur({children:e,animation:t,styles:r,className:o,on:i,portal:s,close:l,labels:c}){const[a,f]=n.useState(!1),[d,u]=n.useState(!1),p=n.useRef([]),v=n.useRef(null),{setTimeout:b}=ze(),{subscribe:g}=ye(),y=It()?0:t.fade;n.useEffect(()=>(f(!0),()=>{f(!1),u(!1)}),[]);const _=D(()=>{p.current.forEach(m=>m()),p.current=[]}),h=D(()=>{var m;u(!1),_(),(m=i.exiting)===null||m===void 0||m.call(i),b(()=>{var E;(E=i.exited)===null||E===void 0||E.call(i),l()},y)});n.useEffect(()=>g(Te,h),[g,h]);const L=D(m=>{var E,O,x;Rn(m),u(!0),(E=i.entering)===null||E===void 0||E.call(i);const A=(x=(O=m.parentNode)===null||O===void 0?void 0:O.children)!==null&&x!==void 0?x:[];for(let N=0;N<A.length;N+=1){const z=A[N];["TEMPLATE","SCRIPT","STYLE"].indexOf(z.tagName)===-1&&z!==m&&(p.current.push(qt(z,"inert","")),p.current.push(qt(z,"aria-hidden","true")))}p.current.push(()=>{var N,z;(z=(N=v.current)===null||N===void 0?void 0:N.focus)===null||z===void 0||z.call(N)}),b(()=>{var N;(N=i.entered)===null||N===void 0||N.call(i)},y)}),S=n.useCallback(m=>{m?L(m):_()},[L,_]);return a?mo.createPortal(n.createElement(jo,{ref:S,className:Y(o,M(Gt()),M(En),d&&M(Gt("open"))),"aria-modal":!0,role:"dialog","aria-label":me(c,"Lightbox"),style:{...t.fade!==dt.animation.fade?{[W("fade_animation_duration")]:`${y}ms`}:null,...t.easing.fade!==dt.animation.easing.fade?{[W("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:m=>{v.current||(v.current=m.relatedTarget)}},e),s.root||document.body):null}const dr=ne(pt,ur);function fr({children:e}){return n.createElement(n.Fragment,null,e)}const hr=ne(wo,fr);function mr(e){return we(mn,e)}function pr({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:o}){const{close:i,setToolbarWidth:s}=re(),{setContainerRef:l,containerRect:c}=Mt();se(()=>{s(c==null?void 0:c.width)},[s,c==null?void 0:c.width]);const a=()=>t?t():n.createElement(_e,{key:Te,label:"Close",icon:Zo,renderIcon:r,onClick:i});return n.createElement("div",{ref:l,style:o.toolbar,className:M(mr())},e==null?void 0:e.map(f=>f===Te?a():f))}const vr=ne(mn,pr);function Kn(e,t){var r;return n.createElement(e.module.component,{key:e.module.name,...t},(r=e.children)===null||r===void 0?void 0:r.map(o=>Kn(o,t)))}function gr(e,t={}){const{easing:r,...o}=e,{easing:i,...s}=t;return{easing:{...r,...i},...o,...s}}function br({carousel:e,animation:t,render:r,toolbar:o,controller:i,noScroll:s,on:l,plugins:c,slides:a,index:f,...d}){const{animation:u,carousel:p,render:v,toolbar:b,controller:g,noScroll:C,on:y,slides:_,index:h,plugins:L,...S}=dt,{config:m,augmentation:E}=Oo([B(dr,[B(ar,[B(Jo,[B(or),B(vr),B(ir)])])])],c||L),O=E({animation:gr(u,t),carousel:{...p,...e},render:{...v,...r},toolbar:{...b,...o},controller:{...g,...i},noScroll:{...C,...s},on:{...y,...l},...S,...d});return O.open?n.createElement(An,{...O},n.createElement($o,{slides:a||_,index:Ke(f||h)},n.createElement(zo,null,n.createElement(Ao,null,n.createElement(Do,null,Kn(B(hr,m),O)))))):null}const Er={minZoom:1,maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1};function wr(e){return Math.min(Math.max(e,Number.EPSILON),1)}function Gn(e){const{minZoom:t,...r}={...Er,...e};return{minZoom:wr(t),...r}}function xr(e,t,r,o){const i=n.useRef(void 0),s=n.useRef(void 0),{zoom:l}=H().animation,c=It(),a=D(()=>{var f,d,u;if((f=i.current)===null||f===void 0||f.cancel(),i.current=void 0,s.current&&(o!=null&&o.current)){try{i.current=(u=(d=o.current).animate)===null||u===void 0?void 0:u.call(d,[{transform:s.current},{transform:`scale(${e}) translateX(${t}px) translateY(${r}px)`}],{duration:c?0:l??500,easing:i.current?"ease-out":"ease-in-out"})}catch(p){console.error(p)}s.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return se(a,[e,t,r,a]),n.useCallback(()=>{s.current=o!=null&&o.current?window.getComputedStyle(o.current).transform:void 0},[o])}function Cr(e,t){const{on:r}=H(),o=D(()=>{var i;t||(i=r.zoom)===null||i===void 0||i.call(r,{zoom:e})});n.useEffect(o,[e,o])}function qe(){const{zoom:e}=H();return Gn(e)}function Pr(e,t){var r,o;let i={width:0,height:0},s={width:0,height:0};const{currentSlide:l}=oe(),{imageFit:c}=H().carousel,{maxZoomPixelRatio:a}=qe();if(e&&l){const d={...l,...t};if(Ce(d)){const u=Ct(d,c),p=Math.max(...(((r=d.srcSet)===null||r===void 0?void 0:r.map(b=>b.width))||[]).concat(d.width?[d.width]:[])),v=Math.max(...(((o=d.srcSet)===null||o===void 0?void 0:o.map(b=>b.height))||[]).concat(d.height?[d.height]:[]));p>0&&v>0&&e.width>0&&e.height>0&&(s=u?{width:Math.round(Math.min(p,e.width/e.height*v)),height:Math.round(Math.min(v,e.height/e.width*p))}:{width:p,height:v},s={width:s.width*a,height:s.height*a},i=u?{width:Math.min(e.width,s.width,p),height:Math.min(e.height,s.height,v)}:{width:Math.round(Math.min(e.width,e.height/v*p,p)),height:Math.round(Math.min(e.height,e.width/p*v,v))})}}const f=i.width?Math.max(xt(s.width/i.width,5),1):1;return{imageRect:i,maxZoom:f}}function Qt(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function Jt(e,t,r=100,o=2){return e*Math.min(1+Math.abs(t/r),o)**Math.sign(t)}function yr(e,t,r,o,i,s,l,c,a){const f=n.useRef([]),d=n.useRef(0),u=n.useRef(void 0),{globalIndex:p}=oe(),{getOwnerWindow:v}=Pe(),{containerRef:b,subscribeSensors:g}=re(),{keyboardMoveDistance:C,zoomInMultiplier:y,wheelZoomDistanceFactor:_,scrollToZoom:h,doubleTapDelay:L,doubleClickDelay:S,doubleClickMaxStops:m,pinchZoomDistanceFactor:E}=qe(),O=n.useCallback(w=>{if(b.current){const{pageX:T,pageY:V}=w,{scrollX:j,scrollY:U}=v(),{left:k,top:G,width:de,height:le}=b.current.getBoundingClientRect();return[T-k-j-de/2,V-G-U-le/2]}return[]},[b,v]),x=D(w=>{const{key:T,metaKey:V,ctrlKey:j}=w,U=V||j,k=()=>{w.preventDefault(),w.stopPropagation()};if(e>1){const G=(de,le)=>{k(),c(de,le)};T==="ArrowDown"?G(0,C):T==="ArrowUp"?G(0,-C):T==="ArrowLeft"?G(-C,0):T==="ArrowRight"&&G(C,0)}T==="+"||U&&T==="="?(k(),i()):T==="-"||U&&T==="_"?(k(),s()):U&&T==="0"&&(k(),l(1))}),A=D(w=>{if((w.ctrlKey||h)&&Math.abs(w.deltaY)>Math.abs(w.deltaX)){w.stopPropagation(),l(Jt(e,-w.deltaY,_),!0,...O(w));return}e>1&&(w.stopPropagation(),h||c(w.deltaX,w.deltaY))}),N=n.useCallback(w=>{const T=f.current;T.splice(0,T.length,...T.filter(V=>V.pointerId!==w.pointerId))},[]),z=n.useCallback(w=>{N(w),w.persist(),f.current.push(w)},[N]),I=D(w=>{var T;const V=f.current;if(w.pointerType==="mouse"&&w.buttons>1||!(!((T=a==null?void 0:a.current)===null||T===void 0)&&T.contains(w.target)))return;e>1&&w.stopPropagation();const{timeStamp:j}=w;if(V.length===0&&j-d.current<(w.pointerType==="touch"?L:S)){d.current=0;const U=e>=1?e!==r?e*Math.max(r**(1/m),y):1:e!==t?e/Math.max(t**(-1/m),y):1;l(U,!1,...O(w))}else d.current=j;z(w),V.length===2&&(u.current=Qt(V[0],V[1]))}),$=D(w=>{const T=f.current,V=T.find(j=>j.pointerId===w.pointerId);if(T.length===2&&u.current){w.stopPropagation(),z(w);const j=Qt(T[0],T[1]),U=j-u.current;Math.abs(U)>0&&(l(Jt(e,U,E),!0,...T.map(k=>O(k)).reduce((k,G)=>G.map((de,le)=>k[le]+de/2))),u.current=j);return}e>1&&(w.stopPropagation(),V&&(T.length===1&&c((V.clientX-w.clientX)/e,(V.clientY-w.clientY)/e),z(w)))}),F=n.useCallback(w=>{const T=f.current;T.length===2&&T.find(V=>V.pointerId===w.pointerId)&&(u.current=void 0),N(w)},[N]),R=n.useCallback(()=>{const w=f.current;w.splice(0,w.length),d.current=0,u.current=void 0},[]);Bn(g,I,$,F,o),n.useEffect(R,[p,R]),n.useEffect(()=>o?()=>{}:Re(R,g(bt,x),g(Et,A)),[o,g,R,x,A])}function _r(e,t,r){const[o,i]=n.useState(1),[s,l]=n.useState(0),[c,a]=n.useState(0),f=xr(o,s,c,r),{currentSlide:d,globalIndex:u}=oe(),{containerRect:p,slideRect:v}=re(),{minZoom:b,zoomInMultiplier:g}=qe(),C=d&&Ce(d)?d.src:void 0,y=!C||!(r!=null&&r.current);se(()=>{i(1),l(0),a(0)},[u,C]);const _=n.useCallback((E,O,x)=>{const A=x||o,N=s-(E||0),z=c-(O||0),I=(e.width*A-v.width)/2/A,$=(e.height*A-v.height)/2/A;l(Math.min(Math.abs(N),Math.max(I,0))*Math.sign(N)),a(Math.min(Math.abs(z),Math.max($,0))*Math.sign(z))},[o,s,c,v,e.width,e.height]),h=n.useCallback((E,O,x,A)=>{const N=xt(Math.min(Math.max(E+.001<t?E:t,b),t),5);N!==o&&(O||f(),_(x?x*(1/o-1/N):0,A?A*(1/o-1/N):0,N),i(N))},[o,b,t,_,f]),L=D(()=>{o>1&&(o>t&&h(t,!0),_())});se(L,[p.width,p.height,L]);const S=n.useCallback(()=>{const E=o*g;h(o<1&&E>1?1:E)},[o,g,h]),m=n.useCallback(()=>{const E=o/g;h(o>1&&E<1?1:E)},[o,g,h]);return{zoom:o,offsetX:s,offsetY:c,disabled:y,changeOffsets:_,changeZoom:h,zoomIn:S,zoomOut:m}}const qn=n.createContext(null),Lt=ee("useZoom","ZoomControllerContext",qn);function Sr({children:e}){const[t,r]=n.useState(),{slideRect:o}=re(),{ref:i,minZoom:s}=qe(),{imageRect:l,maxZoom:c}=Pr(o,t==null?void 0:t.imageDimensions),{zoom:a,offsetX:f,offsetY:d,disabled:u,changeZoom:p,changeOffsets:v,zoomIn:b,zoomOut:g}=_r(l,c,t==null?void 0:t.zoomWrapperRef);Cr(a,u),yr(a,s,c,u,b,g,p,v,t==null?void 0:t.zoomWrapperRef);const C=n.useMemo(()=>({zoom:a,minZoom:s,maxZoom:c,offsetX:f,offsetY:d,disabled:u,zoomIn:b,zoomOut:g,changeZoom:p}),[a,s,c,f,d,u,b,g,p]);n.useImperativeHandle(i,()=>C,[C]);const y=n.useMemo(()=>({...C,setZoomWrapper:r}),[C,r]);return n.createElement(qn.Provider,{value:y},e)}const Ir=Q("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Mr=Q("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),en=n.forwardRef(function({zoomIn:t,onLoseFocus:r},o){const i=n.useRef(!1),s=n.useRef(!1),{zoom:l,minZoom:c,maxZoom:a,zoomIn:f,zoomOut:d,disabled:u}=Lt(),{render:p}=H(),v=u||(t?l>=a:l<=c);return n.useEffect(()=>{v&&i.current&&s.current&&r(),v||(i.current=!0)},[v,r]),n.createElement(_e,{ref:o,disabled:v,label:t?"Zoom in":"Zoom out",icon:t?Ir:Mr,renderIcon:t?p.iconZoomIn:p.iconZoomOut,onClick:t?f:d,onFocus:()=>{s.current=!0},onBlur:()=>{s.current=!1}})});function Lr(){const e=n.useRef(null),t=n.useRef(null),{focus:r}=re(),o=n.useCallback(l=>{var c,a;!((c=l.current)===null||c===void 0)&&c.disabled?r():(a=l.current)===null||a===void 0||a.focus()},[r]),i=n.useCallback(()=>o(e),[o]),s=n.useCallback(()=>o(t),[o]);return n.createElement(n.Fragment,null,n.createElement(en,{zoomIn:!0,ref:e,onLoseFocus:s}),n.createElement(en,{ref:t,onLoseFocus:i}))}function Tr(){const{render:e}=H(),t=Lt();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(Lr,null)}function Rr(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function Nr({current:e,preload:t},{type:r,source:o}){switch(r){case"fetch":return e?{current:e,preload:o}:{current:o};case"done":return o===t?{current:o}:{current:e,preload:t};default:throw new Error(Sn)}}function kr(e){var t,r;const[{current:o,preload:i},s]=n.useReducer(Nr,{}),{slide:l,rect:c,imageFit:a,render:f,interactive:d}=e,u=l.srcSet.sort((S,m)=>S.width-m.width),p=(t=l.width)!==null&&t!==void 0?t:u[u.length-1].width,v=(r=l.height)!==null&&r!==void 0?r:u[u.length-1].height,b=Ct(l,a),g=Math.max(...u.map(S=>S.width)),C=Math.min((b?Math.max:Math.min)(c.width,p*(c.height/v)),g),y=Ro(),_=D(()=>{var S;const m=(S=u.find(E=>E.width>=C*y))!==null&&S!==void 0?S:u[u.length-1];(!o||u.findIndex(E=>E.src===o)<u.findIndex(E=>E===m))&&s({type:"fetch",source:m.src})});se(_,[c.width,c.height,y,_]);const h=D(S=>s({type:"done",source:S})),L={WebkitTransform:d?"initial":"translateZ(0)"};return b||Object.assign(L,c.width/c.height<p/v?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,i&&i!==o&&n.createElement(ge,{key:"preload",...e,offset:void 0,slide:{...l,src:i,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...L},onLoad:()=>h(i),render:{...f,iconLoading:()=>null,iconError:()=>null}}),o&&n.createElement(ge,{key:"current",...e,slide:{...l,src:o,srcSet:void 0},style:L}))}function Or({render:e,slide:t,offset:r,rect:o}){var i;const[s,l]=n.useState(),c=n.useRef(null),{zoom:a,maxZoom:f,offsetX:d,offsetY:u,setZoomWrapper:p}=Lt(),v=a>1,{carousel:b,on:g}=H(),{currentIndex:C}=oe();se(()=>r===0?(p({zoomWrapperRef:c,imageDimensions:s}),()=>p(void 0)):()=>{},[r,s,p]);let y=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:r,rect:o,zoom:a,maxZoom:f});if(!y&&Ce(t)){const _={slide:t,offset:r,rect:o,render:e,imageFit:b.imageFit,imageProps:b.imageProps,onClick:r===0?()=>{var h;return(h=g.click)===null||h===void 0?void 0:h.call(g,{index:C})}:void 0};y=Rr(t)?n.createElement(kr,{..._,slide:t,interactive:v,rect:r===0?{width:o.width*a,height:o.height*a}:o}):n.createElement(ge,{onLoad:h=>l({width:h.naturalWidth,height:h.naturalHeight}),..._})}return y?n.createElement("div",{ref:c,className:Y(M(bn),M(Ee),M(gt),v&&M(yo)),style:r===0?{transform:`scale(${a}) translateX(${d}px) translateY(${u}px)`}:void 0},y):null}const tn=({augment:e,addModule:t})=>{e(({zoom:r,toolbar:o,render:i,controller:s,...l})=>{const c=Gn(r);return{zoom:c,toolbar:$e(o,zt,n.createElement(Tr,null)),render:{...i,slide:a=>{var f;return Ce(a.slide)?n.createElement(Or,{render:i,...a}):(f=i.slide)===null||f===void 0?void 0:f.call(i,a)}},controller:{...s,preventDefaultWheelY:c.scrollToZoom},...l}}),t(ne(zt,Sr))},Dr={controls:!0,playsInline:!0},Qn=e=>({...Dr,...e});function Fr(){const{video:e}=H();return Qn(e)}function Ar(){var e;return((e=navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(({brand:t})=>t==="Chromium"))||!!window.chrome}function Vr(){return/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)}function Wr({slide:e,offset:t}){const r=Fr(),{publish:o}=ye(),{setContainerRef:i,containerRect:s,containerRef:l}=Mt(),{getOwnerDocument:c}=Pe(),{animation:a}=H(),f=n.useRef(null),d=n.useRef(!1);n.useEffect(()=>{t!==0&&f.current&&!f.current.paused&&f.current.pause()},[t]),n.useEffect(()=>{t===0&&f.current&&(e.autoPlay||r.autoPlay)&&(o(pn),f.current.play().catch(()=>{}))},[t,r.autoPlay,e.autoPlay,o]);const u=D(()=>{const m=setTimeout(()=>{if(l.current){const E=l.current.style.border;l.current.style.border="1px solid transparent",Rn(l.current),l.current.style.border=E}},Math.max(a.swipe,a.navigation||0)+50);return()=>clearTimeout(m)});n.useEffect(()=>{if(Ar()&&t===0)return u()},[t,u]);const p=D(m=>{t===0&&(r.autoPlay||e.autoPlay)&&m.paused&&m.play().catch(()=>{})}),v=n.useCallback(m=>{f.current=m,m&&p(m)},[p]);n.useEffect(()=>{if(t===0){let m=!1;const E=()=>{m=c().fullscreenElement===f.current,d.current=m};return c().addEventListener("fullscreenchange",E),()=>{c().removeEventListener("fullscreenchange",E),m&&(d.current=!1,c().exitFullscreen().catch(()=>{}))}}},[t,c]),n.useEffect(()=>{if(t===0){let m=!1;const E=A=>N=>{N.target===f.current&&(m=A,d.current=m)},O=E(!0),x=E(!1);return c().addEventListener("enterpictureinpicture",O),c().addEventListener("leavepictureinpicture",x),()=>{c().removeEventListener("enterpictureinpicture",O),c().removeEventListener("leavepictureinpicture",x),m&&(d.current=!1,c().exitPictureInPicture().catch(()=>{}))}}},[t,c]);const{width:b,height:g,poster:C,sources:y}=e,_=()=>{const m={};if(m.style={maxWidth:"100%",maxHeight:"100%"},b&&g&&s){const E=b/g>s.width/s.height,O=E?s.width:Math.round(s.height/g*b),x=E?Math.round(s.width/b*g):s.height;m.width=O,m.height=x,m.style.width=O,m.style.height=x}return m},h=m=>e[m]===!1?null:e[m]===!0?{[m]:!0}:r[m]===!1?null:r[m]===!0?{[m]:!0}:null,L=m=>r[m]||e[m]?{[m]:e[m]||r[m]}:null,S=m=>{d.current&&m.stopPropagation()};return n.createElement(n.Fragment,null,y&&n.createElement("div",{ref:i,style:{width:"100%",height:"100%",...b?{maxWidth:`${b}px`}:null},className:Y(M("video_container"),M(Ee),M(gt))},s&&n.createElement("video",{ref:v,poster:C,..._(),...h("controls"),...h("playsInline"),...h("loop"),...h("muted"),...h("playsInline"),...h("disablePictureInPicture"),...h("disableRemotePlayback"),...L("controlsList"),...L("crossOrigin"),...L("preload"),onPlay:()=>{var m;if(t!==0){(m=f.current)===null||m===void 0||m.pause();return}o(vn)},onEnded:()=>{o(gn)},onWheel:S,onKeyDown:S,onPointerDown:m=>{S(m),Vr()&&f.current&&f.current.getBoundingClientRect().bottom-m.clientY<40&&m.stopPropagation()}},y.map(({src:m,type:E,media:O})=>n.createElement("source",{key:[m,E,O].filter(Boolean).join("|"),src:m,type:E,media:O})))))}function $r(e){return e.type==="video"}function nn({augment:e}){e(({render:{slide:t,...r},video:o,...i})=>({render:{slide:({slide:s,offset:l,rect:c})=>{var a;return $r(s)?n.createElement(Wr,{key:(a=s.sources)===null||a===void 0?void 0:a.map(f=>f.src).join("|"),slide:s,offset:l}):t==null?void 0:t({slide:s,offset:l,rect:c})},...r},video:Qn(o),...i}))}const Le=e=>M(`slide_${e}`),mt={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1,hidden:!1},Tt=e=>({...mt,...e});function zr(){const{captions:e}=H();return Tt(e)}const Jn=n.createContext(null),Rt=ee("useCaptions","CaptionsContext",Jn);function Zr({captions:e,children:t}){const{ref:r,hidden:o}=Tt(e),[i,s]=n.useState(!o),l=n.useMemo(()=>({visible:i,show:()=>s(!0),hide:()=>s(!1)}),[i]);return n.useImperativeHandle(r,()=>l,[l]),n.createElement(Jn.Provider,{value:l},t)}function Hr({title:e}){const{toolbarWidth:t}=re(),{styles:r}=H(),{visible:o}=Rt();return o?n.createElement("div",{role:"heading","aria-level":2,style:r.captionsTitleContainer,className:Y(Le("captions_container"),Le("title_container"))},n.createElement("div",{className:Le("title"),style:{...t?{[W("toolbar_width")]:`${t}px`}:null,...r.captionsTitle}},e)):null}function Ur({description:e}){const{descriptionTextAlign:t,descriptionMaxLines:r}=zr(),{styles:o,labels:i}=H(),{visible:s}=Rt();return s?n.createElement("div",{style:o.captionsDescriptionContainer,className:Y(Le("captions_container"),Le("description_container"))},n.createElement("div",{className:Le("description"),style:{...t!==mt.descriptionTextAlign||r!==mt.descriptionMaxLines?{[W("slide_description_text_align")]:t,[W("slide_description_max_lines")]:r}:null,...o.captionsDescription},role:"paragraph","aria-roledescription":me(i,"Caption")},typeof e=="string"?e.split(`
`).flatMap((l,c)=>[...c>0?[n.createElement("br",{key:c})]:[],l]):e)):null}const eo=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),Br=Q("CaptionsVisible",eo()),Xr=Zn("CaptionsVisible",eo());function Yr(){const{visible:e,show:t,hide:r}=Rt(),{render:o}=H();return o.buttonCaptions?n.createElement(n.Fragment,null,o.buttonCaptions({visible:e,show:t,hide:r})):n.createElement(_e,{label:e?"Hide captions":"Show captions",icon:e?Br:Xr,renderIcon:e?o.iconCaptionsVisible:o.iconCaptionsHidden,onClick:e?r:t})}function on({augment:e,addModule:t}){e(({captions:r,render:{slideFooter:o,...i},toolbar:s,...l})=>{const c=Tt(r);return{render:{slideFooter:({slide:a})=>n.createElement(n.Fragment,null,o==null?void 0:o({slide:a}),a.title&&n.createElement(Hr,{title:a.title}),a.description&&n.createElement(Ur,{description:a.description})),...i},toolbar:$e(s,Wt,c.showToggle?n.createElement(Yr,null):null),captions:c,...l}}),t(ne(Wt,Zr))}const jr={autoplay:!1,delay:3e3,ref:null},to=e=>({...jr,...e}),no=n.createContext(null),Kr=ee("useSlideshow","SlideshowContext",no);function Gr({slideshow:e,carousel:{finite:t},on:r,children:o}){const{autoplay:i,delay:s,ref:l}=to(e),c=n.useRef(i),[a,f]=n.useState(i),d=n.useRef(void 0),u=n.useRef(void 0),{slides:p,currentIndex:v}=oe(),{setTimeout:b,clearTimeout:g}=ze(),{subscribe:C}=ye(),{next:y}=re(),{setAutoPlaying:_}=St();n.useEffect(()=>_(a),[a,_]);const h=p.length===0||t&&v===p.length-1,L=n.useCallback(()=>{!a&&!h&&f(!0)},[a,h]),S=n.useCallback(()=>{a&&f(!1)},[a]),m=n.useCallback(()=>{g(d.current),d.current=void 0},[g]),E=D(()=>{m(),!(!a||h||u.current===Me||u.current===ct)&&(d.current=b(()=>{a&&(u.current=void 0,y())},s))});n.useEffect(E,[v,a,E]),n.useEffect(()=>{a&&h&&f(!1)},[v,a,h]);const O=D(()=>{var N;return(N=r.slideshowStart)===null||N===void 0?void 0:N.call(r)}),x=D(()=>{var N;return(N=r.slideshowStop)===null||N===void 0?void 0:N.call(r)});n.useEffect(()=>{a?O():c.current&&x(),c.current=a},[a,O,x]),n.useEffect(()=>Re(m,C(pn,()=>{u.current=Me,m()}),C(vn,()=>{u.current=ct,m()}),C(Co,()=>{u.current=De,E()}),C(gn,()=>{u.current=Fe,E()})),[C,m,E]);const A=n.useMemo(()=>({playing:a,disabled:h,play:L,pause:S}),[a,h,L,S]);return n.useImperativeHandle(l,()=>A,[A]),n.createElement(no.Provider,{value:A},o)}const qr=Q("Play",n.createElement("path",{d:"M8 5v14l11-7z"})),Qr=Q("Pause",n.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}));function Jr(){const{playing:e,disabled:t,play:r,pause:o}=Kr(),{render:i}=H(),s=Hn(re().focus,t);return i.buttonSlideshow?n.createElement(n.Fragment,null,i.buttonSlideshow({playing:e,disabled:t,play:r,pause:o})):n.createElement(_e,{label:e?"Pause":"Play",icon:e?Qr:qr,renderIcon:e?i.iconSlideshowPause:i.iconSlideshowPlay,onClick:e?o:r,disabled:t,...s})}function rn({augment:e,addModule:t}){e(({slideshow:r,toolbar:o,...i})=>({toolbar:$e(o,$t,n.createElement(Jr,null)),slideshow:to(r),...i})),t(ne($t,Gr))}const ei={auto:!1,ref:null},oo=e=>({...ei,...e}),ro=n.createContext(null),ti=ee("useFullscreen","FullscreenContext",ro);function ni({fullscreen:e,on:t,children:r}){const{auto:o,ref:i}=oo(e),s=n.useRef(null),[l,c]=n.useState(),[a,f]=n.useState(!1),d=n.useRef(!1),{getOwnerDocument:u}=Pe();se(()=>{var h,L,S,m;const E=u();c(!((m=(S=(L=(h=E.fullscreenEnabled)!==null&&h!==void 0?h:E.webkitFullscreenEnabled)!==null&&L!==void 0?L:E.mozFullScreenEnabled)!==null&&S!==void 0?S:E.msFullscreenEnabled)!==null&&m!==void 0&&m))},[u]);const p=n.useCallback(()=>{var h;const L=u(),S=L.fullscreenElement||L.webkitFullscreenElement||L.mozFullScreenElement||L.msFullscreenElement;return((h=S==null?void 0:S.shadowRoot)===null||h===void 0?void 0:h.fullscreenElement)||S},[u]),v=n.useCallback(()=>{const h=s.current;try{h.requestFullscreen?h.requestFullscreen().catch(()=>{}):h.webkitRequestFullscreen?h.webkitRequestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.msRequestFullscreen&&h.msRequestFullscreen()}catch{}},[]),b=n.useCallback(()=>{if(!p())return;const h=u();try{h.exitFullscreen?h.exitFullscreen().catch(()=>{}):h.webkitExitFullscreen?h.webkitExitFullscreen():h.mozCancelFullScreen?h.mozCancelFullScreen():h.msExitFullscreen&&h.msExitFullscreen()}catch{}},[p,u]);n.useEffect(()=>{const h=u(),L=()=>{f(p()===s.current)};return Re(...["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].map(S=>(h.addEventListener(S,L),()=>h.removeEventListener(S,L))))},[p,u]);const g=D(()=>{var h;return(h=t.enterFullscreen)===null||h===void 0?void 0:h.call(t)}),C=D(()=>{var h;return(h=t.exitFullscreen)===null||h===void 0?void 0:h.call(t)});n.useEffect(()=>{a&&(d.current=!0),d.current&&(a?g:C)()},[a,g,C]);const y=D(()=>{var h;return(h=o?v:null)===null||h===void 0||h(),b});n.useEffect(y,[y]);const _=n.useMemo(()=>({fullscreen:a,disabled:l,enter:v,exit:b}),[a,l,v,b]);return n.useImperativeHandle(i,()=>_,[_]),n.createElement("div",{ref:s,className:Y(M(Ae),M(bn))},n.createElement(ro.Provider,{value:_},r))}const oi=Q("EnterFullscreen",n.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),ri=Q("ExitFullscreen",n.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function ii(){var e;const{fullscreen:t,disabled:r,enter:o,exit:i}=ti(),{render:s}=H();return r?null:s.buttonFullscreen?n.createElement(n.Fragment,null,(e=s.buttonFullscreen)===null||e===void 0?void 0:e.call(s,{fullscreen:t,disabled:r,enter:o,exit:i})):n.createElement(_e,{disabled:r,label:t?"Exit Fullscreen":"Enter Fullscreen",icon:t?ri:oi,renderIcon:t?s.iconExitFullscreen:s.iconEnterFullscreen,onClick:t?i:o})}function sn({augment:e,contains:t,addParent:r}){e(({fullscreen:o,toolbar:i,...s})=>({toolbar:$e(i,Ae,n.createElement(ii,null)),fullscreen:oo(o),...s})),r(t(Ve)?Ve:je,ne(Ae,ni))}const ve={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0,hidden:!1,showToggle:!1},Nt=e=>({...ve,...e});function io(){const{thumbnails:e}=H();return Nt(e)}const be=e=>we(Ve,e),X=e=>be(we("thumbnail",e)),si=Q("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),li=Q("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function ci({slide:e,render:t,rect:r,imageFit:o}){var i;const s=(i=t.thumbnail)===null||i===void 0?void 0:i.call(t,{slide:e,render:t,rect:r,imageFit:o});if(s)return s;const l={render:t,rect:r,imageFit:o};if(e.thumbnail)return n.createElement(ge,{slide:{src:e.thumbnail},...l});if(Ce(e))return n.createElement(ge,{slide:e,...l});const c=M(X(Xe));return e.type==="video"?n.createElement(n.Fragment,null,e.poster&&n.createElement(ge,{slide:{src:e.poster},...l}),n.createElement(si,{className:c})):n.createElement(li,{className:c})}const ai=xe("active"),st=xe("fadein"),lt=xe("fadeout"),ui=xe("placeholder"),ln="delay",cn="duration";function di({slide:e,index:t,onClick:r,fadeIn:o,fadeOut:i,placeholder:s,onLoseFocus:l}){const c=n.useRef(null),{render:a,styles:f,labels:d}=H(),{slides:u,globalIndex:p}=oe(),{getOwnerDocument:v}=Pe(),{width:b,height:g,imageFit:C}=io(),y={width:b,height:g},_=t===p,h=D(l);return n.useEffect(()=>{i&&v().activeElement===c.current&&h()},[i,h,v]),n.createElement("button",{ref:c,type:"button",className:Y(M(Ee),M(X()),_&&M(X(ai())),o&&M(X(st())),i&&M(X(lt())),s&&M(X(ui()))),style:{...o?{[W(X(st(cn)))]:`${o.duration}ms`,[W(X(st(ln)))]:`${o.delay}ms`}:null,...i?{[W(X(lt(cn)))]:`${i.duration}ms`,[W(X(lt(ln)))]:`${i.delay}ms`}:null,...f.thumbnail},onClick:r,"aria-current":_?!0:void 0,"aria-label":Mn(d,u,t)},e&&ci({slide:e,render:a,rect:y,imageFit:C}))}function an(e){return["top","bottom"].includes(e)}function un(e,t){return t+2*(e.border+e.padding)+e.gap}function fi(e){const{thumbnail:t,poster:r}=e||{thumbnail:"placeholder"};return typeof t=="string"&&t||typeof r=="string"&&r||e&&Ln(e)||void 0}function dn({visible:e,containerRef:t}){const r=n.useRef(null),o=Ge(),{publish:i,subscribe:s}=ye(),{carousel:l,styles:c,labels:a}=H(),{slides:f,globalIndex:d,animation:u}=oe(),{registerSensors:p,subscribeSensors:v}=Un();jn(v);const b=io(),{position:g,width:C,height:y,border:_,borderStyle:h,borderColor:L,borderRadius:S,padding:m,gap:E,vignette:O}=b,x=(u==null?void 0:u.duration)!==void 0&&(u==null?void 0:u.increment)||0,A=(u==null?void 0:u.duration)||0,{prepareAnimation:N}=ft(r,R=>({keyframes:an(g)?[{transform:`translateX(${(o?-1:1)*un(b,C)*x+R}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${un(b,y)*x+R}px)`},{transform:"translateY(0)"}],duration:A,easing:u==null?void 0:u.easing})),z=D(()=>{let R=0;if(t.current&&r.current){const w=t.current.getBoundingClientRect(),T=r.current.getBoundingClientRect();R=an(g)?T.left-w.left-(w.width-T.width)/2:T.top-w.top-(w.height-T.height)/2}N(R)});n.useEffect(()=>Re(s(at,z)),[s,z]);const I=Tn(l,f),$=[];if(yt(f))for(let R=d-I-Math.abs(x);R<=d+I+Math.abs(x);R+=1){const T=l.finite&&(R<0||R>f.length-1)||x<0&&R<d-I||x>0&&R>d+I?null:_t(f,R),V=[`${R}`,fi(T)].filter(Boolean).join("|");$.push({key:V,index:R,slide:T})}const F=R=>()=>{R>d?i(he,{count:R-d}):R<d&&i(fe,{count:d-R})};return n.createElement("div",{className:Y(M(be("container")),M(Ee)),style:{...e?null:{display:"none"},...C!==ve.width?{[W(X("width"))]:`${C}px`}:null,...y!==ve.height?{[W(X("height"))]:`${y}px`}:null,..._!==ve.border?{[W(X("border"))]:`${_}px`}:null,...h?{[W(X("border_style"))]:h}:null,...L?{[W(X("border_color"))]:L}:null,...S!==ve.borderRadius?{[W(X("border_radius"))]:`${S}px`}:null,...m!==ve.padding?{[W(X("padding"))]:`${m}px`}:null,...E!==ve.gap?{[W(X("gap"))]:`${E}px`}:null,...c.thumbnailsContainer}},n.createElement("nav",{ref:r,style:c.thumbnailsTrack,className:Y(M(be("track")),M(Ee)),"aria-label":me(a,"Thumbnails"),tabIndex:-1,...p},$.map(({key:R,index:w,slide:T})=>{const V=A/Math.abs(x||1),j=x>0&&w>d+I-x&&w<=d+I||x<0&&w<d-I-x&&w>=d-I?{duration:V,delay:((x>0?w-(d+I-x):d-I-x-w)-1)*V}:void 0,U=x>0&&w<d-I||x<0&&w>d+I?{duration:V,delay:(x>0?x-(d-I-w):-x-(w-(d+I)))*V}:void 0;return n.createElement(di,{key:R,index:w,slide:T,fadeIn:j,fadeOut:U,placeholder:!T,onClick:F(w),onLoseFocus:()=>{var k;return(k=r.current)===null||k===void 0?void 0:k.focus()}})})),O&&n.createElement("div",{className:M(be("vignette"))}))}const so=n.createContext(null),hi=ee("useThumbnails","ThumbnailsContext",so);function mi({children:e,...t}){const{ref:r,position:o,hidden:i}=Nt(t.thumbnails),[s,l]=n.useState(!i),c=n.useRef(null),a=n.useMemo(()=>({visible:s,show:()=>l(!0),hide:()=>l(!1)}),[s]);return n.useImperativeHandle(r,()=>a,[a]),n.createElement(An,{...t},n.createElement(so.Provider,{value:a},n.createElement("div",{ref:c,className:Y(M(be()),M(be(`${o}`)))},["start","top"].includes(o)&&n.createElement(dn,{containerRef:c,visible:s}),n.createElement("div",{className:M(be("wrapper"))},e),["end","bottom"].includes(o)&&n.createElement(dn,{containerRef:c,visible:s}))))}const lo=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),pi=Q("ThumbnailsVisible",lo()),vi=Zn("ThumbnailsHidden",lo());function gi(){const{visible:e,show:t,hide:r}=hi(),{render:o}=H();return o.buttonThumbnails?n.createElement(n.Fragment,null,o.buttonThumbnails({visible:e,show:t,hide:r})):n.createElement(_e,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?pi:vi,renderIcon:e?o.iconThumbnailsVisible:o.iconThumbnailsHidden,onClick:e?r:t})}function fn({augment:e,contains:t,append:r,addParent:o}){e(({thumbnails:s,toolbar:l,...c})=>{const a=Nt(s);return{toolbar:$e(l,Ve,a.showToggle?n.createElement(gi,null):null),thumbnails:a,...c}});const i=ne(Ve,mi);t(Ae)?r(Ae,i):o(je,i)}function bi({disableZoom:e,disableVideo:t,disableCaptions:r,disableSlideshow:o,disableThumbnails:i,disableFullscreen:s}){let l=[on,sn,rn,fn,nn,tn];return i&&(l=l.filter(c=>c!==fn)),r&&(l=l.filter(c=>c!==on)),s&&(l=l.filter(c=>c!==sn)),o&&(l=l.filter(c=>c!==rn)),e&&(l=l.filter(c=>c!==tn)),t&&(l=l.filter(c=>c!==nn)),l}const Ei={root:po("lightbox__root")};function Ci({slides:e,disableZoom:t,disableVideo:r,disableTotal:o,disableCaptions:i,disableSlideshow:s,disableThumbnails:l,disableFullscreen:c,onGetCurrentIndex:a,className:f,...d}){const u=e?e.length:0;return J.jsx(br,{slides:e,animation:{swipe:240},carousel:{finite:u<5},controller:{closeOnBackdropClick:!0},plugins:bi({disableZoom:t,disableVideo:r,disableCaptions:i,disableSlideshow:s,disableThumbnails:l,disableFullscreen:c}),on:{view:({index:p})=>{a&&a(p)}},toolbar:{buttons:[J.jsx(wi,{totalItems:u,disableTotal:o},0),"close"]},render:{iconClose:()=>J.jsx(ue,{width:24,icon:"carbon:close"}),iconZoomIn:()=>J.jsx(ue,{width:24,icon:"carbon:zoom-in"}),iconZoomOut:()=>J.jsx(ue,{width:24,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>J.jsx(ue,{width:24,icon:"carbon:play"}),iconSlideshowPause:()=>J.jsx(ue,{width:24,icon:"carbon:pause"}),iconPrev:()=>J.jsx(ue,{width:32,icon:"carbon:chevron-left"}),iconNext:()=>J.jsx(ue,{width:32,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>J.jsx(ue,{width:24,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>J.jsx(ue,{width:24,icon:"carbon:fit-to-screen"})},className:vo([Ei.root,f]),...d})}function wi({totalItems:e,disableTotal:t}){const{currentIndex:r}=oe();return t?null:J.jsxs(go,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[J.jsxs("strong",{children:[" ",r+1," "]})," / ",e]})}function Pi(e){const[t,r]=n.useState(-1),o=n.useCallback(s=>{const l=e.findIndex(c=>c.type==="video"?c.poster===s:c.src===s);r(l)},[e]),i=n.useCallback(()=>{r(-1)},[]);return{selected:t,open:t>=0,onOpen:o,onClose:i,setSelected:r}}export{Ci as L,Pi as u};
