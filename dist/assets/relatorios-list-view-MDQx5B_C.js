import{r as p,c5 as h,j as o,cV as V,bj as F,p as x,B as m,f as g,I as f,T as j,S as y,dW as C,dX as k,dU as M,b3 as i,eg as G,eh as S,dL as R}from"./index-cNRh_qft.js";import{D as B}from"./dashboard-stats-card-eNVG4-Fk.js";import{C as I}from"./Card-C_-31fGp.js";import{G as $}from"./Grid-BAAHJ7js.js";function N(){const[d,D]=p.useState("visao-geral"),[r,w]=p.useState("30-dias"),[c,u]=p.useState(h().subtract(30,"day")),[v,b]=p.useState(h()),T=a=>{D(a.target.value)},P=a=>{const s=a.target.value;w(s);const l=h();switch(s){case"7-dias":u(l.subtract(7,"day")),b(l);break;case"30-dias":u(l.subtract(30,"day")),b(l);break;case"90-dias":u(l.subtract(90,"day")),b(l);break;case"1-ano":u(l.subtract(1,"year")),b(l);break}},e=(a,s=!1)=>{if(typeof a=="string"){const l=parseFloat(a.replace(/[R$\s]/g,"").replace("M","").replace("K","").replace("k",""));let t=1;switch(r){case"7-dias":t=.25;break;case"30-dias":t=1;break;case"90-dias":t=3;break;case"1-ano":t=12;break;case"personalizado":c&&v?t=v.diff(c,"day")/30:t=1;break;default:t=1;break}const n=l*t;return a.includes("M")?n>=1?`R$ ${n.toFixed(1)}M`:`R$ ${(n*1e3).toFixed(0)}K`:a.includes("K")||a.includes("k")?`R$ ${n.toFixed(0)}K`:`R$ ${n.toFixed(2)}`}else{let l=1;switch(r){case"7-dias":l=s?.8:.25;break;case"30-dias":l=1;break;case"90-dias":l=s?1.2:3;break;case"1-ano":l=s?1.5:12;break;case"personalizado":if(c&&v){const n=v.diff(c,"day");l=s?Math.min(1+n/365,2):n/30}else l=1;break;default:l=1;break}const t=Math.round(a*l);return s?`${t}%`:t}},z=(()=>{const a=[{title:"Vendas Realizadas",value:e(1247),icon:"solar:cart-check-bold-duotone",color:"primary",trend:{value:12.5,label:"vs período anterior"}},{title:"Receita Gerada",value:e("R$ 2.4M"),icon:"solar:dollar-bold-duotone",color:"success",trend:{value:8.3,label:"vs período anterior"}},{title:"Comissões Geradas",value:e("R$ 180K"),icon:"solar:wallet-money-bold-duotone",color:"warning",trend:{value:-2.1,label:"vs período anterior"}},{title:"Taxa de Conversão",value:e(23.5,!0),icon:"solar:target-bold-duotone",color:"info",trend:{value:5.7,label:"vs período anterior"}},{title:"Leads Convertidos",value:e(892),icon:"solar:user-check-bold-duotone",color:"secondary",trend:{value:15.2,label:"vs período anterior"}},{title:"Pipelines Ganhos",value:e(156),icon:"solar:graph-up-bold-duotone",color:"grey",trend:{value:-4.8,label:"vs período anterior"}},{title:"Ciclo da Venda",value:`${Math.round(28*(r==="7-dias"?.8:r==="90-dias"?1.1:r==="1-ano"?1.2:1))} dias`,icon:"solar:clock-circle-bold-duotone",color:"primary",trend:{value:-7.3,label:"vs período anterior"}},{title:"Novos Clientes",value:e(342),icon:"solar:users-group-two-rounded-bold-duotone",color:"success",trend:{value:18.9,label:"vs período anterior"}},{title:"Taxa de Cancelamento",value:e(7.2,!0),icon:"solar:close-circle-bold-duotone",color:"error",trend:{value:-3.1,label:"vs período anterior"}},{title:"Valor Total em Pipeline",value:e("R$ 8.7M"),icon:"solar:pie-chart-bold-duotone",color:"info",trend:{value:24.6,label:"vs período anterior"}},{title:"Meta vs Realizado",value:e(87.3,!0),icon:"solar:target-bold-duotone",color:"warning",trend:{value:4.2,label:"vs período anterior"}}],s=[{title:"Cadastros Criados",value:e(1847),icon:"solar:user-plus-bold-duotone",color:"primary",trend:{value:15.3,label:"vs período anterior"}},{title:"Pipeline de Ganhos",value:e(156),icon:"solar:graph-up-bold-duotone",color:"success",trend:{value:8.7,label:"vs período anterior"}},{title:"Pipeline Perdidos",value:e(89),icon:"solar:graph-down-bold-duotone",color:"error",trend:{value:-12.4,label:"vs período anterior"}},{title:"Lançamentos Cadastrados",value:e(234),icon:"solar:buildings-2-bold-duotone",color:"info",trend:{value:22.1,label:"vs período anterior"}},{title:"Vendas Realizadas",value:e(1247),icon:"solar:cart-check-bold-duotone",color:"primary",trend:{value:12.5,label:"vs período anterior"}},{title:"Comissões Geradas",value:e("R$ 180K"),icon:"solar:wallet-money-bold-duotone",color:"warning",trend:{value:-2.1,label:"vs período anterior"}},{title:"Leads Convertidos",value:e(892),icon:"solar:user-check-bold-duotone",color:"secondary",trend:{value:15.2,label:"vs período anterior"}},{title:"Ciclo da Venda",value:`${Math.round(28*(r==="7-dias"?.8:r==="90-dias"?1.1:r==="1-ano"?1.2:1))} dias`,icon:"solar:clock-circle-bold-duotone",color:"grey",trend:{value:-7.3,label:"vs período anterior"}},{title:"Taxa de Cancelamento",value:e(5.8,!0),icon:"solar:close-circle-bold-duotone",color:"error",trend:{value:-2.4,label:"vs período anterior"}},{title:"Valor Total em Pipeline",value:e("R$ 12.3M"),icon:"solar:pie-chart-bold-duotone",color:"info",trend:{value:18.7,label:"vs período anterior"}},{title:"Meta vs Realizado",value:e(92.1,!0),icon:"solar:target-bold-duotone",color:"success",trend:{value:6.8,label:"vs período anterior"}}],l=[{title:"Visitas Agendadas",value:e(324),icon:"solar:calendar-add-bold-duotone",color:"primary",trend:{value:18.5,label:"vs período anterior"}},{title:"Visitas Canceladas",value:e(47),icon:"solar:calendar-cross-bold-duotone",color:"error",trend:{value:-8.2,label:"vs período anterior"}},{title:"Visitas Concluídas",value:e(289),icon:"solar:calendar-check-bold-duotone",color:"success",trend:{value:12.7,label:"vs período anterior"}},{title:"Cliente Desmarcou",value:e(23),icon:"solar:user-cross-bold-duotone",color:"warning",trend:{value:-15.3,label:"vs período anterior"}},{title:"Corretor Desmarcou",value:e(12),icon:"solar:user-block-bold-duotone",color:"info",trend:{value:-22.1,label:"vs período anterior"}},{title:"Taxa de Cancelamento",value:e(14.5,!0),icon:"solar:close-circle-bold-duotone",color:"error",trend:{value:-5.2,label:"vs período anterior"}},{title:"Valor Total em Pipeline",value:e("R$ 3.8M"),icon:"solar:pie-chart-bold-duotone",color:"info",trend:{value:11.3,label:"vs período anterior"}},{title:"Meta vs Realizado",value:e(89.2,!0),icon:"solar:target-bold-duotone",color:"warning",trend:{value:3.7,label:"vs período anterior"}}],t=[{title:"Total de Grupos",value:e(8),icon:"solar:users-group-two-rounded-bold-duotone",color:"primary",trend:{value:14.3,label:"vs período anterior"}},{title:"Grupos Ativos",value:e(6),icon:"solar:check-circle-bold-duotone",color:"success",trend:{value:20,label:"vs período anterior"}},{title:"Performance Média",value:e(76.4,!0),icon:"solar:chart-2-bold-duotone",color:"info",trend:{value:8.7,label:"vs período anterior"}},{title:"Vendas Totais",value:e(849),icon:"solar:cart-check-bold-duotone",color:"warning",trend:{value:12.5,label:"vs período anterior"}},{title:"Comissão Total",value:e("R$ 6.9M"),icon:"solar:wallet-money-bold-duotone",color:"secondary",trend:{value:15.8,label:"vs período anterior"}},{title:"Membros Totais",value:e(71),icon:"solar:user-bold-duotone",color:"grey",trend:{value:5.2,label:"vs período anterior"}},{title:"Taxa de Cancelamento",value:e(4.2,!0),icon:"solar:close-circle-bold-duotone",color:"error",trend:{value:-3.1,label:"vs período anterior"}},{title:"Valor Total em Pipeline",value:e("R$ 18.5M"),icon:"solar:pie-chart-bold-duotone",color:"info",trend:{value:22.4,label:"vs período anterior"}},{title:"Meta vs Realizado",value:e(89.3,!0),icon:"solar:target-bold-duotone",color:"success",trend:{value:7.6,label:"vs período anterior"}},{title:"Grupos que Bateram Meta",value:`${Math.round(5*(r==="7-dias"?.6:r==="90-dias"?1.2:r==="1-ano"?1.5:1))} de ${Math.round(8*(r==="7-dias"?.8:r==="90-dias"?1.1:r==="1-ano"?1.3:1))}`,icon:"solar:medal-star-bold-duotone",color:"warning",trend:{value:25,label:"vs período anterior"}}],n=[{title:"Total de Corretores",value:e(10),icon:"solar:user-id-bold-duotone",color:"primary",trend:{value:11.1,label:"vs período anterior"}},{title:"Corretores Ativos",value:e(8),icon:"solar:user-check-bold-duotone",color:"success",trend:{value:14.3,label:"vs período anterior"}},{title:"Performance Média",value:e(78.1,!0),icon:"solar:chart-2-bold-duotone",color:"info",trend:{value:6.8,label:"vs período anterior"}},{title:"Vendas Totais",value:e(168),icon:"solar:cart-check-bold-duotone",color:"warning",trend:{value:18.3,label:"vs período anterior"}},{title:"Comissão Total",value:e("R$ 1.36M"),icon:"solar:wallet-money-bold-duotone",color:"secondary",trend:{value:16.7,label:"vs período anterior"}},{title:"Leads Totais",value:e(354),icon:"solar:user-plus-bold-duotone",color:"grey",trend:{value:9.4,label:"vs período anterior"}},{title:"Taxa de Cancelamento",value:e(6.1,!0),icon:"solar:close-circle-bold-duotone",color:"error",trend:{value:-2.8,label:"vs período anterior"}},{title:"Valor Total em Pipeline",value:e("R$ 8.2M"),icon:"solar:pie-chart-bold-duotone",color:"info",trend:{value:19.6,label:"vs período anterior"}},{title:"Meta vs Realizado",value:e(84.7,!0),icon:"solar:target-bold-duotone",color:"success",trend:{value:5.3,label:"vs período anterior"}},{title:"Corretores que Bateram Meta",value:`${Math.round(6*(r==="7-dias"?.6:r==="90-dias"?1.2:r==="1-ano"?1.5:1))} de ${Math.round(10*(r==="7-dias"?.8:r==="90-dias"?1.1:r==="1-ano"?1.3:1))}`,icon:"solar:medal-star-bold-duotone",color:"warning",trend:{value:20,label:"vs período anterior"}}];return d==="painel-pipelines"?s:d==="painel-eventos"?l:d==="grupos"?t:d==="corretores"?n:a})();return o.jsxs(V,{children:[o.jsx(F,{heading:"Relatórios",links:[{name:"Dashboard",href:x.dashboard.root},{name:"Relatórios",href:x.dashboard.relatorios.root},{name:"Lista"}],action:o.jsx(m,{sx:{display:{xs:"none",sm:"block"}},children:o.jsx(g,{variant:"contained",startIcon:o.jsx(f,{icon:"solar:export-bold"}),sx:{minWidth:"auto",px:2,"& .MuiButton-startIcon":{mr:1}},children:"Exportar"})}),sx:{mb:{xs:2,sm:{xs:3,md:5}}}}),o.jsx(m,{sx:{mb:{xs:3,md:5},display:{xs:"block",sm:"none"}},children:o.jsx(g,{variant:"contained",startIcon:o.jsx(f,{icon:"solar:export-bold"}),fullWidth:!0,sx:{"& .MuiButton-startIcon":{mr:1}},children:"Exportar"})}),o.jsxs(I,{sx:{p:3,mt:{xs:2,md:3}},children:[o.jsx(j,{variant:"h6",gutterBottom:!0,children:"Relatórios"}),o.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Aqui você pode gerenciar seus relatórios."}),o.jsxs(y,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:3},children:[o.jsx(m,{sx:{minWidth:200},children:o.jsxs(C,{fullWidth:!0,size:"small",children:[o.jsx(k,{id:"filter-label",children:"Filtrar por"}),o.jsxs(M,{labelId:"filter-label",value:d,label:"Filtrar por",onChange:T,children:[o.jsx(i,{value:"visao-geral",children:"Visão geral"}),o.jsx(i,{value:"painel-pipelines",children:"Painel de pipelines"}),o.jsx(i,{value:"painel-eventos",children:"Painel de eventos"}),o.jsx(i,{value:"grupos",children:"Grupos"}),o.jsx(i,{value:"corretores",children:"Corretores"})]})]})}),o.jsx(m,{sx:{minWidth:200},children:o.jsxs(C,{fullWidth:!0,size:"small",children:[o.jsx(k,{id:"period-label",children:"Período"}),o.jsxs(M,{labelId:"period-label",value:r,label:"Período",onChange:P,children:[o.jsx(i,{value:"7-dias",children:"Últimos 7 dias"}),o.jsx(i,{value:"30-dias",children:"Últimos 30 dias"}),o.jsx(i,{value:"90-dias",children:"Últimos 90 dias"}),o.jsx(i,{value:"1-ano",children:"Último ano"}),o.jsx(i,{value:"personalizado",children:"Período personalizado"})]})]})}),r==="personalizado"&&o.jsx(G,{dateAdapter:S,children:o.jsxs(y,{direction:"row",spacing:1,children:[o.jsx(R,{label:"Data início",value:c,onChange:a=>u(a),slotProps:{textField:{size:"small",sx:{minWidth:140}}}}),o.jsx(R,{label:"Data fim",value:v,onChange:a=>b(a),slotProps:{textField:{size:"small",sx:{minWidth:140}}}})]})})]})]}),o.jsx($,{container:!0,spacing:3,sx:{mt:3},children:z.map(a=>o.jsx($,{item:!0,xs:12,sm:6,md:3,children:o.jsx(B,{title:a.title,value:a.value,icon:a.icon,color:a.color,trend:a.trend})},a.title))})]})}export{N as R};
