import{j as e,f as h,I as x,S as C,B as a,T as c,a$ as j,D as S,au as I,a0 as L,A as N,aP as A,bi as G,a1 as R,bp as H,G as u,p as T,R as P,aB as D,C as F,s as q,bv as z,bg as W,U as $,Y as O,bw as V,aS as B,aT as U,aU as _,aV as Y,y as M,z as Q,O as J,F as K,N as X,bl as Z,Q as ee,bx as se,L as re,aj as te,by as ne,c as ae,H as ie}from"./index-cNRh_qft.js";import{E as le}from"./empty-content-BzM3Az2z.js";import{u as k}from"./use-checkout-context-D9kefmWb.js";import{C as b}from"./Card-C_-31fGp.js";import{C as f}from"./CardHeader-CZZHKPlX.js";import{T as oe}from"./table-head-custom-DSpcVu4-.js";import{C as ce}from"./color-preview-C96dy_lS.js";import{T as de,a as xe,b as pe}from"./TableHead-DBnjkyMB.js";import{T as y}from"./TableCell-CGwO8Re3.js";import{S as he,a as ue,b as me,s as je,c as ye,d as v}from"./Stepper-tqzoY8Fq.js";import{P as be}from"./payment-new-card-form-67mytUze.js";import{A as fe}from"./address-new-form-DjRCGj6o.js";import"./schema-helper-D18en8Wv.js";function w({onEdit:s,checkoutState:r,onApplyDiscount:t}){const{shipping:i,subtotal:n,discount:l,total:p}=r,o=i!==null?"Free":"-",d={display:"flex"};return e.jsxs(b,{sx:{mb:3},children:[e.jsx(f,{title:"Order summary",action:s&&e.jsx(h,{size:"small",onClick:s,startIcon:e.jsx(x,{icon:"solar:pen-bold"}),children:"Edit"})}),e.jsxs(C,{spacing:2,sx:{p:3},children:[e.jsxs(a,{sx:{...d},children:[e.jsx(c,{component:"span",variant:"body2",sx:{flexGrow:1,color:"text.secondary"},children:"Subtotal"}),e.jsx(c,{component:"span",variant:"subtitle2",children:j(n)})]}),e.jsxs(a,{sx:{...d},children:[e.jsx(c,{component:"span",variant:"body2",sx:{flexGrow:1,color:"text.secondary"},children:"Discount"}),e.jsx(c,{component:"span",variant:"subtitle2",children:l?j(-l):"-"})]}),e.jsxs(a,{sx:{...d},children:[e.jsx(c,{component:"span",variant:"body2",sx:{flexGrow:1,color:"text.secondary"},children:"Shipping"}),e.jsx(c,{component:"span",variant:"subtitle2",children:i?j(i):o})]}),e.jsx(S,{sx:{borderStyle:"dashed"}}),e.jsxs(a,{sx:{...d},children:[e.jsx(c,{component:"span",variant:"subtitle1",sx:{flexGrow:1},children:"Total"}),e.jsxs(a,{sx:{textAlign:"right"},children:[e.jsx(c,{component:"span",variant:"subtitle1",sx:{display:"block",color:"error.main"},children:j(p)}),e.jsx(c,{variant:"caption",sx:{fontStyle:"italic"},children:"(VAT included if applicable)"})]})]}),t&&e.jsx(I,{fullWidth:!0,placeholder:"Discount codes / Gifts",value:"DISCOUNT5",slotProps:{input:{endAdornment:e.jsx(L,{position:"end",children:e.jsx(h,{color:"primary",onClick:()=>t(5),sx:{mr:-.5},children:"Apply"})})}}})]})]})}function ge({row:s,onDeleteCartItem:r,onChangeItemQuantity:t}){return e.jsxs(de,{children:[e.jsx(y,{children:e.jsxs(a,{sx:{gap:2,display:"flex",alignItems:"center"},children:[e.jsx(N,{variant:"rounded",alt:s.name,src:s.coverUrl,sx:{width:64,height:64}}),e.jsxs(C,{spacing:.5,children:[e.jsx(c,{noWrap:!0,variant:"subtitle2",sx:{maxWidth:240},children:s.name}),e.jsxs(a,{sx:{display:"flex",typography:"body2",alignItems:"center",color:"text.secondary"},children:["size: ",e.jsxs(A,{sx:{ml:.5},children:[" ",s.size," "]}),e.jsx(S,{orientation:"vertical",sx:{mx:1,height:16}}),e.jsx(ce,{colors:s.colors})]})]})]})}),e.jsx(y,{children:j(s.price)}),e.jsx(y,{children:e.jsxs(a,{sx:{width:100,textAlign:"right"},children:[e.jsx(G,{hideDivider:!0,value:s.quantity,onChange:(i,n)=>t(s.id,n),max:s.available}),e.jsxs(c,{variant:"caption",sx:{color:"text.secondary",display:"block",mt:1},children:["available: ",s.available]})]})}),e.jsx(y,{align:"right",children:j(s.price*s.quantity)}),e.jsx(y,{align:"right",sx:{px:1},children:e.jsx(R,{onClick:()=>r(s.id),children:e.jsx(x,{icon:"solar:trash-bin-trash-bold"})})})]})}const ve=[{id:"product",label:"Product"},{id:"price",label:"Price"},{id:"quantity",label:"Quantity"},{id:"totalAmount",label:"Total Price",align:"right"},{id:""}];function Ce({checkoutState:s,onDeleteCartItem:r,onChangeItemQuantity:t}){return e.jsx(H,{children:e.jsxs(xe,{sx:{minWidth:720},children:[e.jsx(oe,{headCells:ve}),e.jsx(pe,{children:s.items.map(i=>e.jsx(ge,{row:i,onDeleteCartItem:r,onChangeItemQuantity:t},i.id))})]})})}function ke(){const{loading:s,onChangeStep:r,onApplyDiscount:t,onDeleteCartItem:i,state:n,onChangeItemQuantity:l}=k(),p=!n.items.length,o=()=>e.jsx(a,{sx:{height:340,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(D,{color:"inherit",sx:{width:1,maxWidth:320}})}),d=()=>e.jsx(le,{title:"Cart is empty!",description:"Look like you have no items in your shopping cart.",imgUrl:`${F.assetsDir}/assets/icons/empty/ic-cart.svg`,sx:{height:340}});return e.jsxs(u,{container:!0,spacing:3,children:[e.jsxs(u,{size:{xs:12,md:8},children:[e.jsxs(b,{sx:{mb:3},children:[e.jsx(f,{title:e.jsxs(c,{variant:"h6",children:["Cart ",e.jsxs(c,{component:"span",sx:{color:"text.secondary"},children:["(",n.totalItems," items)"]})]}),sx:{mb:3}}),s?o():e.jsx(e.Fragment,{children:p?d():e.jsx(Ce,{checkoutState:n,onDeleteCartItem:i,onChangeItemQuantity:l})})]}),e.jsx(h,{component:P,href:T.product.root,color:"inherit",startIcon:e.jsx(x,{icon:"eva:arrow-ios-back-fill"}),children:"Continue shopping"})]}),e.jsxs(u,{size:{xs:12,md:4},children:[e.jsx(w,{checkoutState:n,onApplyDiscount:t}),e.jsx(h,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:p,onClick:()=>r("next"),children:"Check out"})]})]})}function Se({steps:s,activeStep:r,sx:t,...i}){return e.jsx(he,{alternativeLabel:!0,activeStep:r,connector:e.jsx(we,{}),sx:[{mb:{xs:3,md:5}},...Array.isArray(t)?t:[t]],...i,children:s.map(n=>e.jsx(ue,{children:e.jsx(me,{slots:{stepIcon:Ie},sx:{[`& .${je.label}`]:{fontWeight:"fontWeightSemiBold"}},children:n})},n))})}const we=q(ye)(({theme:s})=>({top:10,left:"calc(-50% + 20px)",right:"calc(50% + 20px)",[`& .${v.line}`]:{borderTopWidth:2,borderColor:s.vars.palette.divider},[`&.${v.active}, &.${v.completed}`]:{[`& .${v.line}`]:{borderColor:s.vars.palette.primary.main}}}));function Ie({active:s,completed:r}){return e.jsx(a,{sx:{width:24,height:24,display:"flex",alignItems:"center",color:"text.disabled",justifyContent:"center",...s&&{color:"primary.main"}},children:r?e.jsx(x,{icon:"eva:checkmark-fill",sx:{color:"primary.main"}}):e.jsx(a,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"}})})}function Ae({name:s,options:r,onApplyShipping:t,sx:i,...n}){const{control:l}=z();return e.jsxs(b,{sx:i,...n,children:[e.jsx(f,{title:"Delivery"}),e.jsx(W,{name:s,control:l,render:({field:{value:p,onChange:o}})=>e.jsx(a,{sx:{p:3,rowGap:2.5,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:r.map(d=>e.jsx(Te,{option:d,selected:p===d.value,onClick:()=>{o(d.value),t(d.value)}},d.label))})})]})}function Te({option:s,selected:r,sx:t,...i}){return e.jsxs(a,{sx:[n=>({p:2.5,gap:2,display:"flex",cursor:"pointer",borderRadius:1.5,border:`solid 1px ${$(n.vars.palette.grey["500Channel"],.24)}`,transition:n.transitions.create(["box-shadow"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.shortest}),...r&&{boxShadow:`0 0 0 2px ${n.vars.palette.text.primary}`}}),...Array.isArray(t)?t:[t]],...i,children:[e.jsx(x,{width:28,icon:s.label==="Standard"&&"carbon:delivery"||s.label==="Express"&&"carbon:rocket"||"carbon:bicycle"}),e.jsxs(a,{sx:{flex:"1 1 auto"},children:[e.jsxs(a,{sx:{mb:.5,display:"flex",typography:"h6",alignItems:"center"},children:[e.jsx(a,{component:"span",sx:{flexGrow:1,typography:"subtitle1"},children:s.label}),`$${s.value}`]}),e.jsx(a,{component:"span",sx:{display:"flex",typography:"body2",color:"text.secondary"},children:s.description})]})]})}function Pe({checkoutState:s,onChangeStep:r,loading:t,sx:i,...n}){const{billing:l}=s,p=()=>e.jsx(a,{sx:{height:104,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(D,{color:"inherit",sx:{width:1,maxWidth:120}})});return e.jsxs(b,{sx:[{mb:3},...Array.isArray(i)?i:[i]],...n,children:[e.jsx(f,{title:"Address",action:e.jsx(h,{size:"small",startIcon:e.jsx(x,{icon:"solar:pen-bold"}),onClick:()=>r("back"),children:"Edit"})}),e.jsx(C,{spacing:1,sx:{p:3},children:t?p():e.jsxs(e.Fragment,{children:[e.jsxs(a,{sx:{typography:"subtitle2"},children:[`${l==null?void 0:l.name} `,e.jsxs(a,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:["(",l==null?void 0:l.addressType,")"]})]}),e.jsx(a,{sx:{color:"text.secondary",typography:"body2"},children:l==null?void 0:l.fullAddress}),e.jsx(a,{sx:{color:"text.secondary",typography:"body2"},children:l==null?void 0:l.phoneNumber})]})})]})}function De({name:s,options:r,sx:t,...i}){const{control:n}=z(),l=O();return e.jsxs(e.Fragment,{children:[e.jsxs(b,{sx:t,...i,children:[e.jsx(f,{title:"Payment"}),e.jsx(W,{name:s,control:n,render:({field:{value:p,onChange:o},fieldState:{error:d}})=>e.jsxs(a,{sx:{p:3,gap:2.5,display:"flex",flexDirection:"column"},children:[r.payments.map(m=>{const g=p===m.value;return e.jsx(Fe,{option:m,selected:g,onOpen:l.onTrue,cardOptions:r.cards,isCredit:g&&m.value==="creditcard",onClick:()=>o(m.value)},m.label)}),!!d&&e.jsx(V,{error:!0,sx:{mt:0,px:2},children:d.message})]})})]}),e.jsxs(B,{fullWidth:!0,maxWidth:"xs",open:l.value,onClose:l.onFalse,children:[e.jsx(U,{children:" Add new card "}),e.jsx(_,{sx:{overflow:"unset"},children:e.jsx(be,{})}),e.jsxs(Y,{children:[e.jsx(h,{color:"inherit",variant:"outlined",onClick:l.onFalse,children:"Cancel"}),e.jsx(h,{color:"inherit",variant:"contained",onClick:l.onFalse,children:"Add"})]})]})]})}function Fe({sx:s,option:r,onOpen:t,selected:i,isCredit:n,cardOptions:l,...p}){return e.jsxs(a,{sx:[o=>({borderRadius:1.5,border:`solid 1px ${$(o.vars.palette.grey["500Channel"],.24)}`,transition:o.transitions.create(["box-shadow"],{easing:o.transitions.easing.sharp,duration:o.transitions.duration.shortest}),...i&&{boxShadow:`0 0 0 2px ${o.vars.palette.text.primary}`}}),...Array.isArray(s)?s:[s]],...p,children:[e.jsxs(a,{sx:{p:2.5,display:"flex",cursor:"pointer",alignItems:"flex-start"},children:[e.jsxs(a,{sx:{gap:.5,flexGrow:1,display:"flex",flexDirection:"column",typography:"subtitle1"},children:[r.label,e.jsx(a,{component:"span",sx:{typography:"body2",color:"text.secondary"},children:r.description})]}),e.jsxs(a,{sx:{gap:1,display:"flex",alignItems:"center"},children:[r.value==="creditcard"&&e.jsxs(e.Fragment,{children:[e.jsx(x,{icon:"logos:mastercard",width:24}),e.jsx(x,{icon:"logos:visa",width:24})]}),r.value==="paypal"&&e.jsx(x,{icon:"logos:paypal",width:24}),r.value==="cash"&&e.jsx(x,{icon:"solar:wad-of-money-bold",width:32})]})]}),n&&e.jsxs(a,{sx:{px:3},children:[e.jsx(I,{select:!0,fullWidth:!0,label:"Card",slotProps:{select:{native:!0}},children:l.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))}),e.jsx(h,{size:"small",color:"primary",startIcon:e.jsx(x,{icon:"mingcute:add-line",sx:{mr:-.5}}),onClick:t,sx:{my:3},children:"Add new card"})]})]})}const ze=[{value:0,label:"Free",description:"5-7 days delivery"},{value:10,label:"Standard",description:"3-5 days delivery"},{value:20,label:"Express",description:"2-3 days delivery"}],We=[{value:"paypal",label:"Pay with Paypal",description:"You will be redirected to PayPal website to complete your purchase securely."},{value:"creditcard",label:"Credit / Debit card",description:"We support Mastercard, Visa, Discover and Stripe."},{value:"cash",label:"Cash",description:"Pay with cash when your order is delivered."}],$e=[{value:"visa1",label:"**** **** **** 1212 - Jimmy Holland"},{value:"visa2",label:"**** **** **** 2424 - Shawn Stokes"},{value:"mastercard",label:"**** **** **** 4545 - Cole Armstrong"}],Oe=J({payment:ee().min(1,{message:"Payment is required!"}),delivery:Z()});function Be(){const{loading:s,onResetCart:r,onChangeStep:t,onApplyShipping:i,state:n}=k(),l={delivery:n.shipping,payment:""},p=M({resolver:Q(Oe),defaultValues:l}),{handleSubmit:o,formState:{isSubmitting:d}}=p,m=o(async g=>{try{r(),t("next"),console.info("DATA",g)}catch(E){console.error(E)}});return e.jsx(K,{methods:p,onSubmit:m,children:e.jsxs(u,{container:!0,spacing:3,children:[e.jsxs(u,{size:{xs:12,md:8},children:[e.jsx(Ae,{name:"delivery",onApplyShipping:i,options:ze}),e.jsx(De,{name:"payment",options:{cards:$e,payments:We},sx:{my:3}}),e.jsx(h,{size:"small",color:"inherit",onClick:()=>t("back"),startIcon:e.jsx(x,{icon:"eva:arrow-ios-back-fill"}),children:"Back"})]}),e.jsxs(u,{size:{xs:12,md:4},children:[e.jsx(Pe,{loading:s,onChangeStep:t,checkoutState:n}),e.jsx(w,{checkoutState:n,onEdit:()=>t("go",0)}),e.jsx(X,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:d,children:"Complete order"})]})]})})}function Ee({onResetCart:s,onDownloadPDF:r,...t}){return e.jsx(B,{fullWidth:!0,fullScreen:!0,PaperProps:{sx:{width:{md:"calc(100% - 48px)"},height:{md:"calc(100% - 48px)"}}},...t,children:e.jsxs(a,{sx:{py:5,gap:5,m:"auto",maxWidth:480,display:"flex",textAlign:"center",alignItems:"center",px:{xs:2,sm:0},flexDirection:"column"},children:[e.jsx(c,{variant:"h4",children:"Thank you for your purchase!"}),e.jsx(se,{}),e.jsxs(c,{children:["Thanks for placing order",e.jsx("br",{}),e.jsx("br",{}),e.jsx(re,{children:"01dc1370-3df6-11eb-b378-0242ac130002"}),e.jsx("br",{}),e.jsx("br",{}),"We will send you a notification within 5 days when it ships.",e.jsx("br",{})," If you have any question or queries then fell to get in contact us. ",e.jsx("br",{}),"All the best,"]}),e.jsx(S,{sx:{width:1,borderStyle:"dashed"}}),e.jsxs(a,{sx:{gap:2,display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[e.jsx(h,{component:P,href:T.product.root,size:"large",color:"inherit",variant:"outlined",onClick:s,startIcon:e.jsx(x,{icon:"eva:arrow-ios-back-fill"}),children:"Continue shopping"}),e.jsx(h,{size:"large",variant:"contained",startIcon:e.jsx(x,{icon:"eva:cloud-download-fill"}),onClick:r,children:"Download as PDF"})]})]})})}function Le({address:s,action:r,sx:t,...i}){return e.jsxs(te,{sx:[()=>({gap:2,display:"flex",position:"relative",alignItems:{md:"flex-end"},flexDirection:{xs:"column",md:"row"}}),...Array.isArray(t)?t:[t]],...i,children:[e.jsxs(C,{flexGrow:1,spacing:1,children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center"},children:[e.jsxs(c,{variant:"subtitle2",children:[s.name,e.jsxs(a,{component:"span",sx:{ml:.5,typography:"body2",color:"text.secondary"},children:["(",s.addressType,")"]})]}),s.primary&&e.jsx(A,{color:"info",sx:{ml:1},children:"Default"})]}),e.jsx(c,{variant:"body2",sx:{color:"text.secondary"},children:s.fullAddress}),e.jsx(c,{variant:"body2",sx:{color:"text.secondary"},children:s.phoneNumber})]}),r&&r]})}function Ne(){const{onChangeStep:s,onCreateBillingAddress:r,state:t}=k(),i=O();return e.jsxs(e.Fragment,{children:[e.jsxs(u,{container:!0,spacing:3,children:[e.jsxs(u,{size:{xs:12,md:8},children:[ne.slice(0,4).map(n=>e.jsx(Le,{address:n,action:e.jsxs(a,{sx:{flexShrink:0,display:"flex",flexWrap:"wrap"},children:[!n.primary&&e.jsx(h,{size:"small",color:"error",sx:{mr:1},children:"Delete"}),e.jsx(h,{variant:"outlined",size:"small",onClick:()=>{s("next"),r(n)},children:"Deliver to this address"})]}),sx:[l=>({p:3,mb:3,borderRadius:2,boxShadow:l.vars.customShadows.card})]},n.id)),e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(h,{size:"small",color:"inherit",onClick:()=>s("back"),startIcon:e.jsx(x,{icon:"eva:arrow-ios-back-fill"}),children:"Back"}),e.jsx(h,{size:"small",color:"primary",onClick:i.onTrue,startIcon:e.jsx(x,{icon:"mingcute:add-line"}),children:"New address"})]})]}),e.jsx(u,{size:{xs:12,md:4},children:e.jsx(w,{checkoutState:t})})]}),e.jsx(fe,{open:i.value,onClose:i.onFalse,onCreate:n=>{s("next"),r(n)}})]})}function Ge(){const{steps:s,activeStep:r,completed:t,onResetCart:i}=k();return e.jsxs(ae,{sx:{mb:10},children:[e.jsx(c,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Checkout"}),e.jsx(u,{container:!0,justifyContent:t?"center":"flex-start",children:e.jsx(u,{size:{xs:12,md:8},children:e.jsx(Se,{steps:s,activeStep:r??0})})}),e.jsxs(e.Fragment,{children:[r===0&&e.jsx(ke,{}),r===1&&e.jsx(Ne,{}),r===2&&e.jsx(Be,{}),t&&e.jsx(Ee,{open:!0,onResetCart:i,onDownloadPDF:()=>{}})]})]})}const Re={title:`Checkout - ${F.appName}`};function ss(){return e.jsxs(e.Fragment,{children:[e.jsx(ie,{children:e.jsxs("title",{children:[" ",Re.title]})}),e.jsx(Ge,{})]})}export{ss as default};
