import{b0 as B,j as a,B as x,f as E,R as v,I as r,a_ as g,a1 as o,N as J,b1 as L,b2 as O,b3 as R,G as y,T as h,S as f,bc as w,aK as T,a$ as S,aJ as I,aj as z,A as D,U as d,k as H,r as P,cV as M,eR as N,p as k,l as _,eS as G,n as F,aP as U,eT as V,H as $,C as K}from"./index-cNRh_qft.js";import{u as q}from"./use-params-DYuE92tD.js";import"./empty-content-BzM3Az2z.js";import"./filters-result-BTXXEhsP.js";import"./job-new-edit-form-BZg6QC07.js";import{M as Q}from"./markdown-sdGgeBYa.js";import{C}from"./Card-C_-31fGp.js";import{P as W}from"./Pagination-tgO33XKK.js";import"./schema-helper-D18en8Wv.js";import"./CardHeader-CZZHKPlX.js";import"./html-to-markdown-wPkGdeP1.js";import"./LastPage-ChYIEhQh.js";function X({sx:e,publish:s,backHref:t,editHref:i,liveHref:n,publishOptions:m,onChangePublish:l,...c}){const u=B(),A=()=>a.jsx(L,{open:u.open,anchorEl:u.anchorEl,onClose:u.onClose,children:a.jsx(O,{children:m.map(p=>a.jsxs(R,{selected:p.value===s,onClick:()=>{u.onClose(),l(p.value)},children:[p.value==="published"&&a.jsx(r,{icon:"eva:cloud-upload-fill"}),p.value==="draft"&&a.jsx(r,{icon:"solar:file-text-bold"}),p.label]},p.value))})});return a.jsxs(a.Fragment,{children:[a.jsxs(x,{sx:[{mb:3,gap:1.5,display:"flex"},...Array.isArray(e)?e:[e]],...c,children:[a.jsx(E,{component:v,href:t,startIcon:a.jsx(r,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),a.jsx(x,{sx:{flexGrow:1}}),s==="published"&&a.jsx(g,{title:"Go Live",children:a.jsx(o,{component:v,href:n,children:a.jsx(r,{icon:"eva:external-link-fill"})})}),a.jsx(g,{title:"Edit",children:a.jsx(o,{component:v,href:i,children:a.jsx(r,{icon:"solar:pen-bold"})})}),a.jsx(J,{color:"inherit",variant:"contained",loading:!s,loadingIndicator:"Loadingâ€¦",endIcon:a.jsx(r,{icon:"eva:arrow-ios-downward-fill"}),onClick:u.onOpen,sx:{textTransform:"capitalize"},children:s})]}),A()]})}function Y({job:e,sx:s,...t}){const i=()=>a.jsxs(C,{sx:{p:3,gap:3,display:"flex",flexDirection:"column"},children:[a.jsx(h,{variant:"h4",children:e==null?void 0:e.title}),a.jsx(Q,{children:e==null?void 0:e.content}),a.jsxs(f,{spacing:2,children:[a.jsx(h,{variant:"h6",children:"Skills"}),a.jsx(x,{sx:{gap:1,display:"flex",alignItems:"center"},children:e==null?void 0:e.skills.map(l=>a.jsx(w,{label:l,variant:"soft"},l))})]}),a.jsxs(f,{spacing:2,children:[a.jsx(h,{variant:"h6",children:"Benefits"}),a.jsx(x,{sx:{gap:1,display:"flex",alignItems:"center"},children:e==null?void 0:e.benefits.map(l=>a.jsx(w,{label:l,variant:"soft"},l))})]})]}),n=()=>a.jsx(C,{sx:{p:3,gap:2,display:"flex",flexDirection:"column"},children:[{label:"Date posted",value:T(e==null?void 0:e.createdAt),icon:a.jsx(r,{icon:"solar:calendar-date-bold"})},{label:"Expiration date",value:T(e==null?void 0:e.expiredDate),icon:a.jsx(r,{icon:"solar:calendar-date-bold"})},{label:"Employment type",value:e==null?void 0:e.employmentTypes,icon:a.jsx(r,{icon:"solar:clock-circle-bold"})},{label:"Offered salary",value:e!=null&&e.salary.negotiable?"Negotiable":S(e==null?void 0:e.salary.price),icon:a.jsx(r,{icon:"solar:wad-of-money-bold"})},{label:"Experience",value:e==null?void 0:e.experience,icon:a.jsx(r,{icon:"carbon:skill-level-basic"})}].map(l=>a.jsxs(x,{sx:{gap:1.5,display:"flex"},children:[l.icon,a.jsx(I,{primary:l.label,secondary:l.value,slotProps:{primary:{sx:{typography:"body2",color:"text.secondary"}},secondary:{sx:{mt:.5,color:"text.primary",typography:"subtitle2"}}}})]},l.label))}),m=()=>a.jsxs(z,{variant:"outlined",sx:{p:3,mt:3,gap:2,borderRadius:2,display:"flex"},children:[a.jsx(D,{alt:e==null?void 0:e.company.name,src:e==null?void 0:e.company.logo,variant:"rounded",sx:{width:64,height:64}}),a.jsxs(f,{spacing:1,children:[a.jsx(h,{variant:"subtitle1",children:e==null?void 0:e.company.name}),a.jsx(h,{variant:"body2",children:e==null?void 0:e.company.fullAddress}),a.jsx(h,{variant:"body2",children:e==null?void 0:e.company.phoneNumber})]})]});return a.jsxs(y,{container:!0,spacing:3,sx:s,...t,children:[a.jsx(y,{size:{xs:12,md:8},children:i()}),a.jsxs(y,{size:{xs:12,md:4},children:[n(),m()]})]})}function Z({candidates:e,sx:s,...t}){return a.jsxs(a.Fragment,{children:[a.jsx(x,{sx:[{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"}},...Array.isArray(s)?s:[s]],...t,children:e.map(i=>a.jsxs(C,{sx:{p:3,gap:2,display:"flex"},children:[a.jsx(o,{sx:{position:"absolute",top:8,right:8},children:a.jsx(r,{icon:"eva:more-vertical-fill"})}),a.jsx(D,{alt:i.name,src:i.avatarUrl,sx:{width:48,height:48}}),a.jsxs(f,{spacing:2,children:[a.jsx(I,{primary:i.name,secondary:i.role,slotProps:{secondary:{sx:{mt:.5,typography:"caption",color:"text.disabled"}}}}),a.jsxs(x,{sx:{gap:1,display:"flex"},children:[a.jsx(o,{size:"small",color:"error",sx:[n=>({borderRadius:1,bgcolor:d(n.vars.palette.error.mainChannel,.08),"&:hover":{bgcolor:d(n.vars.palette.error.mainChannel,.16)}})],children:a.jsx(r,{width:18,icon:"solar:phone-bold"})}),a.jsx(o,{size:"small",color:"info",sx:[n=>({borderRadius:1,bgcolor:d(n.vars.palette.info.mainChannel,.08),"&:hover":{bgcolor:d(n.vars.palette.info.mainChannel,.16)}})],children:a.jsx(r,{width:18,icon:"solar:chat-round-dots-bold"})}),a.jsx(o,{size:"small",color:"primary",sx:[n=>({borderRadius:1,bgcolor:d(n.vars.palette.primary.mainChannel,.08),"&:hover":{bgcolor:d(n.vars.palette.primary.mainChannel,.16)}})],children:a.jsx(r,{width:18,icon:"fluent:mail-24-filled"})}),a.jsx(g,{title:"Download CV",children:a.jsx(o,{size:"small",color:"secondary",sx:[n=>({borderRadius:1,bgcolor:d(n.vars.palette.secondary.mainChannel,.08),"&:hover":{bgcolor:d(n.vars.palette.secondary.mainChannel,.16)}})],children:a.jsx(r,{width:18,icon:"eva:cloud-download-fill"})})})]})]})]},i.id))}),a.jsx(W,{count:10,sx:{mt:{xs:5,md:8},mx:"auto"}})]})}function j({job:e}){const s=H("content"),[t,i]=P.useState(e==null?void 0:e.publish),n=P.useCallback(c=>{i(c)},[]),m=()=>a.jsx(X,{backHref:k.dashboard.job.root,editHref:k.dashboard.job.edit(`${e==null?void 0:e.id}`),liveHref:"#",publish:t||"",onChangePublish:n,publishOptions:N}),l=()=>a.jsx(_,{value:s.value,onChange:s.onChange,sx:{mb:{xs:3,md:5}},children:G.map(c=>a.jsx(F,{iconPosition:"end",value:c.value,label:c.label,icon:c.value==="candidates"?a.jsx(U,{variant:"filled",children:e==null?void 0:e.candidates.length}):""},c.value))});return a.jsxs(M,{children:[m(),l(),s.value==="content"&&a.jsx(Y,{job:e}),s.value==="candidates"&&a.jsx(Z,{candidates:(e==null?void 0:e.candidates)??[]})]})}const b={title:`Job details | Dashboard - ${K.appName}`};function pa(){const{id:e=""}=q(),s=V.find(t=>t.id===e);return a.jsxs(a.Fragment,{children:[a.jsx($,{children:a.jsxs("title",{children:[" ",b.title]})}),a.jsx(j,{job:s})]})}export{pa as default};
