import{j as e,bp as T,Y as V,a1 as P,I as f,bX as Y,aj as q,T as G,r as p,bk as M,D as v,B as b,a_ as R,br as Z,au as W,a0 as ee,b3 as $,f as L,H as ne,C as ae}from"./index-cNRh_qft.js";import"./empty-content-BzM3Az2z.js";import{T as S}from"./table-head-custom-DSpcVu4-.js";import{T as d,a as g,b as m,c as k}from"./TableHead-DBnjkyMB.js";import{T as a}from"./TableCell-CGwO8Re3.js";import{u as O}from"./index-ChnT1xRF.js";import{S as te}from"./Skeleton-XGh2Uz0E.js";import{P as se}from"./Pagination-tgO33XKK.js";import{u as E,g as ie,e as re,T as oe}from"./table-no-data-CeEeU6Ls.js";import{T as le}from"./table-empty-rows-BTCIE_YQ.js";import{T as ce}from"./table-selected-action-DJkdQzwk.js";import{T as B}from"./table-pagination-custom-xTp1jojO.js";import{C as de,b as u}from"./component-layout-D3xwTgqf.js";import"./index-BDJJM9HW.js";import"./LastPage-ChYIEhQh.js";import"./TablePagination-CNNZgEcm.js";import"./Toolbar-BaRJzfzK.js";import"./orderBy-BP_idRMj.js";import"./Card-C_-31fGp.js";import"./CardHeader-CZZHKPlX.js";import"./CardContent-BPfTDHT5.js";function U({rowCount:n=0,cellCount:t=0,...i}){return Array.from({length:n},(r,s)=>e.jsx(d,{...i,children:Array.from({length:t},(c,h)=>e.jsx(a,{children:e.jsx(te,{variant:"text"})},h))},s))}const he=[{id:"dessert",label:"Dessert (100g serving)"},{id:"calories",label:"Calories",align:"right"},{id:"fat",label:"Fat (g)",align:"right"},{id:"carbs",label:"Carbs (g)",align:"right"},{id:"protein",label:"Protein (g)",align:"right"}],pe=[{name:"Frozen yoghurt",calories:159,fat:6,carbs:24,protein:4},{name:"Ice cream sandwich",calories:237,fat:9,carbs:37,protein:4.3},{name:"Eclair",calories:262,fat:16,carbs:24,protein:6},{name:"Cupcake",calories:305,fat:3.7,carbs:67,protein:4.3},{name:"Gingerbread",calories:356,fat:16,carbs:49,protein:3.9}];function ge(){return e.jsx(T,{sx:{minHeight:332},children:e.jsxs(g,{sx:{minWidth:800},children:[e.jsx(S,{headCells:he}),e.jsx(m,{children:pe.map(n=>e.jsxs(d,{children:[e.jsx(a,{children:n.name}),e.jsx(a,{align:"right",children:n.calories}),e.jsx(a,{align:"right",children:n.fat}),e.jsx(a,{align:"right",children:n.carbs}),e.jsx(a,{align:"right",children:n.protein})]},n.name))})]})})}const me=[{name:"Frozen yoghurt",calories:159,fat:6,carbs:24,protein:4,price:3.99,history:[{date:"2020-01-05",customerId:"11091700",amount:3},{date:"2020-01-02",customerId:"Anonymous",amount:1}]},{name:"Ice cream sandwich",calories:237,fat:9,carbs:37,protein:4.3,price:4.99,history:[{date:"2020-01-05",customerId:"11091700",amount:3},{date:"2020-01-02",customerId:"Anonymous",amount:1}]},{name:"Eclair",calories:262,fat:16,carbs:24,protein:6,price:3.79,history:[{date:"2020-01-05",customerId:"11091700",amount:3},{date:"2020-01-02",customerId:"Anonymous",amount:1}]},{name:"Cupcake",calories:305,fat:3.7,carbs:67,protein:4.3,price:2.5,history:[{date:"2020-01-05",customerId:"11091700",amount:3},{date:"2020-01-02",customerId:"Anonymous",amount:1}]},{name:"Gingerbread",calories:356,fat:16,carbs:49,protein:3.9,price:1.5,history:[{date:"2020-01-05",customerId:"11091700",amount:3},{date:"2020-01-02",customerId:"Anonymous",amount:1}]}];function xe(){return e.jsx(T,{sx:{minHeight:372},children:e.jsxs(g,{sx:{minWidth:800},children:[e.jsx(k,{children:e.jsxs(d,{children:[e.jsx(a,{}),e.jsx(a,{children:"Dessert (100g serving)"}),e.jsx(a,{align:"right",children:"Calories"}),e.jsx(a,{align:"right",children:"Fat (g)"}),e.jsx(a,{align:"right",children:"Carbs (g)"}),e.jsx(a,{align:"right",children:"Protein (g)"})]})}),e.jsx(m,{children:me.map(n=>e.jsx(ue,{row:n},n.name))})]})})}function ue({row:n}){const t=V();return e.jsxs(e.Fragment,{children:[e.jsxs(d,{sx:{"& > *":{borderBottom:"unset"}},children:[e.jsx(a,{children:e.jsx(P,{size:"small",color:t.value?"inherit":"default",onClick:t.onToggle,children:e.jsx(f,{icon:t.value?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"})})}),e.jsx(a,{component:"th",scope:"row",children:n.name}),e.jsx(a,{align:"right",children:n.calories}),e.jsx(a,{align:"right",children:n.fat}),e.jsx(a,{align:"right",children:n.carbs}),e.jsx(a,{align:"right",children:n.protein})]}),e.jsx(d,{children:e.jsx(a,{sx:{py:0},colSpan:6,children:e.jsx(Y,{in:t.value,timeout:"auto",unmountOnExit:!0,children:e.jsxs(q,{variant:"outlined",sx:[i=>({py:2,mb:2,borderRadius:1.5,...t.value&&{boxShadow:i.vars.customShadows.z20}})],children:[e.jsx(G,{variant:"h6",component:"div",sx:{p:2},children:"History"}),e.jsxs(g,{size:"small","aria-label":"purchases",children:[e.jsx(k,{children:e.jsxs(d,{children:[e.jsx(a,{children:"Date"}),e.jsx(a,{children:"Customer"}),e.jsx(a,{align:"right",children:"Amount"}),e.jsx(a,{align:"right",children:"Total price ($)"})]})}),e.jsx(m,{children:n.history.map(i=>e.jsxs(d,{children:[e.jsx(a,{component:"th",scope:"row",children:i.date}),e.jsx(a,{children:i.customerId}),e.jsx(a,{align:"right",children:i.amount}),e.jsx(a,{align:"right",children:Math.round(i.amount*n.price*100)/100})]},i.date))})]})]})})})})]})}const C=[{id:"id",label:"Id",width:140},{id:"name",label:"Name",width:240},{id:"category",label:"Category"},{id:"",label:"Action",align:"right",width:80}];function je(){const[n,t]=p.useState(1),i=5,r=`/api/pagination?page=${n}&perPage=${i}`,{data:s,isLoading:c}=O(r,M,{keepPreviousData:!0});return e.jsxs(e.Fragment,{children:[e.jsx(J,{endpoint:r,totalItems:(s==null?void 0:s.totalItems)??0,totalPages:(s==null?void 0:s.totalPages)??0}),e.jsxs(g,{children:[e.jsx(S,{headCells:C}),e.jsx(m,{children:c?e.jsx(U,{rowCount:i,cellCount:C.length,sx:{height:69}}):s==null?void 0:s.products.map(h=>e.jsxs(d,{children:[e.jsx(a,{children:h.id}),e.jsx(a,{children:h.name}),e.jsx(a,{children:h.category}),e.jsx(a,{align:"right",children:e.jsx(P,{children:e.jsx(f,{icon:"eva:more-vertical-fill"})})})]},h.id))})]}),e.jsx(v,{}),e.jsx(se,{color:"primary",page:n,count:s==null?void 0:s.totalPages,onChange:(h,x)=>t(x),sx:{py:3,display:"flex",justifyContent:"center"}})]})}function J({endpoint:n,totalItems:t,totalPages:i,sx:r,...s}){return e.jsxs(b,{sx:[()=>({p:3,gap:1,display:"flex",typography:"body2","& span":{display:"flex"},"& strong":{fontWeight:"fontWeightSemiBold"}}),...Array.isArray(r)?r:[r]],...s,children:[e.jsxs(b,{sx:{flexGrow:1},children:[e.jsx("strong",{children:"endpoint:"}),e.jsx(b,{component:"span",sx:{color:"primary.main"},children:n})]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Items: "})," ",t]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Pages: "})," ",i]})]})}const be=[{id:"name",label:"Dessert (100g serving)",align:"left"},{id:"calories",label:"Calories",align:"center"},{id:"fat",label:"Fat (g)",align:"center"},{id:"nested.protein",label:"Protein (g)",align:"center"}],fe=[{name:"Cupcake",calories:305,fat:3.7,nested:{protein:4.3}},{name:"Donut",calories:452,fat:25,nested:{protein:4.9}},{name:"Eclair",calories:262,fat:16,nested:{protein:6}},{name:"Frozen yoghurt",calories:159,fat:6,nested:{protein:4}},{name:"Gingerbread",calories:356,fat:16,nested:{protein:3.9}},{name:"Honeycomb",calories:408,fat:3.2,nested:{protein:6.5}},{name:"Ice cream sandwich",calories:237,fat:9,nested:{protein:4.3}},{name:"Jelly Bean",calories:375,fat:0,nested:{protein:0}},{name:"KitKat",calories:518,fat:26,nested:{protein:7}},{name:"Lollipop",calories:392,fat:.2,nested:{protein:0}},{name:"Marshmallow",calories:318,fat:0,nested:{protein:2}},{name:"Nougat",calories:360,fat:19,nested:{protein:37}}];function ye(){const n=E({defaultOrderBy:"nested.protein"}),[t,i]=p.useState([]);p.useEffect(()=>{i(fe)},[]);const r=Pe({inputData:t,comparator:ie(n.order,n.orderBy)});return e.jsxs(e.Fragment,{children:[e.jsxs(b,{sx:{p:3,display:"flex",alignItems:"center"},children:[e.jsx(G,{variant:"h6",sx:{flexGrow:1},children:"Title"}),e.jsx(R,{title:"Filter list",children:e.jsx(P,{children:e.jsx(f,{icon:"ic:round-filter-list"})})})]}),e.jsxs(b,{sx:{position:"relative"},children:[e.jsx(ce,{dense:n.dense,numSelected:n.selected.length,rowCount:t.length,onSelectAllRows:s=>n.onSelectAllRows(s,t.map(c=>c.name)),action:e.jsx(R,{title:"Delete",children:e.jsx(P,{color:"primary",children:e.jsx(f,{icon:"solar:trash-bin-trash-bold"})})})}),e.jsx(T,{sx:{minHeight:332},children:e.jsxs(g,{size:n.dense?"small":"medium",sx:{minWidth:800},children:[e.jsx(S,{order:n.order,orderBy:n.orderBy,headCells:be,rowCount:t.length,numSelected:n.selected.length,onSort:n.onSort,onSelectAllRows:s=>n.onSelectAllRows(s,t.map(c=>c.name))}),e.jsxs(m,{children:[r.slice(n.page*n.rowsPerPage,n.page*n.rowsPerPage+n.rowsPerPage).map(s=>e.jsxs(d,{hover:!0,onClick:()=>n.onSelectRow(s.name),selected:n.selected.includes(s.name),children:[e.jsx(a,{padding:"checkbox",children:e.jsx(Z,{checked:n.selected.includes(s.name),inputProps:{id:`${s.name}-checkbox`,"aria-label":`${s.name} checkbox`}})}),e.jsxs(a,{children:[" ",s.name," "]}),e.jsx(a,{align:"center",children:s.calories}),e.jsx(a,{align:"center",children:s.fat}),e.jsx(a,{align:"center",children:s.nested.protein})]},s.name)),e.jsx(le,{height:n.dense?34:54,emptyRows:re(n.page,n.rowsPerPage,t.length)})]})]})})]}),e.jsx(B,{page:n.page,dense:n.dense,count:r.length,rowsPerPage:n.rowsPerPage,onPageChange:n.onChangePage,onChangeDense:n.onChangeDense,onRowsPerPageChange:n.onChangeRowsPerPage})]})}function Pe({inputData:n,comparator:t}){const i=n.map((r,s)=>[r,s]);return i.sort((r,s)=>{const c=t(r[0],s[0]);return c!==0?c:r[1]-s[1]}),n=i.map(r=>r[0]),n}const H=[{name:"India",code:"IN",population:1324171354,size:3287263,density:402.81880518838926},{name:"China",code:"CN",population:1403500365,size:9596961,density:146.2442501329327},{name:"Italy",code:"IT",population:60483973,size:301340,density:200.71670870113493},{name:"United States",code:"US",population:327167434,size:9833520,density:33.27063289646027},{name:"Canada",code:"CA",population:37602103,size:9984670,density:3.7659835527864214},{name:"Australia",code:"AU",population:25475400,size:7692024,density:3.311924143762422},{name:"Germany",code:"DE",population:83019200,size:357578,density:232.17088299615747},{name:"Ireland",code:"IE",population:4857e3,size:70273,density:69.11616125681272},{name:"Mexico",code:"MX",population:126577691,size:1972550,density:64.16957288788623},{name:"Japan",code:"JP",population:126317e3,size:377973,density:334.19582880258645},{name:"France",code:"FR",population:67022e3,size:640679,density:104.61088938454358},{name:"United Kingdom",code:"GB",population:67545757,size:242495,density:278.5449473185014},{name:"Russia",code:"RU",population:146793744,size:17098246,density:8.585310095550152},{name:"Nigeria",code:"NG",population:200962417,size:923768,density:217.54641533372015},{name:"Brazil",code:"BR",population:210147125,size:8515767,density:24.677416021363666}],N=[{id:"name",label:"Name",minWidth:170},{id:"code",label:"ISO Code",minWidth:100},{id:"population",label:"Population",minWidth:170,align:"right",format:n=>n.toLocaleString("en-US")},{id:"size",label:"Size (km²)",minWidth:170,align:"right",format:n=>n.toLocaleString("en-US")},{id:"density",label:"Density",minWidth:170,align:"right",format:n=>n.toFixed(2)}];function Ce(){const n=E({defaultRowsPerPage:10});return e.jsxs(e.Fragment,{children:[e.jsx(T,{sx:{height:400},children:e.jsxs(g,{stickyHeader:!0,sx:{minWidth:800},children:[e.jsxs(k,{children:[e.jsxs(d,{children:[e.jsx(a,{align:"center",colSpan:2,sx:[t=>({borderBottomColor:"transparent",background:t.vars.palette.background.paper})],children:"Country"}),e.jsx(a,{align:"center",colSpan:3,sx:[t=>({borderBottomColor:"transparent",background:t.vars.palette.background.paper})],children:"Details"})]}),e.jsx(d,{children:N.map(t=>e.jsx(a,{align:t.align,style:{top:56,minWidth:t.minWidth},children:t.label},t.id))})]}),e.jsx(m,{children:H.slice(n.page*n.rowsPerPage,n.page*n.rowsPerPage+n.rowsPerPage).map(t=>e.jsx(d,{hover:!0,role:"checkbox",tabIndex:-1,children:N.map(i=>{const r=t[i.id];return e.jsx(a,{align:i.align,children:i.format&&typeof r=="number"?i.format(r):r},i.id)})},t.code))})]})}),e.jsx(B,{page:n.page,count:H.length,rowsPerPage:n.rowsPerPage,onPageChange:n.onChangePage,onRowsPerPageChange:n.onChangeRowsPerPage})]})}const Te=(n,t,i)=>{const r=t?`&search=${t.trim()}`:"",s=i?`&category=${i}`:"";return`${n}${r}${s}`},_=(n=1,t=5)=>`/api/pagination?page=${n}&perPage=${t}`;function Se(){const{page:n,rowsPerPage:t,onResetPage:i,onChangeRowsPerPage:r,onChangePage:s}=E(),[c,h]=p.useState(""),[x,z]=p.useState(""),y=_(),[D,I]=p.useState(y),{data:o,isLoading:A}=O(D,M,{keepPreviousData:!0});p.useEffect(()=>{const l=_(n+1,t);I(l)},[n,t]);const F=!!x||!!c,w=!(o!=null&&o.products.length)&&F,K=p.useCallback(()=>{const l=Te(y,x,c);I(l),i()},[c,y,i,x]),X=p.useCallback(()=>{h(""),z(""),i(),I(y)},[y,i]),Q=()=>e.jsxs(b,{sx:{px:3,gap:1,mb:3,display:"flex",alignItems:"center"},children:[e.jsx(W,{fullWidth:!0,value:x,onChange:l=>z(l.target.value),placeholder:"Search product by Id or name...",slotProps:{input:{startAdornment:e.jsx(ee,{position:"start",children:e.jsx(f,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}}),e.jsxs(W,{select:!0,fullWidth:!0,label:"Category",value:c,onChange:l=>h(l.target.value),slotProps:{htmlInput:{id:"category-select"},inputLabel:{htmlFor:"category-select"}},sx:{maxWidth:180},children:[e.jsx($,{value:"",children:"None"}),e.jsx(v,{sx:{borderStyle:"dashed"}}),o==null?void 0:o.categoryOptions.map(l=>e.jsx($,{value:l,children:l},l))]}),F&&e.jsx(L,{variant:"soft",size:"large",color:"error",onClick:X,sx:{flexShrink:0},children:"Reset"}),e.jsx(L,{size:"large",color:"inherit",variant:"contained",onClick:K,sx:{flexShrink:0},children:"Search"})]});return e.jsxs(e.Fragment,{children:[e.jsx(J,{endpoint:D,totalItems:(o==null?void 0:o.totalItems)??0,totalPages:(o==null?void 0:o.totalPages)??0}),Q(),e.jsxs(g,{children:[e.jsx(S,{headCells:C}),e.jsx(m,{children:A?e.jsx(U,{rowCount:t,cellCount:C.length,sx:{height:69}}):e.jsx(e.Fragment,{children:w?e.jsx(oe,{notFound:w}):o==null?void 0:o.products.map(l=>e.jsxs(d,{children:[e.jsx(a,{children:l.id}),e.jsx(a,{children:l.name}),e.jsx(a,{children:l.category}),e.jsx(a,{align:"right",children:e.jsx(P,{children:e.jsx(f,{icon:"eva:more-vertical-fill"})})})]},l.id))})})]}),e.jsx(v,{}),e.jsx(B,{rowsPerPage:t,page:A?0:n,onPageChange:s,count:A?0:(o==null?void 0:o.totalItems)??0,onRowsPerPageChange:r})]})}const j={p:0,overflow:"hidden",alignItems:"unset",flexDirection:"column",bgcolor:"background.paper"},Ie=[{name:"Basic Table",component:e.jsx(u,{sx:j,children:e.jsx(ge,{})})},{name:"Sorting & selecting",component:e.jsx(u,{sx:{...j,gap:0},children:e.jsx(ye,{})})},{name:"Grouping & fixed header",component:e.jsx(u,{sx:j,children:e.jsx(Ce,{})})},{name:"Collapsible table",component:e.jsx(u,{sx:j,children:e.jsx(xe,{})})},{name:"Pagination with API",component:e.jsx(u,{sx:{...j,gap:0},children:e.jsx(je,{})})},{name:"Table pagination with API",component:e.jsx(u,{sx:{...j,gap:0},children:e.jsx(Se,{})})}];function Ae(){return e.jsx(de,{sectionData:Ie,heroProps:{heading:"Table",moreLinks:["https://mui.com/material-ui/react-table/"]}})}const ve={title:`Table | MUI - ${ae.appName}`};function Qe(){return e.jsxs(e.Fragment,{children:[e.jsx(ne,{children:e.jsxs("title",{children:[" ",ve.title]})}),e.jsx(Ae,{})]})}export{Qe as default};
