const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mapbox-gl-CUs-4plS.js","assets/index-D82XrlGq.js","assets/index-Dw74MWIZ.css"])))=>i.map(i=>d[i]);
import{r as s,bT as H,b_ as P,j as y,s as Z,C as B,w as q}from"./index-D82XrlGq.js";const V=s.createContext(null);function W(e,t){const o=Array.isArray(e)?e[0]:e?e.x:0,r=Array.isArray(e)?e[1]:e?e.y:0,n=Array.isArray(t)?t[0]:t?t.x:0,i=Array.isArray(t)?t[1]:t?t.y:0;return o===n&&r===i}function h(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!h(e[o],t[o]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const o=Object.keys(e),r=Object.keys(t);if(o.length!==r.length)return!1;for(const n of o)if(!t.hasOwnProperty(n)||!h(e[n],t[n]))return!1;return!0}return!1}function G(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}function z(e,t){if(!e.getProjection)return;const o=e.getProjection(),r=t.getProjection();h(o,r)||t.setProjection(o)}function j(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function A(e,t){const o=t.viewState||t;let r=!1;if("zoom"in o){const n=e.zoom;e.zoom=o.zoom,r=r||n!==e.zoom}if("bearing"in o){const n=e.bearing;e.bearing=o.bearing,r=r||n!==e.bearing}if("pitch"in o){const n=e.pitch;e.pitch=o.pitch,r=r||n!==e.pitch}if(o.padding&&!e.isPaddingEqual(o.padding)&&(r=!0,e.padding=o.padding),"longitude"in o&&"latitude"in o){const n=e.center;e.center=new n.constructor(o.longitude,o.latitude),r=r||n!==e.center}return r}const K=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function O(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const r of e.layers)t[r.id]=r;const o=e.layers.map(r=>{let n=null;"interactive"in r&&(n=Object.assign({},r),delete n.interactive);const i=t[r.ref];if(i){n=n||Object.assign({},r),delete n.ref;for(const a of K)a in i&&(n[a]=i[a])}return n||r});return{...e,layers:o}}var N={};const F={version:8,sources:{},layers:[]},I={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},T={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},U={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},Q=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],J=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class b{constructor(t,o,r){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=n=>{const i=this.props[U[n.type]];i?i(n):n.type==="error"&&console.error(n.error)},this._onPointerEvent=n=>{(n.type==="mousemove"||n.type==="mouseout")&&this._updateHover(n);const i=this.props[I[n.type]];i&&(this.props.interactiveLayerIds&&n.type!=="mouseover"&&n.type!=="mouseout"&&(n.features=this._hoveredFeatures||this._queryRenderedFeatures(n.point)),i(n),delete n.features)},this._onCameraEvent=n=>{if(!this._internalUpdate){const i=this.props[T[n.type]];i&&i(n)}n.type in this._deferredEvents&&(this._deferredEvents[n.type]=!1)},this._MapClass=t,this.props=o,this._initialize(r)}get map(){return this._map}get transform(){return this._renderTransform}setProps(t){const o=this.props;this.props=t;const r=this._updateSettings(t,o);r&&this._createShadowTransform(this._map);const n=this._updateSize(t),i=this._updateViewState(t,!0);this._updateStyle(t,o),this._updateStyleComponents(t,o),this._updateHandlers(t,o),(r||n||i&&!this._map.isMoving())&&this.redraw()}static reuse(t,o){const r=b.savedMaps.pop();if(!r)return null;const n=r.map,i=n.getContainer();for(o.className=i.className;i.childNodes.length>0;)o.appendChild(i.childNodes[0]);n._container=o;const a=n._resizeObserver;a&&(a.disconnect(),a.observe(o)),r.setProps({...t,styleDiffing:!1}),n.resize();const{initialViewState:c}=t;return c&&(c.bounds?n.fitBounds(c.bounds,{...c.fitBoundsOptions,duration:0}):r._updateViewState(c,!1)),n.isStyleLoaded()?n.fire("load"):n.once("styledata",()=>n.fire("load")),n._update(),r}_initialize(t){const{props:o}=this,{mapStyle:r=F}=o,n={...o,...o.initialViewState,accessToken:o.mapboxAccessToken||Y()||null,container:t,style:O(r)},i=n.initialViewState||n.viewState||n;if(Object.assign(n,{center:[i.longitude||0,i.latitude||0],zoom:i.zoom||0,pitch:i.pitch||0,bearing:i.bearing||0}),o.gl){const f=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=f,o.gl)}const a=new this._MapClass(n);i.padding&&a.setPadding(i.padding),o.cursor&&(a.getCanvas().style.cursor=o.cursor),this._createShadowTransform(a);const c=a._render;a._render=f=>{this._inRender=!0,c.call(a,f),this._inRender=!1};const l=a._renderTaskQueue.run;a._renderTaskQueue.run=f=>{l.call(a._renderTaskQueue,f),this._onBeforeRepaint()},a.on("render",()=>this._onAfterRepaint());const u=a.fire;a.fire=this._fireEvent.bind(this,u),a.on("resize",()=>{this._renderTransform.resize(a.transform.width,a.transform.height)}),a.on("styledata",()=>{this._updateStyleComponents(this.props,{}),z(a.transform,this._renderTransform)}),a.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const f in I)a.on(f,this._onPointerEvent);for(const f in T)a.on(f,this._onCameraEvent);for(const f in U)a.on(f,this._onEvent);this._map=a}recycle(){const o=this.map.getContainer().querySelector("[mapboxgl-children]");o==null||o.remove(),b.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;!this._inRender&&t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_createShadowTransform(t){const o=G(t.transform);t.painter.transform=o,this._renderTransform=o}_updateSize(t){const{viewState:o}=t;if(o){const r=this._map;if(o.width!==r.transform.width||o.height!==r.transform.height)return r.resize(),!0}return!1}_updateViewState(t,o){if(this._internalUpdate)return!1;const r=this._map,n=this._renderTransform,{zoom:i,pitch:a,bearing:c}=n,l=r.isMoving();l&&(n.cameraElevationReference="sea");const u=A(n,{...j(r.transform),...t});if(l&&(n.cameraElevationReference="ground"),u&&o){const f=this._deferredEvents;f.move=!0,f.zoom||(f.zoom=i!==n.zoom),f.rotate||(f.rotate=c!==n.bearing),f.pitch||(f.pitch=a!==n.pitch)}return l||A(r.transform,t),u}_updateSettings(t,o){const r=this._map;let n=!1;for(const i of Q)if(i in t&&!h(t[i],o[i])){n=!0;const a=r[`set${i[0].toUpperCase()}${i.slice(1)}`];a==null||a.call(r,t[i])}return n}_updateStyle(t,o){if(t.cursor!==o.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==o.mapStyle){const{mapStyle:r=F,styleDiffing:n=!0}=t,i={diff:n};return"localIdeographFontFamily"in t&&(i.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(O(r),i),!0}return!1}_updateStyleComponents(t,o){const r=this._map;let n=!1;return r.isStyleLoaded()&&("light"in t&&r.setLight&&!h(t.light,o.light)&&(n=!0,r.setLight(t.light)),"fog"in t&&r.setFog&&!h(t.fog,o.fog)&&(n=!0,r.setFog(t.fog)),"terrain"in t&&r.setTerrain&&!h(t.terrain,o.terrain)&&(!t.terrain||r.getSource(t.terrain.source))&&(n=!0,r.setTerrain(t.terrain))),n}_updateHandlers(t,o){var r,n;const i=this._map;let a=!1;for(const c of J){const l=(r=t[c])!==null&&r!==void 0?r:!0,u=(n=o[c])!==null&&n!==void 0?n:!0;h(l,u)||(a=!0,l?i[c].enable(l):i[c].disable())}return a}_queryRenderedFeatures(t){const o=this._map,r=o.transform,{interactiveLayerIds:n=[]}=this.props;try{return o.transform=this._renderTransform,o.queryRenderedFeatures(t,{layers:n.filter(o.getLayer.bind(o))})}catch{return[]}finally{o.transform=r}}_updateHover(t){var o;const{props:r}=this;if(r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave)){const i=t.type,a=((o=this._hoveredFeatures)===null||o===void 0?void 0:o.length)>0,c=this._queryRenderedFeatures(t.point),l=c.length>0;!l&&a&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=c,l&&!a&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=i}else this._hoveredFeatures=null}_fireEvent(t,o,r){const n=this._map,i=n.transform,a=typeof o=="string"?o:o.type;return a==="move"&&this._updateViewState(this.props,!1),a in T&&(typeof o=="object"&&(o.viewState=j(i)),this._map.isMoving())?(n.transform=this._renderTransform,t.call(n,o,r),n.transform=i,n):(t.call(n,o,r),n)}_onBeforeRepaint(){const t=this._map;this._internalUpdate=!0;for(const r in this._deferredEvents)this._deferredEvents[r]&&t.fire(r);this._internalUpdate=!1;const o=this._map.transform;t.transform=this._renderTransform,this._onAfterRepaint=()=>{z(this._renderTransform,o),t.transform=o}}}b.savedMaps=[];function Y(){let e=null;if(typeof location<"u"){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||N.MapboxAccessToken}catch{}try{e=e||N.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return e}const X=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function ee(e){if(!e)return null;const t=e.map,o={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:r=>{const n=t.transform;t.transform=e.transform;const i=t.project(r);return t.transform=n,i},unproject:r=>{const n=t.transform;t.transform=e.transform;const i=t.unproject(r);return t.transform=n,i},queryTerrainElevation:(r,n)=>{const i=t.transform;t.transform=e.transform;const a=t.queryTerrainElevation(r,n);return t.transform=i,a},queryRenderedFeatures:(r,n)=>{const i=t.transform;t.transform=e.transform;const a=t.queryRenderedFeatures(r,n);return t.transform=i,a}};for(const r of te(t))!(r in o)&&!X.includes(r)&&(o[r]=t[r].bind(t));return o}function te(e){const t=new Set;let o=e;for(;o;){for(const r of Object.getOwnPropertyNames(o))r[0]!=="_"&&typeof e[r]=="function"&&r!=="fire"&&r!=="setEventedParent"&&t.add(r);o=Object.getPrototypeOf(o)}return Array.from(t)}const ne=typeof document<"u"?s.useLayoutEffect:s.useEffect,oe=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function re(e,t){for(const r of oe)r in t&&(e[r]=t[r]);const{RTLTextPlugin:o="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;o&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"&&e.setRTLTextPlugin(o,r=>{r&&console.error(r)},!0)}const M=s.createContext(null);function ie(e,t,o){const r=s.useContext(V),[n,i]=s.useState(null),a=s.useRef(),{current:c}=s.useRef({mapLib:null,map:null});s.useEffect(()=>{const f=e.mapLib;let d=!0,v;return Promise.resolve(f||o).then(p=>{if(!d)return;if(!p)throw new Error("Invalid mapLib");const g="Map"in p?p:p.default;if(!g.Map)throw new Error("Invalid mapLib");if(re(g,e),!g.supported||g.supported(e))e.reuseMaps&&(v=b.reuse(e,a.current)),v||(v=new b(g.Map,e,a.current)),c.map=ee(v),c.mapLib=g,i(v),r==null||r.onMapMount(c.map,e.id);else throw new Error("Map is not supported by this browser")}).catch(p=>{const{onError:g}=e;g?g({type:"error",target:null,originalEvent:null,error:p}):console.error(p)}),()=>{d=!1,v&&(r==null||r.onMapUnmount(e.id),e.reuseMaps?v.recycle():v.destroy())}},[]),ne(()=>{n&&n.setProps(e)}),s.useImperativeHandle(t,()=>c.map,[n]);const l=s.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),u={height:"100%"};return s.createElement("div",{id:e.id,ref:a,style:l},n&&s.createElement(M.Provider,{value:c},s.createElement("div",{"mapboxgl-children":"",style:u},e.children)))}const ae=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function L(e,t){if(!e||!t)return;const o=e.style;for(const r in t){const n=t[r];Number.isFinite(n)&&!ae.test(r)?o[r]=`${n}px`:o[r]=n}}function se(e,t){const{map:o,mapLib:r}=s.useContext(M),n=s.useRef({props:e});n.current.props=e;const i=s.useMemo(()=>{let k=!1;s.Children.forEach(e.children,C=>{C&&(k=!0)});const $={...e,element:k?document.createElement("div"):null},S=new r.Marker($);return S.setLngLat([e.longitude,e.latitude]),S.getElement().addEventListener("click",C=>{var _,m;(m=(_=n.current.props).onClick)===null||m===void 0||m.call(_,{type:"click",target:S,originalEvent:C})}),S.on("dragstart",C=>{var _,m;const E=C;E.lngLat=i.getLngLat(),(m=(_=n.current.props).onDragStart)===null||m===void 0||m.call(_,E)}),S.on("drag",C=>{var _,m;const E=C;E.lngLat=i.getLngLat(),(m=(_=n.current.props).onDrag)===null||m===void 0||m.call(_,E)}),S.on("dragend",C=>{var _,m;const E=C;E.lngLat=i.getLngLat(),(m=(_=n.current.props).onDragEnd)===null||m===void 0||m.call(_,E)}),S},[]);s.useEffect(()=>(i.addTo(o.getMap()),()=>{i.remove()}),[]);const{longitude:a,latitude:c,offset:l,style:u,draggable:f=!1,popup:d=null,rotation:v=0,rotationAlignment:p="auto",pitchAlignment:g="auto"}=e;return s.useEffect(()=>{L(i.getElement(),u)},[u]),s.useImperativeHandle(t,()=>i,[]),(i.getLngLat().lng!==a||i.getLngLat().lat!==c)&&i.setLngLat([a,c]),l&&!W(i.getOffset(),l)&&i.setOffset(l),i.isDraggable()!==f&&i.setDraggable(f),i.getRotation()!==v&&i.setRotation(v),i.getRotationAlignment()!==p&&i.setRotationAlignment(p),i.getPitchAlignment()!==g&&i.setPitchAlignment(g),i.getPopup()!==d&&i.setPopup(d),H.createPortal(e.children,i.getElement())}const ce=s.memo(s.forwardRef(se));function D(e){return new Set(e?e.trim().split(/\s+/):[])}function le(e,t){const{map:o,mapLib:r}=s.useContext(M),n=s.useMemo(()=>document.createElement("div"),[]),i=s.useRef({props:e});i.current.props=e;const a=s.useMemo(()=>{const c={...e},l=new r.Popup(c);return l.setLngLat([e.longitude,e.latitude]),l.once("open",u=>{var f,d;(d=(f=i.current.props).onOpen)===null||d===void 0||d.call(f,u)}),l},[]);if(s.useEffect(()=>{const c=l=>{var u,f;(f=(u=i.current.props).onClose)===null||f===void 0||f.call(u,l)};return a.on("close",c),a.setDOMContent(n).addTo(o.getMap()),()=>{a.off("close",c),a.isOpen()&&a.remove()}},[]),s.useEffect(()=>{L(a.getElement(),e.style)},[e.style]),s.useImperativeHandle(t,()=>a,[]),a.isOpen()&&((a.getLngLat().lng!==e.longitude||a.getLngLat().lat!==e.latitude)&&a.setLngLat([e.longitude,e.latitude]),e.offset&&!h(a.options.offset,e.offset)&&a.setOffset(e.offset),(a.options.anchor!==e.anchor||a.options.maxWidth!==e.maxWidth)&&(a.options.anchor=e.anchor,a.setMaxWidth(e.maxWidth)),a.options.className!==e.className)){const c=D(a.options.className),l=D(e.className);for(const u of c)l.has(u)||a.removeClassName(u);for(const u of l)c.has(u)||a.addClassName(u);a.options.className=e.className}return H.createPortal(e.children,n)}const ue=s.memo(s.forwardRef(le));function x(e,t,o,r){const n=s.useContext(M),i=s.useMemo(()=>e(n),[]);return s.useEffect(()=>{const a=t,c=typeof t=="function"?t:null,{map:l}=n;return l.hasControl(i)||l.addControl(i,a==null?void 0:a.position),()=>{c&&c(n),l.hasControl(i)&&l.removeControl(i)}},[]),i}function fe(e){const t=x(({mapLib:o})=>new o.AttributionControl(e),{position:e.position});return s.useEffect(()=>{L(t._container,e.style)},[e.style]),null}s.memo(fe);function de(e){const t=x(({mapLib:o})=>new o.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return s.useEffect(()=>{L(t._controlContainer,e.style)},[e.style]),null}const me=s.memo(de);function he(e,t){const o=s.useRef({props:e}),r=x(({mapLib:n})=>{const i=new n.GeolocateControl(e),a=i._setupUI;return i._setupUI=c=>{i._container.hasChildNodes()||a(c)},i.on("geolocate",c=>{var l,u;(u=(l=o.current.props).onGeolocate)===null||u===void 0||u.call(l,c)}),i.on("error",c=>{var l,u;(u=(l=o.current.props).onError)===null||u===void 0||u.call(l,c)}),i.on("outofmaxbounds",c=>{var l,u;(u=(l=o.current.props).onOutOfMaxBounds)===null||u===void 0||u.call(l,c)}),i.on("trackuserlocationstart",c=>{var l,u;(u=(l=o.current.props).onTrackUserLocationStart)===null||u===void 0||u.call(l,c)}),i.on("trackuserlocationend",c=>{var l,u;(u=(l=o.current.props).onTrackUserLocationEnd)===null||u===void 0||u.call(l,c)}),i},{position:e.position});return o.current.props=e,s.useImperativeHandle(t,()=>r,[]),s.useEffect(()=>{L(r._container,e.style)},[e.style]),null}const ge=s.memo(s.forwardRef(he));function ye(e){const t=x(({mapLib:o})=>new o.NavigationControl(e),{position:e.position});return s.useEffect(()=>{L(t._container,e.style)},[e.style]),null}const ve=s.memo(ye);function _e(e){const t=x(({mapLib:i})=>new i.ScaleControl(e),{position:e.position}),o=s.useRef(e),r=o.current;o.current=e;const{style:n}=e;return e.maxWidth!==void 0&&e.maxWidth!==r.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==r.unit&&t.setUnit(e.unit),s.useEffect(()=>{L(t._container,n)},[n]),null}const pe=s.memo(_e);function w(e,t){if(!e)throw new Error(t)}function Ce(e,t,o,r){if(w(o.id===r.id,"layer id changed"),w(o.type===r.type,"layer type changed"),o.type==="custom"||r.type==="custom")return;const{layout:n={},paint:i={},filter:a,minzoom:c,maxzoom:l,beforeId:u}=o;if(u!==r.beforeId&&e.moveLayer(t,u),n!==r.layout){const f=r.layout||{};for(const d in n)h(n[d],f[d])||e.setLayoutProperty(t,d,n[d]);for(const d in f)n.hasOwnProperty(d)||e.setLayoutProperty(t,d,void 0)}if(i!==r.paint){const f=r.paint||{};for(const d in i)h(i[d],f[d])||e.setPaintProperty(t,d,i[d]);for(const d in f)i.hasOwnProperty(d)||e.setPaintProperty(t,d,void 0)}h(a,r.filter)||e.setFilter(t,a),(c!==r.minzoom||l!==r.maxzoom)&&e.setLayerZoomRange(t,c,l)}function Ee(e,t,o){if(e.style&&e.style._loaded&&(!("source"in o)||e.getSource(o.source))){const r={...o,id:t};delete r.beforeId,e.addLayer(r,o.beforeId)}}let Se=0;function Le(e){const t=s.useContext(M).map.getMap(),o=s.useRef(e),[,r]=s.useState(0),n=s.useMemo(()=>e.id||`jsx-layer-${Se++}`,[]);if(s.useEffect(()=>{if(t){const a=()=>r(c=>c+1);return t.on("styledata",a),a(),()=>{t.off("styledata",a),t.style&&t.style._loaded&&t.getLayer(n)&&t.removeLayer(n)}}},[t]),t&&t.style&&t.getLayer(n))try{Ce(t,n,e,o.current)}catch(a){console.warn(a)}else Ee(t,n,e);return o.current=e,null}let be=0;function Me(e,t,o){if(e.style&&e.style._loaded){const r={...o};return delete r.id,delete r.children,e.addSource(t,r),e.getSource(t)}return null}function xe(e,t,o){w(t.id===o.id,"source id changed"),w(t.type===o.type,"source type changed");let r="",n=0;for(const a in t)a!=="children"&&a!=="id"&&!h(o[a],t[a])&&(r=a,n++);if(!n)return;const i=t.type;i==="geojson"?e.setData(t.data):i==="image"?e.updateImage({url:t.url,coordinates:t.coordinates}):"setCoordinates"in e&&n===1&&r==="coordinates"?e.setCoordinates(t.coordinates):"setUrl"in e&&r==="url"?e.setUrl(t.url):"setTiles"in e&&r==="tiles"?e.setTiles(t.tiles):console.warn(`Unable to update <Source> prop: ${r}`)}function we(e){const t=s.useContext(M).map.getMap(),o=s.useRef(e),[,r]=s.useState(0),n=s.useMemo(()=>e.id||`jsx-source-${be++}`,[]);s.useEffect(()=>{if(t){const a=()=>setTimeout(()=>r(c=>c+1),0);return t.on("styledata",a),a(),()=>{var c;if(t.off("styledata",a),t.style&&t.style._loaded&&t.getSource(n)){const l=(c=t.getStyle())===null||c===void 0?void 0:c.layers;if(l)for(const u of l)u.source===n&&t.removeLayer(u.id);t.removeSource(n)}}}},[t]);let i=t&&t.style&&t.getSource(n);return i?xe(i,e,o.current):i=Me(t,n,e),o.current=e,i&&s.Children.map(e.children,a=>a&&s.cloneElement(a,{source:n}))||null}const Te=P(()=>import("./mapbox-gl-CUs-4plS.js").then(e=>e.m),__vite__mapDeps([0,1,2])),Re=s.forwardRef(function(t,o){return ie(t,o,Te)}),ke=ce,ze=ue,je=me,Ae=ve,Oe=ge,Ne=pe,He=Le,Ze=we,$e=s.forwardRef((e,t)=>{const{sx:o,projection:r,...n}=e,i=typeof r=="string"?void 0:r;return y.jsx(Fe,{sx:o,children:y.jsx(Re,{ref:t,mapboxAccessToken:B.mapboxApiKey,projection:i,...n,logoPosition:"bottom-right",terrain:void 0})})}),Fe=Z("div")({width:"100%",overflow:"hidden",position:"relative"});function Pe({sx:e,children:t,...o}){return y.jsx(Ie,{anchor:"bottom",sx:e,...o,children:t})}const Ie=Z(ze)``,R=20,Ue=`M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3
  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9
  C20.1,15.8,20.2,15.8,20.2,15.7z`;function Be({...e}){return y.jsx(ke,{...e,children:y.jsx(q,{sx:[t=>({height:R,stroke:"none",cursor:"pointer",fill:t.vars.palette.error.main,transform:`translate(${-R/2}px, ${-R}px)`})],children:y.jsx("path",{d:Ue})})})}function qe({hideScale:e,hideGeolocate:t,hideFullscreen:o,hideNavigation:r,slotProps:n}){var i;return y.jsxs(y.Fragment,{children:[!t&&y.jsx(Oe,{position:"top-left",...n==null?void 0:n.geolocate,positionOptions:{enableHighAccuracy:!0,...(i=n==null?void 0:n.geolocate)==null?void 0:i.positionOptions}}),!o&&y.jsx(je,{position:"top-left",...n==null?void 0:n.fullscreen}),!e&&y.jsx(Ne,{position:"bottom-left",...n==null?void 0:n.scale}),!r&&y.jsx(Ae,{position:"bottom-left",...n==null?void 0:n.navigation})]})}export{He as L,$e as M,Ze as S,qe as a,Be as b,Pe as c};
