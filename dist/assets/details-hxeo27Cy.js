import{j as s,B as l,T as a,cG as h,A as L,az as M,ca as $,a1 as k,R as D,I as v,S as E,aP as F,cN as G,f as P,p as T,cb as V,cc as B,cd as H,a_ as g,r as S,b8 as U,G as C,D as A,H as _,C as R}from"./index-D82XrlGq.js";import{u as q}from"./use-params-BTd0VUeQ.js";import{a as Q}from"./property-D2aquZ-Y.js";import{C as b}from"./Card-Bw-3A9ev.js";import{C as u}from"./CardHeader-BbCWHGKm.js";import{u as W,L as J}from"./use-light-box-dXPttcOB.js";import{G as t}from"./Grid-CxfBC3qm.js";import"./index-nX3EE7Rc.js";import"./index-AY8D22yG.js";function K({sx:e,property:d,propertyData:n,...o}){var c,m,r;const i=n||d;return s.jsxs(b,{sx:e,...o,children:[s.jsx(u,{title:"Informações Gerais"}),s.jsxs(l,{sx:{p:3},children:[s.jsxs(l,{sx:{mb:3},children:[s.jsx(a,{variant:"h6",sx:{mb:1},children:(i==null?void 0:i.titulo)||"Não informado"}),s.jsxs(l,{sx:{display:"grid",gap:2,gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",mb:2},children:[s.jsxs(l,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Área"}),s.jsx(a,{variant:"subtitle2",children:i!=null&&i.area?`${i.area.toLocaleString()} m²`:"Não informado"})]}),s.jsxs(l,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Preço"}),s.jsx(a,{variant:"subtitle2",sx:{color:"success.main"},children:i!=null&&i.preco?h(i.preco):"Não informado"})]}),s.jsxs(l,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Quartos"}),s.jsx(a,{variant:"subtitle2",children:((c=i==null?void 0:i.caracteristicas)==null?void 0:c.quartos)||0})]}),s.jsxs(l,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Banheiros"}),s.jsx(a,{variant:"subtitle2",children:((m=i==null?void 0:i.caracteristicas)==null?void 0:m.banheiros)||0})]}),s.jsxs(l,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Suítes"}),s.jsx(a,{variant:"subtitle2",children:(i==null?void 0:i.suites)||0})]}),s.jsxs(l,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Vagas Garagem"}),s.jsx(a,{variant:"subtitle2",children:((r=i==null?void 0:i.caracteristicas)==null?void 0:r.vagasGaragem)||0})]})]})]}),s.jsxs(l,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"Descrição"}),s.jsx(a,{variant:"body2",sx:{lineHeight:1.6},children:(i==null?void 0:i.descricao)||"Não informado"})]})]})]})}function X({owner:e}){var d,n;return s.jsxs(b,{children:[s.jsx(u,{title:"Proprietário"}),s.jsxs(l,{sx:{p:3},children:[s.jsxs(l,{sx:{display:"flex",alignItems:"center",mb:2.5},children:[s.jsx(L,{alt:e==null?void 0:e.nome,src:e==null?void 0:e.avatarUrl,sx:{width:56,height:56,mr:2},children:(n=(d=e==null?void 0:e.nome)==null?void 0:d.charAt(0))==null?void 0:n.toUpperCase()}),s.jsxs(l,{children:[s.jsx(a,{variant:"subtitle1",sx:{mb:.5,fontWeight:600},children:(e==null?void 0:e.nome)||"Não informado"}),s.jsx(a,{variant:"body2",sx:{color:"text.secondary"},children:(e==null?void 0:e.documento)||"Não informado"})]})]}),s.jsxs(l,{sx:{display:"grid",gap:2,gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))"},children:[s.jsxs(l,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"E-mail"}),s.jsx(a,{variant:"subtitle2",children:(e==null?void 0:e.email)||"Não informado"})]}),s.jsxs(l,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Telefone"}),s.jsx(a,{variant:"subtitle2",children:(e==null?void 0:e.telefone)||"Não informado"})]})]})]})]})}function Y({images:e=[]}){const d=e.map(o=>({src:o})),n=W(d);return e.length===0?s.jsxs(s.Fragment,{children:[s.jsx(u,{title:"Imagens"}),s.jsx(l,{sx:{p:3,textAlign:"center"},children:s.jsx(a,{variant:"body2",sx:{color:"text.secondary"},children:"Nenhuma imagem disponível"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(u,{title:"Imagens",subheader:`${e.length} ${e.length===1?"imagem":"imagens"}`}),s.jsx(l,{sx:{p:3},children:s.jsx(l,{sx:{display:"grid",gap:1,gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(3, 1fr)",md:"repeat(4, 1fr)"}},children:e.map((o,i)=>s.jsx(l,{sx:{position:"relative",paddingTop:"75%",cursor:"pointer",borderRadius:1,overflow:"hidden","&:hover":{opacity:.8}},onClick:()=>n.onOpen(o),children:s.jsx(M,{alt:`Imagem ${i+1}`,src:o,sx:{position:"absolute",top:0,left:0,width:1,height:1,objectFit:"cover"}})},i))})}),s.jsx(J,{index:n.selected,slides:d,open:n.open,close:n.onClose})]})}function Z({status:e,backHref:d,propertyId:n,createdAt:o,propertyTitle:i,statusOptions:c,onChangeStatus:m}){const r=$(),f=()=>s.jsx(V,{open:r.open,anchorEl:r.anchorEl,onClose:r.onClose,slotProps:{arrow:{placement:"top-right"}},children:s.jsx(B,{children:c.map(j=>s.jsx(H,{selected:j.value===e,onClick:()=>{r.onClose(),m(j.value)},children:j.label},j.value))})});return s.jsxs(s.Fragment,{children:[s.jsxs(l,{sx:{gap:3,display:"flex",mb:{xs:3,md:5},flexDirection:{xs:"column",md:"row"}},children:[s.jsxs(l,{sx:{gap:1,display:"flex",alignItems:"flex-start"},children:[s.jsx(k,{component:D,href:d,children:s.jsx(v,{icon:"eva:arrow-ios-back-fill"})}),s.jsxs(E,{spacing:.5,children:[s.jsxs(l,{sx:{gap:1,display:"flex",alignItems:"center"},children:[s.jsx(a,{variant:"h4",children:i||"Imóvel"}),s.jsx(F,{variant:"soft",color:e==="Em andamento"&&"info"||e==="Pendente"&&"warning"||e==="Vendido"&&"success"||e==="Alugado"&&"error"||"default",children:e})]}),s.jsx(a,{variant:"body2",sx:{color:"text.disabled"},children:G(o)})]})]}),s.jsxs(l,{sx:{gap:1.5,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[s.jsx(P,{color:"inherit",variant:"outlined",endIcon:s.jsx(v,{icon:"eva:arrow-ios-downward-fill"}),onClick:r.onOpen,sx:{textTransform:"capitalize"},children:e}),n&&s.jsx(P,{color:"inherit",variant:"contained",startIcon:s.jsx(v,{icon:"solar:pen-bold"}),component:D,href:T.dashboard.property.edit(n),children:"Editar"})]})]}),f()]})}function p({sx:e,property:d,propertyData:n,...o}){var N;const i=n||d,c=i==null?void 0:i.localizacao,r=(x=>x&&typeof x=="object"&&typeof x.endereco=="string")(c)?c:null,f=()=>{if(r!=null&&r.coordenadas){const x=`https://www.google.com/maps?q=${r.coordenadas.lat},${r.coordenadas.lng}`;window.open(x,"_blank")}else if(r!=null&&r.endereco){const x=`${r.endereco}, ${r.bairro}, ${r.cidade}, ${r.estado}`,y=`https://www.google.com/maps/search/${encodeURIComponent(x)}`;window.open(y,"_blank")}},j=x=>({norte:"Norte",sul:"Sul",leste:"Leste",oeste:"Oeste",nordeste:"Nordeste",noroeste:"Noroeste",sudeste:"Sudeste",sudoeste:"Sudoeste"})[x]||x;return s.jsxs(b,{sx:e,...o,children:[s.jsx(u,{title:"Localização"}),s.jsxs(l,{sx:{p:3},children:[s.jsxs(l,{sx:{mb:3},children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Endereço"}),s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:(r==null?void 0:r.endereco)||(typeof c=="string"?c:"Não informado")}),(r==null?void 0:r.complemento)&&s.jsxs(s.Fragment,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Complemento"}),s.jsx(a,{variant:"subtitle2",sx:{mb:1},children:r.complemento})]}),s.jsxs(t,{container:!0,spacing:2,sx:{mb:2},children:[s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Bairro"}),s.jsx(a,{variant:"subtitle2",children:(r==null?void 0:r.bairro)||"Não informado"})]}),s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"CEP"}),s.jsx(a,{variant:"subtitle2",children:(r==null?void 0:r.cep)||"Não informado"})]}),s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Cidade"}),s.jsx(a,{variant:"subtitle2",children:(r==null?void 0:r.cidade)||"Não informado"})]}),s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Estado"}),s.jsx(a,{variant:"subtitle2",children:(r==null?void 0:r.estado)||"Não informado"})]})]}),s.jsxs(t,{container:!0,spacing:2,sx:{mb:2},children:[((N=i==null?void 0:i.caracteristicas)==null?void 0:N.andar)&&s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Andar"}),s.jsx(a,{variant:"subtitle2",children:i.caracteristicas.andar})]}),(i==null?void 0:i.nomeEdificio)&&s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Edifício"}),s.jsx(a,{variant:"subtitle2",children:i.nomeEdificio})]}),(i==null?void 0:i.posicaoSolar)&&s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Posição Solar"}),s.jsx(a,{variant:"subtitle2",children:j(i.posicaoSolar)})]})]})]}),s.jsx(l,{sx:{display:"flex",gap:1},children:s.jsx(P,{variant:"outlined",size:"small",startIcon:s.jsx(v,{icon:"solar:map-point-bold"}),onClick:f,fullWidth:!0,children:"Ver no Mapa"})})]})]})}function z({property:e,propertyData:d}){const n=d||e,o=n==null?void 0:n.valores,i=c=>({venda:"Venda",aluguel:"Aluguel",venda_aluguel:"Venda e Aluguel"})[c]||c;return s.jsxs(b,{children:[s.jsx(u,{title:"Informações Financeiras"}),s.jsx(l,{sx:{p:3},children:s.jsxs(E,{spacing:3,children:[s.jsxs(l,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"Finalidade"}),s.jsx(g,{label:i((n==null?void 0:n.finalidade)||"venda"),color:"primary",size:"small"})]}),s.jsxs(t,{container:!0,spacing:2,children:[(n==null?void 0:n.finalidade)==="venda"||(n==null?void 0:n.finalidade)==="venda_aluguel"?s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Preço de Venda"}),s.jsx(a,{variant:"h6",sx:{color:"success.main"},children:o!=null&&o.valorVenda?h(o.valorVenda):n!=null&&n.preco?h(n.preco):"Não informado"})]}):null,(n==null?void 0:n.finalidade)==="aluguel"||(n==null?void 0:n.finalidade)==="venda_aluguel"?s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Preço de Aluguel"}),s.jsx(a,{variant:"h6",sx:{color:"info.main"},children:o!=null&&o.valorAluguel?h(o.valorAluguel):"Não informado"})]}):null,s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Preço por m²"}),s.jsx(a,{variant:"subtitle2",children:n!=null&&n.precoM2?h(n.precoM2):"Não informado"})]}),s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Preço Negociável"}),s.jsx(g,{label:n!=null&&n.negociavel?"Sim":"Não",color:n!=null&&n.negociavel?"success":"default",size:"small"})]})]}),s.jsxs(l,{children:[s.jsx(a,{variant:"h6",sx:{mb:2},children:"Taxas e Impostos"}),s.jsxs(t,{container:!0,spacing:2,children:[s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"Condomínio"}),s.jsx(a,{variant:"subtitle2",children:o!=null&&o.valorCondominio?h(o.valorCondominio):"Não informado"})]}),s.jsxs(t,{item:!0,xs:12,sm:6,children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:.5},children:"IPTU"}),s.jsx(a,{variant:"subtitle2",children:o!=null&&o.valorIPTU?h(o.valorIPTU):"Não informado"})]})]})]}),s.jsxs(l,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"Documentação"}),s.jsx(g,{label:"Completa",color:"success",size:"small"})]}),(n==null?void 0:n.observacoes)&&s.jsxs(l,{children:[s.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"Observações"}),s.jsx(a,{variant:"body2",sx:{lineHeight:1.6},children:n.observacoes})]})]})})]})}function O({property:e}){const[d,n]=S.useState(e==null?void 0:e.status),o=S.useCallback(i=>{n(i)},[]);return s.jsxs(U,{children:[s.jsx(Z,{status:d,createdAt:e==null?void 0:e.createdAt,propertyId:e==null?void 0:e.id,propertyTitle:e==null?void 0:e.titulo,backHref:T.dashboard.property.root,onChangeStatus:o,statusOptions:[{value:"Em andamento",label:"Em andamento"},{value:"Pendente",label:"Pendente"},{value:"Vendido",label:"Vendido"},{value:"Alugado",label:"Alugado"}]}),s.jsxs(C,{container:!0,spacing:3,children:[s.jsx(C,{size:{xs:12,md:8},children:s.jsxs(l,{sx:{gap:3,display:"flex",flexDirection:{xs:"column-reverse",md:"column"}},children:[s.jsx(K,{propertyData:e}),s.jsx(p,{propertyData:e})]})}),s.jsx(C,{size:{xs:12,md:4},children:s.jsxs(b,{children:[s.jsx(X,{owner:e==null?void 0:e.proprietario}),s.jsx(A,{sx:{borderStyle:"dashed"}}),s.jsx(z,{propertyData:e}),s.jsx(A,{sx:{borderStyle:"dashed"}}),s.jsx(Y,{images:e==null?void 0:e.imagens})]})})]})]})}const w={title:`Detalhes do Imóvel | Painel - ${R.appName}`};function ds(){const{id:e=""}=q(),{property:d}=Q(e);return s.jsxs(s.Fragment,{children:[s.jsx(_,{children:s.jsxs("title",{children:[" ",w.title]})}),s.jsx(O,{property:d})]})}export{ds as default};
