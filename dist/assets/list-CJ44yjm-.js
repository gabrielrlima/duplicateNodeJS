import{V as T,fk as L,r as n,cN as D,j as e,cp as N,S as F,B as i,A as G,T as r,a1 as V,I as l,G as o,D as Y,cV as $,bj as q,p as m,f as h,b1 as J,b2 as U,b3 as I,fl as K,H as Q}from"./index-cNRh_qft.js";import{C as X}from"./config-global-DAqS2tYC.js";import{E as Z}from"./empty-content-BzM3Az2z.js";import{C as _}from"./confirm-dialog-V5NQjZtL.js";import{C as ee}from"./Card-C_-31fGp.js";function se(){const p=T(),{realEstates:b,deleteRealEstate:u,fetchRealEstates:j}=L(),[c,f]=n.useState(null),[g,y]=n.useState(null),[W,C]=n.useState(!1),[R,v]=n.useState(null),[B,k]=n.useState(!1),[t,w]=n.useState(null),E=n.useCallback((s,d)=>{y(s.currentTarget),f(d)},[]),a=n.useCallback(()=>{y(null),f(null)},[]),S=n.useCallback(s=>{v(s),C(!0),a()},[a]),H=n.useCallback(async()=>{C(!1),v(null),await j()},[j]),z=n.useCallback(s=>{w(s),k(!0),a()},[a]),x=n.useCallback(()=>{k(!1),w(null)},[]),O=n.useCallback(async()=>{if(t)try{await u(t.id),D.success("Imobiliária excluída com sucesso!"),x()}catch(s){D.error("Erro ao excluir imobiliária"),console.error("Erro ao excluir imobiliária:",s)}},[t,u,x]),M=n.useCallback(s=>{const d=()=>e.jsx(J,{open:c===s.id,anchorEl:g,onClose:a,slotProps:{arrow:{placement:"bottom-center"}},children:e.jsxs(U,{children:[e.jsxs(I,{onClick:()=>S(s),children:[e.jsx(l,{icon:"solar:pen-bold"}),"Editar"]}),e.jsxs(I,{onClick:()=>z(s),sx:{color:"error.main"},children:[e.jsx(l,{icon:"solar:trash-bin-trash-bold"}),"Excluir"]})]})});return e.jsxs(N.Fragment,{children:[e.jsx(ee,{sx:{p:{xs:2,sm:3},height:"100%",bgcolor:"background.paper",border:"1px solid",borderColor:"grey.200",borderRadius:{xs:1.5,sm:2},transition:"all 0.2s ease-in-out","&:hover":{borderColor:"grey.300",transform:{xs:"translateY(-1px)",sm:"translateY(-2px)"},boxShadow:{xs:"0 2px 12px rgba(0,0,0,0.08)",sm:"0 4px 20px rgba(0,0,0,0.1)"}}},children:e.jsxs(F,{spacing:{xs:1.5,sm:2},sx:{height:"100%"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",gap:{xs:1,sm:2}},children:[e.jsxs(i,{sx:{display:"flex",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:1.5,sm:2},flex:1,minWidth:0},children:[e.jsx(G,{src:s.logo,alt:s.name,sx:{width:{xs:40,sm:48},height:{xs:40,sm:48},flexShrink:0},children:s.name.charAt(0).toUpperCase()}),e.jsxs(i,{sx:{flex:1,minWidth:0},children:[e.jsx(r,{variant:"h6",sx:{fontSize:{xs:"1rem",sm:"1.25rem"},lineHeight:{xs:1.3,sm:1.6},wordBreak:"break-word",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:{xs:2,sm:1},WebkitBoxOrient:"vertical"},children:s.name}),e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},wordBreak:"break-all",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:{xs:"normal",sm:"nowrap"}},children:["CNPJ: ",s.cnpj]})]})]}),e.jsx(V,{onClick:P=>E(P,s.id),sx:{color:c===s.id?"text.primary":"grey.600",width:{xs:32,sm:40},height:{xs:32,sm:40},flexShrink:0,"&:hover":{bgcolor:"grey.100",color:"grey.800"}},children:e.jsx(l,{icon:"eva:more-horizontal-fill",sx:{fontSize:{xs:18,sm:20}}})})]}),e.jsx(i,{sx:{flex:1},children:e.jsxs(o,{container:!0,spacing:{xs:1,sm:2},children:[s.email&&e.jsx(o,{size:12,children:e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},wordBreak:"break-word",lineHeight:{xs:1.4,sm:1.5}},children:[e.jsx(i,{component:"span",sx:{fontWeight:500,color:"text.primary"},children:"Email:"})," ",s.email]})}),s.phone&&e.jsx(o,{size:12,children:e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},wordBreak:"break-word",lineHeight:{xs:1.4,sm:1.5}},children:[e.jsx(i,{component:"span",sx:{fontWeight:500,color:"text.primary"},children:"Telefone:"})," ",s.phone]})}),s.website&&e.jsx(o,{size:12,children:e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},wordBreak:"break-all",lineHeight:{xs:1.4,sm:1.5}},children:[e.jsx(i,{component:"span",sx:{fontWeight:500,color:"text.primary"},children:"Website:"})," ",s.website]})})]})}),e.jsxs(i,{children:[e.jsx(r,{variant:"subtitle2",sx:{mb:{xs:1.5,sm:2},fontWeight:600,fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Estatísticas"}),e.jsxs(o,{container:!0,spacing:{xs:1,sm:2},children:[e.jsx(o,{size:{xs:6,sm:6},children:e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:{xs:1.4,sm:1.5}},children:[e.jsx(i,{component:"span",sx:{fontWeight:500,color:"text.primary"},children:"Corretores:"})," 0"]})}),e.jsx(o,{size:{xs:6,sm:6},children:e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:{xs:1.4,sm:1.5}},children:[e.jsx(i,{component:"span",sx:{fontWeight:500,color:"text.primary"},children:"Grupos:"})," 0"]})}),e.jsx(o,{size:{xs:6,sm:6},children:e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:{xs:1.4,sm:1.5}},children:[e.jsx(i,{component:"span",sx:{fontWeight:500,color:"text.primary"},children:"Propriedades:"})," 0"]})}),e.jsx(o,{size:{xs:6,sm:6},children:e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:{xs:1.4,sm:1.5}},children:[e.jsx(i,{component:"span",sx:{fontWeight:500,color:"text.primary"},children:"Clientes:"})," 0"]})})]})]}),e.jsx(Y,{}),s.description&&e.jsxs(i,{sx:{py:{xs:.5,sm:1}},children:[e.jsx(r,{variant:"body2",sx:{mb:{xs:.5,sm:.5},fontWeight:500,fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Descrição"}),e.jsx(r,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:{xs:1.4,sm:1.5},wordBreak:"break-word",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:{xs:3,sm:4},WebkitBoxOrient:"vertical",textOverflow:"ellipsis"},children:s.description})]}),e.jsx(i,{children:e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{fontWeight:500,fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:{xs:1.4,sm:1.5}},children:[e.jsx(i,{component:"span",sx:{fontWeight:600,color:"text.primary"},children:"Valor geral de vendas:"})," R$ 0,00"]})})]})}),d()]},s.id)},[c,g,a,S,z]),A=()=>R?e.jsx(K,{open:W,onClose:H}):null;return e.jsxs($,{children:[e.jsx(q,{heading:"Minhas Imobiliárias",links:[{name:"Dashboard",href:m.dashboard.root},{name:"Minhas Imobiliárias"}],action:e.jsx(h,{variant:"contained",startIcon:e.jsx(l,{icon:"mingcute:add-line"}),onClick:()=>p.push(m.dashboard.realEstate.new),children:"Nova Imobiliária"}),sx:{mb:{xs:3,md:5}}}),b.length===0?e.jsx(Z,{filled:!0,title:"Nenhuma imobiliária cadastrada",description:"Comece adicionando sua primeira imobiliária para gerenciar seus imóveis.",action:e.jsx(h,{variant:"contained",startIcon:e.jsx(l,{icon:"mingcute:add-line"}),onClick:()=>p.push(m.dashboard.realEstate.new),children:"Adicionar Primeira Imobiliária"})}):e.jsx(i,{sx:{gap:{xs:2,sm:3},display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},px:{xs:0,sm:0},py:{xs:0,sm:0}},children:b.map(s=>M(s))}),A(),e.jsx(_,{open:B,onClose:x,title:"Excluir Imobiliária",content:e.jsxs(e.Fragment,{children:[e.jsxs(r,{variant:"body1",sx:{mb:2},children:["Tem certeza que deseja excluir a imobiliária ",e.jsx("strong",{children:t==null?void 0:t.name}),"?"]}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Esta ação é ",e.jsx("strong",{children:"irreversível"})," e você perderá todas as informações registradas, incluindo:"]}),e.jsxs(i,{component:"ul",sx:{mt:1,mb:0,pl:2},children:[e.jsx(r,{component:"li",variant:"body2",color:"text.secondary",children:"Dados da imobiliária"}),e.jsx(r,{component:"li",variant:"body2",color:"text.secondary",children:"Propriedades associadas"}),e.jsx(r,{component:"li",variant:"body2",color:"text.secondary",children:"Histórico de transações"}),e.jsx(r,{component:"li",variant:"body2",color:"text.secondary",children:"Configurações personalizadas"})]})]}),action:e.jsx(h,{variant:"contained",color:"error",onClick:O,children:"Excluir Permanentemente"})})]})}const re={title:`Lista de Imobiliárias | Dashboard - ${X.site.name}`};function le(){return e.jsxs(e.Fragment,{children:[e.jsx(Q,{children:e.jsxs("title",{children:[" ",re.title]})}),e.jsx(se,{})]})}export{le as default};
