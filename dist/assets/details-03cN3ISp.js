import{j as s,a1 as j,I as t,bp as D,B as n,A as w,aJ as k,a$ as p,b0 as O,R as v,S as r,T as b,aP as P,d1 as h,f as g,b1 as N,b2 as A,b3 as B,aj as F,L as E,r as I,cV as H,dP as L,p as R,G as y,D as S,dN as $,H as z,C as G}from"./index-cNRh_qft.js";import{u as M}from"./use-params-DYuE92tD.js";import"./order-list-view-BU3ylAl8.js";import{C as T}from"./Card-C_-31fGp.js";import{C as m}from"./CardHeader-CZZHKPlX.js";import{T as U,a as _,b as V,c as W,d as q,e as J,t as K}from"./TimelineSeparator-DJQcrB1w.js";import"./confirm-dialog-V5NQjZtL.js";import"./table-no-data-CeEeU6Ls.js";import"./empty-content-BzM3Az2z.js";import"./TableHead-DBnjkyMB.js";import"./TableCell-CGwO8Re3.js";import"./table-empty-rows-BTCIE_YQ.js";import"./table-head-custom-DSpcVu4-.js";import"./table-selected-action-DJkdQzwk.js";import"./table-pagination-custom-xTp1jojO.js";import"./TablePagination-CNNZgEcm.js";import"./LastPage-ChYIEhQh.js";import"./Toolbar-BaRJzfzK.js";import"./filters-result-BTXXEhsP.js";function Q({sx:e,taxes:a,shipping:i,discount:l,subtotal:c,items:f=[],totalAmount:x,...u}){const o=()=>s.jsxs(n,{sx:{p:3,gap:2,display:"flex",textAlign:"right",typography:"body2",alignItems:"flex-end",flexDirection:"column"},children:[s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{sx:{color:"text.secondary"},children:"Subtotal"}),s.jsx(n,{sx:{width:160,typography:"subtitle2"},children:p(c)||"-"})]}),s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{sx:{color:"text.secondary"},children:"Shipping"}),s.jsx(n,{sx:{width:160,...i&&{color:"error.main"}},children:i?`- ${p(i)}`:"-"})]}),s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{sx:{color:"text.secondary"},children:"Discount"}),s.jsx(n,{sx:{width:160,...l&&{color:"error.main"}},children:l?`- ${p(l)}`:"-"})]}),s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{sx:{color:"text.secondary"},children:"Taxes"}),s.jsx(n,{sx:{width:160},children:a?p(a):"-"})]}),s.jsxs(n,{sx:{display:"flex",typography:"subtitle1"},children:[s.jsx("div",{children:"Total"}),s.jsx(n,{sx:{width:160},children:p(x)||"-"})]})]});return s.jsxs(T,{sx:e,...u,children:[s.jsx(m,{title:"Details",action:s.jsx(j,{children:s.jsx(t,{icon:"solar:pen-bold"})})}),s.jsx(D,{children:f.map(d=>s.jsxs(n,{sx:[C=>({p:3,minWidth:640,display:"flex",alignItems:"center",borderBottom:`dashed 2px ${C.vars.palette.background.neutral}`})],children:[s.jsx(w,{src:d.coverUrl,variant:"rounded",sx:{width:48,height:48,mr:2}}),s.jsx(k,{primary:d.name,secondary:d.sku,slotProps:{primary:{sx:{typography:"body2"}},secondary:{sx:{mt:.5,color:"text.disabled"}}}}),s.jsxs(n,{sx:{typography:"body2"},children:["x",d.quantity]}),s.jsx(n,{sx:{width:110,textAlign:"right",typography:"subtitle2"},children:p(d.price)})]},d.id))}),o()]})}function X({status:e,backHref:a,createdAt:i,orderNumber:l,statusOptions:c,onChangeStatus:f}){const x=O(),u=()=>s.jsx(N,{open:x.open,anchorEl:x.anchorEl,onClose:x.onClose,slotProps:{arrow:{placement:"top-right"}},children:s.jsx(A,{children:c.map(o=>s.jsx(B,{selected:o.value===e,onClick:()=>{x.onClose(),f(o.value)},children:o.label},o.value))})});return s.jsxs(s.Fragment,{children:[s.jsxs(n,{sx:{gap:3,display:"flex",mb:{xs:3,md:5},flexDirection:{xs:"column",md:"row"}},children:[s.jsxs(n,{sx:{gap:1,display:"flex",alignItems:"flex-start"},children:[s.jsx(j,{component:v,href:a,children:s.jsx(t,{icon:"eva:arrow-ios-back-fill"})}),s.jsxs(r,{spacing:.5,children:[s.jsxs(n,{sx:{gap:1,display:"flex",alignItems:"center"},children:[s.jsxs(b,{variant:"h4",children:[" Order ",l," "]}),s.jsx(P,{variant:"soft",color:e==="completed"&&"success"||e==="pending"&&"warning"||e==="cancelled"&&"error"||"default",children:e})]}),s.jsx(b,{variant:"body2",sx:{color:"text.disabled"},children:h(i)})]})]}),s.jsxs(n,{sx:{gap:1.5,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[s.jsx(g,{color:"inherit",variant:"outlined",endIcon:s.jsx(t,{icon:"eva:arrow-ios-downward-fill"}),onClick:x.onOpen,sx:{textTransform:"capitalize"},children:e}),s.jsx(g,{color:"inherit",variant:"outlined",startIcon:s.jsx(t,{icon:"solar:printer-minimalistic-bold"}),children:"Print"}),s.jsx(g,{color:"inherit",variant:"contained",startIcon:s.jsx(t,{icon:"solar:pen-bold"}),children:"Edit"})]})]}),u()]})}function Y({history:e}){const a=()=>s.jsxs(F,{variant:"outlined",sx:{p:2.5,gap:2,minWidth:260,flexShrink:0,borderRadius:2,display:"flex",typography:"body2",borderStyle:"dashed",flexDirection:"column"},children:[s.jsxs(r,{spacing:.5,children:[s.jsx(n,{sx:{color:"text.disabled"},children:"Order time"}),h(e==null?void 0:e.orderTime)]}),s.jsxs(r,{spacing:.5,children:[s.jsx(n,{sx:{color:"text.disabled"},children:"Payment time"}),h(e==null?void 0:e.orderTime)]}),s.jsxs(r,{spacing:.5,children:[s.jsx(n,{sx:{color:"text.disabled"},children:"Delivery time for the carrier"}),h(e==null?void 0:e.orderTime)]}),s.jsxs(r,{spacing:.5,children:[s.jsx(n,{sx:{color:"text.disabled"},children:"Completion time"}),h(e==null?void 0:e.orderTime)]})]}),i=()=>s.jsx(U,{sx:{p:0,m:0,[`& .${K.root}:before`]:{flex:0,padding:0}},children:e==null?void 0:e.timeline.map((l,c)=>{const f=c===0,x=c===e.timeline.length-1;return s.jsxs(_,{children:[s.jsxs(V,{children:[s.jsx(W,{color:f&&"primary"||"grey"}),x?null:s.jsx(q,{})]}),s.jsxs(J,{children:[s.jsx(b,{variant:"subtitle2",children:l.title}),s.jsx(n,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:h(l.time)})]})]},l.title)})});return s.jsxs(T,{children:[s.jsx(m,{title:"History"}),s.jsxs(n,{sx:{p:3,gap:3,display:"flex",alignItems:{md:"flex-start"},flexDirection:{xs:"column-reverse",md:"row"}},children:[i(),a()]})]})}function Z({payment:e}){return s.jsxs(s.Fragment,{children:[s.jsx(m,{title:"Payment",action:s.jsx(j,{children:s.jsx(t,{icon:"solar:pen-bold"})})}),s.jsxs(n,{sx:{p:3,gap:.5,display:"flex",typography:"body2",alignItems:"center",justifyContent:"flex-end"},children:[e==null?void 0:e.cardNumber,s.jsx(t,{icon:"logos:mastercard",width:24})]})]})}function ss({customer:e}){return s.jsxs(s.Fragment,{children:[s.jsx(m,{title:"Customer info",action:s.jsx(j,{children:s.jsx(t,{icon:"solar:pen-bold"})})}),s.jsxs(n,{sx:{p:3,display:"flex"},children:[s.jsx(w,{alt:e==null?void 0:e.name,src:e==null?void 0:e.avatarUrl,sx:{width:48,height:48,mr:2}}),s.jsxs(r,{spacing:.5,sx:{typography:"body2",alignItems:"flex-start"},children:[s.jsx(b,{variant:"subtitle2",children:e==null?void 0:e.name}),s.jsx(n,{sx:{color:"text.secondary"},children:e==null?void 0:e.email}),s.jsxs("div",{children:["IP address:",s.jsx(n,{component:"span",sx:{color:"text.secondary",ml:.25},children:e==null?void 0:e.ipAddress})]}),s.jsx(g,{size:"small",color:"error",startIcon:s.jsx(t,{icon:"mingcute:add-line"}),sx:{mt:1},children:"Add to Blacklist"})]})]})]})}function es({delivery:e}){return s.jsxs(s.Fragment,{children:[s.jsx(m,{title:"Delivery",action:s.jsx(j,{children:s.jsx(t,{icon:"solar:pen-bold"})})}),s.jsxs(r,{spacing:1.5,sx:{p:3,typography:"body2"},children:[s.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Ship by"}),e==null?void 0:e.shipBy]}),s.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Speedy"}),e==null?void 0:e.speedy]}),s.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Tracking No."}),s.jsx(E,{underline:"always",color:"inherit",children:e==null?void 0:e.trackingNumber})]})]})]})}function ns({shippingAddress:e}){return s.jsxs(s.Fragment,{children:[s.jsx(m,{title:"Shipping",action:s.jsx(j,{children:s.jsx(t,{icon:"solar:pen-bold"})})}),s.jsxs(r,{spacing:1.5,sx:{p:3,typography:"body2"},children:[s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Address"}),e==null?void 0:e.fullAddress]}),s.jsxs(n,{sx:{display:"flex"},children:[s.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Phone number"}),e==null?void 0:e.phoneNumber]})]})]})}function is({order:e}){const[a,i]=I.useState(e==null?void 0:e.status),l=I.useCallback(c=>{i(c)},[]);return s.jsxs(H,{children:[s.jsx(X,{status:a,createdAt:e==null?void 0:e.createdAt,orderNumber:e==null?void 0:e.orderNumber,backHref:R.dashboard.order.root,onChangeStatus:l,statusOptions:L}),s.jsxs(y,{container:!0,spacing:3,children:[s.jsx(y,{size:{xs:12,md:8},children:s.jsxs(n,{sx:{gap:3,display:"flex",flexDirection:{xs:"column-reverse",md:"column"}},children:[s.jsx(Q,{items:e==null?void 0:e.items,taxes:e==null?void 0:e.taxes,shipping:e==null?void 0:e.shipping,discount:e==null?void 0:e.discount,subtotal:e==null?void 0:e.subtotal,totalAmount:e==null?void 0:e.totalAmount}),s.jsx(Y,{history:e==null?void 0:e.history})]})}),s.jsx(y,{size:{xs:12,md:4},children:s.jsxs(T,{children:[s.jsx(ss,{customer:e==null?void 0:e.customer}),s.jsx(S,{sx:{borderStyle:"dashed"}}),s.jsx(es,{delivery:e==null?void 0:e.delivery}),s.jsx(S,{sx:{borderStyle:"dashed"}}),s.jsx(ns,{shippingAddress:e==null?void 0:e.shippingAddress}),s.jsx(S,{sx:{borderStyle:"dashed"}}),s.jsx(Z,{payment:e==null?void 0:e.payment})]})})]})]})}const ls={title:`Order details | Dashboard - ${G.appName}`};function ws(){const{id:e=""}=M(),a=$.find(i=>i.id===e);return s.jsxs(s.Fragment,{children:[s.jsx(z,{children:s.jsxs("title",{children:[" ",ls.title]})}),s.jsx(is,{order:a})]})}export{ws as default};
