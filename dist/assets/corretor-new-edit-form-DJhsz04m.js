import{V as A,y as I,z as G,O as N,cN as B,p as M,j as e,F,G as u,aP as n,B as o,K as l,T as t,dt as O,b3 as i,S as v,f as w,N as L,Q as s,a3 as z}from"./index-cNRh_qft.js";import{s as x}from"./schema-helper-D18en8Wv.js";import{C as b}from"./Card-C_-31fGp.js";const _=N({avatarUrl:x.file({message:"Avatar é obrigatório!"}),name:s().min(1,{message:"Nome é obrigatório!"}),email:s().min(1,{message:"Email é obrigatório!"}).email({message:"Email deve ser um endereço válido!"}),phone:x.phoneNumber({isValid:z}),endereco:s().min(1,{message:"Endereço é obrigatório!"}),pais:s().min(1,{message:"País é obrigatório!"}),estado:s().min(1,{message:"Estado é obrigatório!"}),cidade:s().min(1,{message:"Cidade é obrigatória!"}),cep:s().min(1,{message:"CEP é obrigatório!"}),tipoChavePix:s().min(1,{message:"Tipo de chave Pix é obrigatório!"}),chavePix:s().min(1,{message:"Chave Pix é obrigatória!"}),cargo:s().min(1,{message:"Cargo é obrigatório!"}),creci:s().min(1,{message:"CRECI é obrigatório!"}),especialidade:s().optional(),grupo:s().optional(),status:s()});function J({currentCorretor:r}){const p=A(),h={status:"ativo",avatarUrl:null,name:"",email:"",phone:"",endereco:"",pais:"Brasil",estado:"",cidade:"",cep:"",tipoChavePix:"",chavePix:"",cargo:"",creci:"",especialidade:"",grupo:""},m=I({mode:"onSubmit",resolver:G(_),defaultValues:h,values:r}),{reset:g,watch:j,handleSubmit:C,formState:{isSubmitting:P}}=m,c=j(),S=C(async a=>{try{await new Promise(d=>setTimeout(d,500)),g(),B.success(r?"Corretor atualizado com sucesso!":"Corretor criado com sucesso!"),p.push(M.dashboard.corretores.list),console.info("DATA",a)}catch(d){console.error(d)}}),f=[{value:"cpf",label:"CPF"},{value:"cnpj",label:"CNPJ"},{value:"email",label:"E-mail"},{value:"telefone",label:"Telefone"},{value:"chave_aleatoria",label:"Chave Aleatória"}],y=[{value:"corretor",label:"Corretor"},{value:"corretor_senior",label:"Corretor Sênior"},{value:"supervisor",label:"Supervisor"},{value:"gerente",label:"Gerente"},{value:"diretor",label:"Diretor"}],E=[{value:"AC",label:"Acre"},{value:"AL",label:"Alagoas"},{value:"AP",label:"Amapá"},{value:"AM",label:"Amazonas"},{value:"BA",label:"Bahia"},{value:"CE",label:"Ceará"},{value:"DF",label:"Distrito Federal"},{value:"ES",label:"Espírito Santo"},{value:"GO",label:"Goiás"},{value:"MA",label:"Maranhão"},{value:"MT",label:"Mato Grosso"},{value:"MS",label:"Mato Grosso do Sul"},{value:"MG",label:"Minas Gerais"},{value:"PA",label:"Pará"},{value:"PB",label:"Paraíba"},{value:"PR",label:"Paraná"},{value:"PE",label:"Pernambuco"},{value:"PI",label:"Piauí"},{value:"RJ",label:"Rio de Janeiro"},{value:"RN",label:"Rio Grande do Norte"},{value:"RS",label:"Rio Grande do Sul"},{value:"RO",label:"Rondônia"},{value:"RR",label:"Roraima"},{value:"SC",label:"Santa Catarina"},{value:"SP",label:"São Paulo"},{value:"SE",label:"Sergipe"},{value:"TO",label:"Tocantins"}],T=[{value:"vendas",label:"Vendas"},{value:"locacao",label:"Locação"},{value:"captacao",label:"Captação"},{value:"comercial",label:"Comercial"},{value:"residencial",label:"Residencial"}],R=[{value:"imoveis_residenciais",label:"Imóveis Residenciais"},{value:"imoveis_comerciais",label:"Imóveis Comerciais"},{value:"imoveis_rurais",label:"Imóveis Rurais"},{value:"imoveis_luxo",label:"Imóveis de Luxo"},{value:"locacao",label:"Locação"},{value:"investimentos",label:"Investimentos Imobiliários"},{value:"leiloes",label:"Leilões"},{value:"plantas",label:"Plantas e Lançamentos"}];return e.jsx(F,{methods:m,onSubmit:S,children:e.jsxs(u,{container:!0,spacing:3,children:[e.jsx(u,{size:{xs:12,md:4},children:e.jsxs(b,{sx:{pt:10,pb:5,px:3},children:[r&&e.jsx(n,{color:c.status==="ativo"&&"success"||c.status==="inativo"&&"error"||"warning",sx:{position:"absolute",top:24,right:24},children:c.status}),e.jsx(o,{sx:{mb:5},children:e.jsx(l.UploadAvatar,{name:"avatarUrl",maxSize:3145728,helperText:e.jsxs(t,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Permitido *.jpeg, *.jpg, *.png, *.gif",e.jsx("br",{})," tamanho máximo de ",O(3145728)]})})}),r&&e.jsxs(o,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{mb:1},children:"Status do Corretor"}),e.jsxs(l.Select,{name:"status",label:"Status",children:[e.jsx(i,{value:"ativo",children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(n,{color:"success",children:"Ativo"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Corretor ativo e disponível"})]})}),e.jsx(i,{value:"ferias",children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(n,{color:"warning",children:"Férias"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Corretor em período de férias"})]})}),e.jsx(i,{value:"inativo",children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(n,{color:"error",children:"Inativo"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Corretor desativado"})]})})]})]}),r&&e.jsx(v,{sx:{mt:3,alignItems:"center",justifyContent:"center"},children:e.jsx(w,{variant:"soft",color:"error",children:"Excluir corretor"})})]})}),e.jsx(u,{size:{xs:12,md:8},children:e.jsxs(b,{sx:{p:3},children:[e.jsxs(o,{sx:{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[e.jsx(l.Text,{name:"name",label:"Nome"}),e.jsx(l.Text,{name:"email",label:"Email"}),e.jsx(l.Phone,{name:"phone",label:"Número de celular",country:r?void 0:"BR"}),e.jsx(l.Text,{name:"endereco",label:"Endereço"}),e.jsx(l.Select,{name:"pais",label:"País",children:e.jsx(i,{value:"Brasil",children:"Brasil"})}),e.jsx(l.Select,{name:"estado",label:"Estado",children:E.map(a=>e.jsx(i,{value:a.value,children:a.label},a.value))}),e.jsx(l.Text,{name:"cidade",label:"Cidade"}),e.jsx(l.Text,{name:"cep",label:"CEP"}),e.jsx(l.Select,{name:"tipoChavePix",label:"Tipo de chave Pix",children:f.map(a=>e.jsx(i,{value:a.value,children:a.label},a.value))}),e.jsx(l.Text,{name:"chavePix",label:"Chave Pix"}),e.jsx(l.Select,{name:"cargo",label:"Cargo",children:y.map(a=>e.jsx(i,{value:a.value,children:a.label},a.value))}),e.jsx(l.Text,{name:"creci",label:"CRECI"}),e.jsxs(l.Select,{name:"especialidade",label:"Especialidade",children:[e.jsx(i,{value:"",children:"Selecione uma especialidade"}),R.map(a=>e.jsx(i,{value:a.value,children:a.label},a.value))]}),e.jsxs(l.Select,{name:"grupo",label:"Grupo",children:[e.jsx(i,{value:"",children:"Selecione um grupo"}),T.map(a=>e.jsx(i,{value:a.value,children:a.label},a.value))]})]}),e.jsx(v,{sx:{mt:3,alignItems:"flex-end"},children:e.jsx(L,{type:"submit",variant:"contained",loading:P,children:r?"Atualizar":"Criar corretor"})})]})})]})})}export{J as C};
