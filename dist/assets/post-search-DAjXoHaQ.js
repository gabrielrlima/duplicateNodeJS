import{ca as C,j as e,f as b,B as A,I as h,cb as P,cc as k,cd as w,V as R,r as l,ce as W,cf as m,cg as B,ch as E,ci as L,cj as T,L as M,R as O,A as F,T as q,au as Q,a0 as $,ck as z}from"./index-D82XrlGq.js";import{c as H}from"./blog-BxyGPj51.js";function V({sort:o,sortOptions:a,onSort:i}){const s=C(),c=()=>e.jsx(P,{open:s.open,anchorEl:s.anchorEl,onClose:s.onClose,children:e.jsx(k,{children:a.map(r=>e.jsx(w,{selected:o===r.value,onClick:()=>{s.onClose(),i(r.value)},children:r.label},r.value))})});return e.jsxs(e.Fragment,{children:[e.jsxs(b,{disableRipple:!0,color:"inherit",onClick:s.onOpen,endIcon:e.jsx(h,{icon:s.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold",textTransform:"capitalize"},children:["Sort by:",e.jsx(A,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold"},children:o})]}),c()]})}function D({redirectPath:o,sx:a}){const i=R(),[s,c]=l.useState(""),[r,g]=l.useState(null),u=W(s),{searchResults:f,searchLoading:p}=H(u),j=l.useCallback(t=>{g(t),t&&i.push(o(t.title))},[o,i]),y={width:320,[` .${m.listbox}`]:{[` .${m.option}`]:{p:0,[` .${B.root}`]:{p:.75,gap:1.5,width:1,display:"flex",alignItems:"center"}}}};return e.jsx(E,{autoHighlight:!0,popupIcon:null,loading:p,options:f,value:r,onChange:(t,n)=>j(n),onInputChange:(t,n)=>c(n),getOptionLabel:t=>t.title,noOptionsText:e.jsx(z,{query:u}),isOptionEqualToValue:(t,n)=>t.id===n.id,slotProps:{paper:{sx:y}},sx:[{width:{xs:1,sm:260}},...Array.isArray(a)?a:[a]],renderInput:t=>e.jsx(Q,{...t,placeholder:"Pesquisar...",slotProps:{input:{...t.InputProps,startAdornment:e.jsx($,{position:"start",children:e.jsx(h,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:e.jsxs(e.Fragment,{children:[p?e.jsx(h,{icon:"svg-spinners:8-dots-rotate",sx:{mr:-3}}):null,t.InputProps.endAdornment]})}}}),renderOption:(t,n,{inputValue:x})=>{const v=L(n.title,x),I=T(n.title,v);return l.createElement("li",{...t,key:n.id},e.jsxs(M,{component:O,href:o(n.title),color:"inherit",underline:"none",children:[e.jsx(F,{alt:n.title,src:n.coverUrl,variant:"rounded",sx:{width:48,height:48,flexShrink:0,borderRadius:1}},n.id),e.jsx("div",{children:I.map((d,S)=>e.jsx(q,{component:"span",color:d.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:d.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:d.text},S))},x)]}))}})}export{D as P,V as a};
