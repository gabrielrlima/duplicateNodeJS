import{V as M,Y as k,y,z as _,O as c,r as G,cN as z,p as j,j as a,F as L,G as e,T as d,S as m,K as o,eK as $,b3 as u,eL as H,B as Q,N as I,I as Y,c3 as l,Q as i,bn as n,cV as K,bj as W,bm as X,ee as b,eJ as Z,H as aa,C as ea}from"./index-cNRh_qft.js";import{u as oa}from"./use-params-DYuE92tD.js";import{d as sa,c as ia,a as na}from"./property-_4o4UaMH.js";import"./empty-content-BzM3Az2z.js";import"./filters-result-BTXXEhsP.js";import{s as la}from"./schema-helper-D18en8Wv.js";import{C as x}from"./Card-C_-31fGp.js";import"./property-wizard-form-DbqQw6HI.js";import"./index-ChnT1xRF.js";import"./index-BDJJM9HW.js";import"./Grid-BAAHJ7js.js";const ra=c({titulo:i().min(1,{message:"Título é obrigatório!"}),descricao:i().min(1,{message:"Descrição é obrigatória!"}),area:l.number().positive({message:"Área deve ser maior que 0!"}),preco:l.number().positive({message:"Preço deve ser maior que 0!"}),status:i().min(1,{message:"Status é obrigatório!"}),tipo:i().min(1,{message:"Tipo é obrigatório!"}),condicao:i().min(1,{message:"Condição é obrigatória!"}),negociavel:n(),observacoes:i().optional(),imagens:la.files({message:"Imagens são obrigatórias!"}),localizacao:c({endereco:i().min(1,{message:"Endereço é obrigatório!"}),numero:i().min(1,{message:"Número é obrigatório!"}),complemento:i().optional(),bairro:i().min(1,{message:"Bairro é obrigatório!"}),cidade:i().min(1,{message:"Cidade é obrigatória!"}),estado:i().min(1,{message:"Estado é obrigatório!"}),cep:i().min(8,{message:"CEP deve ter 8 dígitos!"})}),proprietario:c({nome:i().min(1,{message:"Nome do proprietário é obrigatório!"}),email:i().email({message:"Email deve ser válido!"}),telefone:i().min(1,{message:"Telefone é obrigatório!"}),documento:i().min(1,{message:"Documento é obrigatório!"})}),caracteristicas:c({quartos:l.number().min(0,{message:"Quantidade de quartos deve ser maior ou igual a 0!"}),banheiros:l.number().min(1,{message:"Deve ter pelo menos 1 banheiro!"}),suites:l.number().min(0).optional(),vagasGaragem:l.number().min(0).optional(),andar:i().optional(),elevador:n().optional(),mobiliado:n().optional()}),comodidades:c({varanda:n().optional(),churrasqueira:n().optional(),piscina:n().optional(),arCondicionado:n().optional(),cozinhaAmericana:n().optional(),jardim:n().optional(),playground:n().optional(),piscinaCondominio:n().optional(),churrasqueiraCondominio:n().optional(),academia:n().optional(),salaoFestas:n().optional(),lavanderia:n().optional(),espacoGourmet:n().optional(),recepcao24h:n().optional(),rampasAcesso:n().optional(),salaoJogos:n().optional(),quadraEsportes:n().optional(),sauna:n().optional(),brinquedoteca:n().optional(),corrimao:n().optional(),vagaDeficiente:n().optional(),areaVerde:n().optional()}),valores:c({valorCondominio:l.number().min(0).optional(),valorIPTU:l.number().min(0).optional(),aceitaFinanciamento:n().optional(),aceitaFGTS:n().optional()}),codigo:i(),precoM2:l.number()});function da({currentProperty:s}){var S,E,w,F,q,A;const g=M(),v=k(),N={codigo:"PROP-001",titulo:"",descricao:"",area:0,preco:0,precoM2:0,status:"Em andamento",tipo:"Apartamento",condicao:"novo",negociavel:!1,observacoes:"",imagens:[],localizacao:{endereco:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",cep:""},proprietario:{nome:"",email:"",telefone:"",documento:""},caracteristicas:{quartos:0,banheiros:1,suites:0,vagasGaragem:0,andar:"",elevador:!1,mobiliado:!1},comodidades:{varanda:!1,churrasqueira:!1,piscina:!1,arCondicionado:!1,cozinhaAmericana:!1,jardim:!1,playground:!1,piscinaCondominio:!1,churrasqueiraCondominio:!1,academia:!1,salaoFestas:!1,lavanderia:!1,espacoGourmet:!1,recepcao24h:!1,rampasAcesso:!1,salaoJogos:!1,quadraEsportes:!1,sauna:!1,brinquedoteca:!1,corrimao:!1,vagaDeficiente:!1,areaVerde:!1},valores:{valorCondominio:0,valorIPTU:0,aceitaFinanciamento:!1,aceitaFGTS:!1}},T=y({mode:"all",resolver:_(ra),defaultValues:N,values:s?{codigo:s.id||"PROP-001",titulo:s.title||"",descricao:s.description||"",area:s.area||0,preco:s.value||0,precoM2:s.pricePerSquareMeter||0,status:s.status||"Em andamento",tipo:s.tipo||"apartamento",condicao:((S=s.caracteristicas)==null?void 0:S.condicao)||"novo",negociavel:!1,observacoes:s.description||"",imagens:s.imagens||[],localizacao:{endereco:s.address||"",numero:s.number||"",complemento:s.complement||"",bairro:s.neighborhood||"",cidade:s.city||"",estado:s.state||"",cep:s.zipCode||""},proprietario:{nome:((E=s.owner)==null?void 0:E.name)||"",email:((w=s.owner)==null?void 0:w.email)||"",telefone:((F=s.owner)==null?void 0:F.phone)||"",documento:((q=s.owner)==null?void 0:q.document)||""},caracteristicas:{quartos:s.bedrooms||0,banheiros:s.bathrooms||1,suites:s.suites||0,vagasGaragem:s.parkingSpaces||0,andar:((A=s.caracteristicas)==null?void 0:A.andar)||"",elevador:s.elevator||!1,mobiliado:s.furnished||!1},comodidades:{varanda:!1,churrasqueira:!1,piscina:!1,arCondicionado:!1,cozinhaAmericana:!1,jardim:!1,playground:!1,piscinaCondominio:!1,churrasqueiraCondominio:!1,academia:!1,salaoFestas:!1,lavanderia:!1,espacoGourmet:!1,recepcao24h:!1,rampasAcesso:!1,salaoJogos:!1,quadraEsportes:!1,sauna:!1,brinquedoteca:!1,corrimao:!1,vagaDeficiente:!1,areaVerde:!1},valores:{valorCondominio:s.condominiumFee||0,valorIPTU:s.iptu||0,aceitaFinanciamento:s.acceptsFinancing||!1,aceitaFGTS:s.acceptsExchange||!1}}:void 0}),{reset:R,watch:B,setValue:p,handleSubmit:P,formState:{isSubmitting:O}}=T,t=B(),V=G.useCallback(r=>{var f;const h=t.imagens&&((f=t.imagens)==null?void 0:f.filter(J=>J!==r));p("imagens",h)},[p,t.imagens]),D=G.useCallback(()=>{p("imagens",[],{shouldValidate:!0})},[p]),C=()=>{t.area>0&&t.preco>0&&p("precoM2",t.preco/t.area)},U=P(async r=>{v.onTrue();try{s?(await sa(s.id,r),z.success("Imóvel atualizado com sucesso!")):(await ia(r),z.success("Imóvel criado com sucesso!")),R(),v.onFalse(),g.push(j.dashboard.property.root),console.info("DATA",JSON.stringify(r,null,2))}catch(h){console.error(h);const f=h instanceof Error?h.message:"Erro ao salvar imóvel!";z.error(f),v.onFalse()}});return a.jsxs(L,{methods:T,children:[a.jsxs(e,{container:!0,spacing:3,children:[a.jsxs(e,{size:{xs:12,md:8},children:[a.jsxs(x,{sx:{p:3},children:[a.jsx(d,{variant:"h6",sx:{mb:3},children:"Informações Básicas"}),a.jsxs(m,{spacing:3,children:[a.jsx(o.Text,{name:"titulo",label:"Título do imóvel",placeholder:"Ex: Apartamento 3 quartos com vista para o mar"}),a.jsx(o.Text,{name:"descricao",label:"Descrição",multiline:!0,rows:3,placeholder:"Descreva as principais características e diferenciais do imóvel..."}),a.jsxs(e,{container:!0,spacing:2,children:[a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Text,{name:"area",label:"Área (m²)",type:"number",placeholder:"120",onBlur:C})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Text,{name:"preco",label:"Preço (R$)",type:"number",placeholder:"450000",onBlur:C})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Text,{name:"precoM2",label:"Preço/m² (R$)",type:"number",disabled:!0})})]}),a.jsxs(e,{container:!0,spacing:2,children:[a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Select,{name:"tipo",label:"Tipo de Imóvel",children:$.map(r=>a.jsx(u,{value:r.value,children:r.label},r.value))})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsxs(o.Select,{name:"condicao",label:"Condição",children:[a.jsx(u,{value:"novo",children:"Novo"}),a.jsx(u,{value:"usado",children:"Usado"}),a.jsx(u,{value:"reformado",children:"Reformado"})]})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Select,{name:"status",label:"Status",children:H.map(r=>a.jsx(u,{value:r.value,children:r.label},r.value))})})]}),a.jsx(o.Switch,{name:"negociavel",label:"Preço negociável"}),a.jsx(o.Text,{name:"observacoes",label:"Observações",multiline:!0,rows:2,placeholder:"Informações adicionais sobre o imóvel..."})]})]}),a.jsxs(x,{sx:{p:3,mt:3},children:[a.jsx(d,{variant:"h6",sx:{mb:3},children:"Localização"}),a.jsxs(m,{spacing:3,children:[a.jsxs(e,{container:!0,spacing:2,children:[a.jsx(e,{size:{xs:12,md:8},children:a.jsx(o.Text,{name:"localizacao.endereco",label:"Endereço",placeholder:"Rua das Flores"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Text,{name:"localizacao.numero",label:"Número",placeholder:"123"})})]}),a.jsxs(e,{container:!0,spacing:2,children:[a.jsx(e,{size:{xs:12,md:6},children:a.jsx(o.Text,{name:"localizacao.complemento",label:"Complemento",placeholder:"Apto 45, Bloco B"})}),a.jsx(e,{size:{xs:12,md:6},children:a.jsx(o.Text,{name:"localizacao.bairro",label:"Bairro",placeholder:"Centro"})})]}),a.jsxs(e,{container:!0,spacing:2,children:[a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Text,{name:"localizacao.cidade",label:"Cidade",placeholder:"São Paulo"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Text,{name:"localizacao.estado",label:"Estado",placeholder:"SP"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Text,{name:"localizacao.cep",label:"CEP",placeholder:"01234-567"})})]})]})]}),a.jsxs(x,{sx:{p:3,mt:3},children:[a.jsx(d,{variant:"h6",sx:{mb:3},children:"Características do Imóvel"}),a.jsxs(m,{spacing:3,children:[a.jsxs(e,{container:!0,spacing:2,children:[a.jsx(e,{size:{xs:12,md:3},children:a.jsx(o.Text,{name:"caracteristicas.quartos",label:"Quartos",type:"number",placeholder:"3"})}),a.jsx(e,{size:{xs:12,md:3},children:a.jsx(o.Text,{name:"caracteristicas.banheiros",label:"Banheiros",type:"number",placeholder:"2"})}),a.jsx(e,{size:{xs:12,md:3},children:a.jsx(o.Text,{name:"caracteristicas.suites",label:"Suítes",type:"number",placeholder:"1"})}),a.jsx(e,{size:{xs:12,md:3},children:a.jsx(o.Text,{name:"caracteristicas.vagasGaragem",label:"Vagas Garagem",type:"number",placeholder:"2"})})]}),a.jsxs(e,{container:!0,spacing:2,children:[a.jsx(e,{size:{xs:12,md:6},children:a.jsx(o.Text,{name:"caracteristicas.andar",label:"Andar",placeholder:"5º andar"})}),a.jsx(e,{size:{xs:12,md:3},children:a.jsx(o.Switch,{name:"caracteristicas.elevador",label:"Elevador"})}),a.jsx(e,{size:{xs:12,md:3},children:a.jsx(o.Switch,{name:"caracteristicas.mobiliado",label:"Mobiliado"})})]})]})]}),a.jsxs(x,{sx:{p:3,mt:3},children:[a.jsx(d,{variant:"h6",sx:{mb:3},children:"Comodidades"}),a.jsxs(m,{spacing:3,children:[a.jsx(d,{variant:"subtitle2",children:"Comodidades do Imóvel"}),a.jsxs(e,{container:!0,spacing:2,children:[a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.varanda",label:"Varanda"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.churrasqueira",label:"Churrasqueira"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.piscina",label:"Piscina"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.arCondicionado",label:"Ar Condicionado"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.cozinhaAmericana",label:"Cozinha Americana"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.jardim",label:"Jardim"})})]}),a.jsx(d,{variant:"subtitle2",sx:{mt:3},children:"Comodidades do Condomínio"}),a.jsxs(e,{container:!0,spacing:2,children:[a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.playground",label:"Playground"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.piscinaCondominio",label:"Piscina"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.churrasqueiraCondominio",label:"Churrasqueira"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.academia",label:"Academia"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.salaoFestas",label:"Salão de Festas"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.lavanderia",label:"Lavanderia"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.espacoGourmet",label:"Espaço Gourmet"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.recepcao24h",label:"Recepção 24h"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.quadraEsportes",label:"Quadra de Esportes"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.sauna",label:"Sauna"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.brinquedoteca",label:"Brinquedoteca"})}),a.jsx(e,{size:{xs:12,md:4},children:a.jsx(o.Switch,{name:"comodidades.areaVerde",label:"Área Verde"})})]})]})]}),a.jsxs(x,{sx:{p:3,mt:3},children:[a.jsx(d,{variant:"h6",sx:{mb:3},children:"Valores Adicionais"}),a.jsxs(m,{spacing:3,children:[a.jsxs(e,{container:!0,spacing:2,children:[a.jsx(e,{size:{xs:12,md:6},children:a.jsx(o.Text,{name:"valores.valorCondominio",label:"Valor do Condomínio (R$)",type:"number",placeholder:"350"})}),a.jsx(e,{size:{xs:12,md:6},children:a.jsx(o.Text,{name:"valores.valorIPTU",label:"Valor do IPTU (R$)",type:"number",placeholder:"120"})})]}),a.jsxs(e,{container:!0,spacing:2,children:[a.jsx(e,{size:{xs:12,md:6},children:a.jsx(o.Switch,{name:"valores.aceitaFinanciamento",label:"Aceita Financiamento"})}),a.jsx(e,{size:{xs:12,md:6},children:a.jsx(o.Switch,{name:"valores.aceitaFGTS",label:"Aceita FGTS"})})]})]})]}),a.jsxs(x,{sx:{p:3,mt:3},children:[a.jsx(d,{variant:"h6",sx:{mb:3},children:"Fotos do Imóvel"}),a.jsxs(m,{spacing:1.5,children:[a.jsx(d,{variant:"subtitle2",children:"Adicione fotos do imóvel"}),a.jsx(o.Upload,{multiple:!0,thumbnail:!0,name:"imagens",maxSize:3145728,onRemove:V,onRemoveAll:D,onUpload:()=>console.info("ON UPLOAD"),helperText:"Tamanho máximo: 3MB por arquivo • Formatos aceitos: JPG, PNG, WEBP"})]})]})]}),a.jsx(e,{size:{xs:12,md:4},children:a.jsxs(x,{sx:{p:3},children:[a.jsx(d,{variant:"h6",sx:{mb:3},children:"Proprietário"}),a.jsxs(m,{spacing:3,children:[a.jsx(o.Text,{name:"proprietario.nome",label:"Nome Completo",placeholder:"João Silva Santos"}),a.jsx(o.Text,{name:"proprietario.email",label:"E-mail",type:"email",placeholder:"joao@email.com"}),a.jsx(o.Phone,{name:"proprietario.telefone",label:"Telefone",country:"BR",placeholder:"(11) 99999-9999"}),a.jsx(o.Document,{name:"proprietario.documento",label:"CPF/CNPJ"})]})]})})]}),a.jsxs(Q,{sx:{mt:3,gap:2,display:"flex",justifyContent:"center"},children:[a.jsx(I,{color:"inherit",size:"large",variant:"outlined",onClick:()=>g.push(j.dashboard.property.root),children:"Cancelar"}),a.jsxs(I,{size:"large",variant:"contained",loading:v.value&&O,onClick:U,startIcon:a.jsx(Y,{icon:"solar:save-bold"}),children:[s?"Atualizar":"Criar"," Imóvel"]})]})]})}function ca({property:s}){return a.jsxs(K,{children:[a.jsx(W,{heading:"Editar",backHref:j.dashboard.property.root,links:[{name:"Dashboard",href:j.dashboard.root},{name:"Propriedades",href:j.dashboard.property.root},{name:s==null?void 0:s.title}],sx:{mb:{xs:3,md:5}}}),a.jsx(da,{currentProperty:s})]})}c({titulo:i().min(1,"Título é obrigatório"),descricao:i().optional(),preco:l.number().min(.01,"Preço deve ser maior que zero"),precoNegociavel:n().optional(),area:l.number().optional(),finalidade:b(["venda","aluguel","venda_aluguel"]).default("venda"),tipo:b(["apartamento","casa","sobrado","cobertura","kitnet","loft","chacara","fazenda","sitio","comercial","industrial"]).default("apartamento"),status:b(["available","sold","reserved"]).default("available"),condicao:b(["novo","seminovo","usado","reformado","a_reformar"]).default("usado"),quartos:l.number().min(0).optional(),banheiros:l.number().min(0).optional(),vagasGaragem:l.number().min(0).optional(),mobiliado:n().optional(),endereco:c({rua:i().min(1,"Rua é obrigatória"),numero:i().min(1,"Número é obrigatório"),complemento:i().optional(),bairro:i().min(1,"Bairro é obrigatório"),cidade:i().min(1,"Cidade é obrigatória"),estado:i().min(2,"Estado é obrigatório").max(2,"Use a sigla do estado"),cep:i().min(8,"CEP deve ter 8 dígitos"),andar:i().optional(),nomeEdificio:i().optional(),posicaoSolar:b(["norte","sul","leste","oeste","nordeste","noroeste","sudeste","sudoeste"]).optional()}),suites:l.number().min(0).optional(),anoConstucao:i().optional(),elevador:n().optional(),sacada:n().optional(),temDocumentacao:n().default(!1),imagens:X(Z(File)).optional(),proprietario:c({nome:i().min(1,"Nome do proprietário é obrigatório"),email:i().email("Email inválido").min(1,"Email é obrigatório"),telefone:i().min(1,"Telefone é obrigatório"),documento:i().min(1,"CPF/CNPJ é obrigatório")})});const ta={title:`Property edit | Dashboard - ${ea.appName}`};function Ta(){const{id:s=""}=oa(),{property:g}=na(s);return a.jsxs(a.Fragment,{children:[a.jsx(aa,{children:a.jsxs("title",{children:[" ",ta.title]})}),a.jsx(ca,{property:g})]})}export{Ta as default};
