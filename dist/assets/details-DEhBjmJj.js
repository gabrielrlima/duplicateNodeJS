import{b0 as R,j as s,B as i,f as C,R as k,I as t,a_ as O,a1 as W,N as q,b1 as G,b2 as $,b3 as F,S as b,T as e,D as v,aK as H,bc as I,aP as V,a$ as D,G as f,az as S,r as y,k as _,cV as E,p as P,fi as U,l as K,U as Q,n as Y,fj as J,H as X,C as Z}from"./index-cNRh_qft.js";import{u as ss}from"./use-params-DYuE92tD.js";import{E as rs}from"./empty-content-BzM3Az2z.js";import"./filters-result-BTXXEhsP.js";import"./empreendimento-new-edit-form-xY2RBQ4E.js";import{C as T}from"./Card-C_-31fGp.js";import{C as as}from"./CardContent-BPfTDHT5.js";import{u as es,L as os}from"./use-light-box-Bxjny2_T.js";import{d as is,C as ns,e as ts,f as ls}from"./carousel-arrow-buttons-DjkKkmSg.js";import{u as cs}from"./use-carousel-CqeMadty.js";import{M as ds}from"./markdown-sdGgeBYa.js";import"./schema-helper-D18en8Wv.js";import"./CardHeader-CZZHKPlX.js";import"./AccordionDetails-C25973Gc.js";import"./html-to-markdown-wPkGdeP1.js";function xs({sx:a,publish:r,backHref:c,editHref:o,publishOptions:d,onChangePublish:n,...h}){const x=R(),l=()=>s.jsx(G,{open:x.open,anchorEl:x.anchorEl,onClose:x.onClose,slotProps:{arrow:{placement:"top-right"}},children:s.jsx($,{children:d.map(p=>s.jsxs(F,{selected:p.value===r,onClick:()=>{x.onClose(),n(p.value)},children:[p.value==="published"&&s.jsx(t,{icon:"eva:cloud-upload-fill"}),p.value==="draft"&&s.jsx(t,{icon:"solar:file-text-bold"}),p.label]},p.value))})});return s.jsxs(s.Fragment,{children:[s.jsxs(i,{sx:[{gap:1.5,display:"flex",mb:{xs:3,md:5}},...Array.isArray(a)?a:[a]],...h,children:[s.jsx(C,{component:k,href:c,startIcon:s.jsx(t,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Voltar"}),s.jsx(i,{sx:{flexGrow:1}}),s.jsx(O,{title:"Editar",children:s.jsx(W,{component:k,href:o,children:s.jsx(t,{icon:"solar:pen-bold"})})}),s.jsx(q,{color:"inherit",variant:"contained",loading:!r,loadingIndicator:"Carregando…",endIcon:s.jsx(t,{icon:"eva:arrow-ios-downward-fill"}),onClick:x.onOpen,sx:{textTransform:"capitalize"},children:r==="published"?"Publicado":"Rascunho"})]}),l()]})}function hs({empreendimento:a}){const{nome:r,titulo:c,status:o,preco:d,cidade:n,estado:h,tipoEmpreendimento:x,construtora:l,criadoEm:p,plantas:j,beneficios:w,diferenciaisEdificio:m,diferenciaisApartamento:g}=a,A=()=>s.jsx(i,{sx:{typography:"h5"},children:d!=null&&d.valor?s.jsxs(s.Fragment,{children:[D(d.valor),d.negociavel&&s.jsx(e,{variant:"caption",sx:{ml:1,color:"text.secondary"},children:"(Negociável)"})]}):"Consulte valores"}),z=()=>s.jsx(V,{variant:"soft",color:o==="Lançamento"&&"info"||o==="Em construção"&&"warning"||o==="Pronto para morar"&&"success"||"default",children:o}),M=()=>s.jsxs(b,{spacing:1.5,children:[s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(t,{icon:"solar:buildings-3-bold",width:20}),s.jsx(e,{variant:"body2",children:x})]}),s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(t,{icon:"solar:map-point-bold",width:20}),s.jsxs(e,{variant:"body2",children:[n,", ",h]})]}),s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(t,{icon:"solar:home-bold",width:20}),s.jsx(e,{variant:"body2",children:l==null?void 0:l.name})]}),p&&s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(t,{icon:"solar:calendar-bold",width:20}),s.jsxs(e,{variant:"body2",children:["Criado em ",H(p)]})]}),s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(t,{icon:"solar:document-bold",width:20}),s.jsxs(e,{variant:"body2",children:[(j==null?void 0:j.length)||0," ",(j==null?void 0:j.length)===1?"planta":"plantas"," disponível",(j==null?void 0:j.length)!==1?"is":""]})]})]}),N=()=>s.jsxs(b,{spacing:1,children:[s.jsx(e,{variant:"subtitle2",children:"Benefícios"}),s.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:(w==null?void 0:w.map(u=>s.jsx(I,{label:u,size:"small",variant:"outlined"},u)))||s.jsx(e,{variant:"body2",color:"text.secondary",children:"Nenhum benefício informado"})})]}),B=()=>s.jsxs(b,{spacing:1,children:[s.jsx(e,{variant:"subtitle2",children:"Diferenciais"}),m&&m.length>0&&s.jsxs(i,{children:[s.jsx(e,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Edifício:"}),s.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:m.map(u=>s.jsx(I,{label:u,size:"small",color:"primary",variant:"outlined"},u))})]}),g&&g.length>0&&s.jsxs(i,{children:[s.jsx(e,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Apartamento:"}),s.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:g.map(u=>s.jsx(I,{label:u,size:"small",color:"secondary",variant:"outlined"},u))})]}),!(m!=null&&m.length)&&!(g!=null&&g.length)&&s.jsx(e,{variant:"body2",color:"text.secondary",children:"Nenhum diferencial informado"})]}),L=()=>s.jsxs(b,{spacing:2,children:[s.jsx(C,{fullWidth:!0,size:"large",color:"primary",variant:"contained",startIcon:s.jsx(t,{icon:"solar:phone-bold"}),children:"Entrar em contato"}),s.jsx(C,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",startIcon:s.jsx(t,{icon:"solar:bookmark-bold"}),children:"Salvar nos favoritos"})]});return s.jsxs(b,{spacing:3,sx:{pt:3},children:[s.jsxs(b,{spacing:2,children:[s.jsx(e,{variant:"h4",children:r||c}),z(),A()]}),s.jsx(v,{sx:{borderStyle:"dashed"}}),M(),s.jsx(v,{sx:{borderStyle:"dashed"}}),N(),s.jsx(v,{sx:{borderStyle:"dashed"}}),B(),s.jsx(v,{sx:{borderStyle:"dashed"}}),L()]})}function ps({plantas:a}){return!a||a.length===0?s.jsxs(i,{sx:{p:3,textAlign:"center"},children:[s.jsx(t,{icon:"solar:document-bold",width:48,sx:{color:"text.disabled",mb:2}}),s.jsx(e,{variant:"h6",color:"text.secondary",children:"Nenhuma planta disponível"}),s.jsx(e,{variant:"body2",color:"text.disabled",children:"As plantas deste empreendimento ainda não foram cadastradas."})]}):s.jsx(i,{sx:{p:3},children:s.jsx(f,{container:!0,spacing:3,children:a.map((r,c)=>s.jsx(f,{size:{xs:12,sm:6,md:4},children:s.jsxs(T,{sx:{height:"100%"},children:[r.imagens&&r.imagens.length>0&&s.jsx(S,{src:r.imagens[0],alt:r.nome||`Planta ${c+1}`,ratio:"4/3",sx:{borderRadius:"8px 8px 0 0"}}),s.jsx(as,{children:s.jsxs(b,{spacing:2,children:[s.jsx(e,{variant:"h6",children:r.nome||`Planta ${c+1}`}),r.descricao&&s.jsx(e,{variant:"body2",color:"text.secondary",children:r.descricao}),s.jsxs(b,{spacing:1,children:[r.quartos&&s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(t,{icon:"solar:bed-bold",width:16}),s.jsxs(e,{variant:"body2",children:[r.quartos," ",r.quartos===1?"quarto":"quartos"]})]}),r.banheiros&&s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(t,{icon:"solar:bath-bold",width:16}),s.jsxs(e,{variant:"body2",children:[r.banheiros," ",r.banheiros===1?"banheiro":"banheiros"]})]}),r.area&&s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(t,{icon:"solar:ruler-bold",width:16}),s.jsxs(e,{variant:"body2",children:[r.area,"m²"]})]}),r.vagas&&s.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(t,{icon:"solar:car-bold",width:16}),s.jsxs(e,{variant:"body2",children:[r.vagas," ",r.vagas===1?"vaga":"vagas"]})]})]}),r.preco&&s.jsx(i,{sx:{pt:1,borderTop:"1px dashed",borderColor:"divider"},children:s.jsxs(e,{variant:"h6",color:"primary",children:[D(r.preco.valor),r.preco.negociavel&&s.jsx(e,{variant:"caption",sx:{ml:1,color:"text.secondary"},children:"(Negociável)"})]})})]})})]})},c))})})}function js({images:a}){var d;const r=cs({thumbs:{slidesToShow:"auto"}}),c=(a==null?void 0:a.map(n=>({src:n})))||[],o=es(c);return y.useEffect(()=>{var n;o.open&&((n=r.mainApi)==null||n.scrollTo(o.selected,!0))},[r.mainApi,o.open,o.selected]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs(i,{sx:{mb:2.5,position:"relative"},children:[s.jsx(is,{...r.arrows,options:r.options,totalSlides:r.dots.dotCount,selectedIndex:r.dots.selectedIndex+1,sx:{right:16,bottom:16,position:"absolute"}}),s.jsx(ns,{carousel:r,sx:{borderRadius:2},children:c.map(n=>s.jsx(S,{alt:n.src,src:n.src,ratio:"1/1",onClick:()=>o.onOpen(n.src),sx:{cursor:"zoom-in",minWidth:320}},n.src))})]}),s.jsx(ts,{ref:r.thumbs.thumbsRef,options:(d=r.options)==null?void 0:d.thumbs,slotProps:{disableMask:!0},sx:{width:360},children:c.map((n,h)=>s.jsx(ls,{index:h,src:n.src,selected:h===r.thumbs.selectedIndex,onClick:()=>r.thumbs.onClickThumb(h)},n.src))})]}),s.jsx(os,{index:o.selected,slides:c,open:o.open,close:o.onClose,onGetCurrentIndex:n=>o.setSelected(n)})]})}function us({description:a,sx:r}){return s.jsx(ds,{children:a,sx:[()=>({p:3,"& p, li, ol, table":{typography:"body2"},"& table":{mt:2,maxWidth:640,"& td":{px:2},"& td:first-of-type":{color:"text.secondary"},"tbody tr:nth-of-type(odd)":{bgcolor:"transparent"}}}),...Array.isArray(r)?r:[r]]})}const bs=[{title:"Localização privilegiada",description:"Empreendimento localizado em área nobre com fácil acesso a comércios e serviços.",icon:"solar:map-point-bold"},{title:"Entrega garantida",description:"Cronograma de entrega rigorosamente cumprido pela construtora.",icon:"solar:clock-circle-bold"},{title:"Qualidade certificada",description:"Materiais de primeira qualidade e acabamentos premium.",icon:"solar:shield-check-bold"}];function ms({empreendimento:a,error:r,loading:c}){var x;const o=_("description"),[d,n]=y.useState("");y.useEffect(()=>{a&&n((a==null?void 0:a.publish)||"published")},[a]);const h=y.useCallback(l=>{n(l)},[]);return c?s.jsx(E,{sx:{pt:5},children:s.jsx(e,{children:"Carregando..."})}):r||!a?s.jsx(E,{sx:{pt:5},children:s.jsx(rs,{filled:!0,title:"Empreendimento não encontrado!",action:s.jsx(C,{component:k,href:P.dashboard.empreendimentos.root,startIcon:s.jsx(t,{width:16,icon:"eva:arrow-ios-back-fill"}),sx:{mt:3},children:"Voltar para lista"}),sx:{py:10,height:"auto",flexGrow:"unset"}})}):s.jsxs(E,{children:[s.jsx(xs,{backHref:P.dashboard.empreendimentos.root,editHref:P.dashboard.empreendimentos.edit(a.id),publish:d,onChangePublish:h,publishOptions:U}),s.jsxs(f,{container:!0,spacing:{xs:3,md:5,lg:8},children:[s.jsx(f,{size:{xs:12,md:6,lg:7},children:s.jsx(js,{images:a!=null&&a.avatar?[a.avatar]:[]})}),s.jsx(f,{size:{xs:12,md:6,lg:5},children:s.jsx(hs,{empreendimento:a})})]}),s.jsx(i,{sx:{gap:5,my:10,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"}},children:bs.map(l=>s.jsxs(i,{sx:{textAlign:"center",px:5},children:[s.jsx(t,{icon:l.icon,width:32,sx:{color:"primary.main"}}),s.jsx(e,{variant:"subtitle1",sx:{mb:1,mt:2},children:l.title}),s.jsx(e,{variant:"body2",sx:{color:"text.secondary"},children:l.description})]},l.title))}),s.jsxs(T,{children:[s.jsx(K,{value:o.value,onChange:o.onChange,sx:[l=>({px:3,boxShadow:`inset 0 -2px 0 0 ${Q(l.vars.palette.grey["500Channel"],.08)}`})],children:[{value:"description",label:"Descrição"},{value:"plantas",label:`Plantas (${((x=a==null?void 0:a.plantas)==null?void 0:x.length)||0})`}].map(l=>s.jsx(Y,{value:l.value,label:l.label},l.value))}),o.value==="description"&&s.jsx(us,{description:a==null?void 0:a.descricao}),o.value==="plantas"&&s.jsx(ps,{plantas:a==null?void 0:a.plantas})]})]})}const gs={title:`Detalhes do empreendimento | Dashboard - ${Z.appName}`};function Ns(){const{id:a=""}=ss(),r=J.find(o=>o.id===a),c=!r;return s.jsxs(s.Fragment,{children:[s.jsx(X,{children:s.jsxs("title",{children:[" ",gs.title]})}),s.jsx(ms,{empreendimento:r,loading:!1,error:c})]})}export{Ns as default};
